/*
jQWidgets v2.1.0 (2012-May-04)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx.jqxWidget("jqxChart","",{});a.extend(a.jqx._jqxChart.prototype,{createInstance:function(d){if(!a.jqx.dataAdapter){throw"jqxdata.js is not loaded";return}this._refreshOnDownloadComlete();this._internalRefresh();var c=this;this.host.bind("mousemove",function(f){if(this.enabled==false){return}f.preventDefault();var e=f.pageX||f.clientX||f.screenX;var h=f.pageY||f.clientY||f.screenY;var g=c.host.position();e-=g.left;h-=g.top;c.onmousemove(e,h)});if(this.element.style){var b=false;if(this.element.style.width!=null){b|=this.element.style.width.toString().indexOf("%")!=-1}if(this.element.style.height!=null){b|=this.element.style.height.toString().indexOf("%")!=-1}if(b){a(window).resize(function(){if(c.timer){clearTimeout(c.timer)}var e=a.browser.msie?200:1;c.timer=setTimeout(function(){var f=c.enableAnimations;c.enableAnimations=false;c.refresh();c.enableAnimations=f},e)})}}},_refreshOnDownloadComlete:function(){if(this.source instanceof a.jqx.dataAdapter){var c=this;var d=this.source._options;if(d==undefined||(d!=undefined&&!d.autoBind)){this.source.autoSync=false;this.source.dataBind()}if(this.source.records.length==0){var b=function(){if(c.ready){c.ready()}c.refresh()};this.source.unbindDownloadComplete(this.element.id);this.source.bindDownloadComplete(this.element.id,b)}else{if(c.ready){c.ready()}}this.source.unbindBindingUpdate(this.element.id);this.source.bindBindingUpdate(this.element.id,function(){c.refresh()})}},defineInstance:function(){this.source=new Array();this.seriesGroups=new Array();this.categoryAxis={}},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"){this._refreshOnDownloadComlete()}this.refresh()},_internalRefresh:function(){this.host.empty();this._renderData=new Array();var c=null;if(document.createElementNS){c=new a.jqx.svgRenderer()}else{c=new a.jqx.vmlRenderer();this._isVML=true}if(!c.init(this.host)){return}this.renderer=c;var b=this.renderer.getRect();this._render({x:1,y:1,width:b.width,height:b.height})},refresh:function(){this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","column","stackedcolumn","stackedcolumn100","pie","scatter","bubble"],_render:function(e){this.renderer.clear();if(this._getDataLen()==0){return}this._buildStats();var u=this.padding||{left:5,top:5,right:5,bottom:5};var l=this.renderer.rect(e.x,e.y,e.width-1,e.height-1);this.renderer.setAttr(l,"fill",this.background||"white");this.renderer.setAttrs(l,{"stroke-width":1,stroke:this.borderColor||"#888888"});var I={x:u.left,y:u.top,width:e.width-u.left-u.right,height:e.height-u.top-u.bottom};this._paddedRect=I;var b=this.titlePadding||{left:2,top:2,right:2,bottom:2};if(this.title&&this.title.length>0){var J=this.toThemeProperty("jqx-chart-title-text",null);var v=this.renderer.measureText(this.title,0,{"class":J});this.renderer.text(this.title,I.x+b.left,I.y+b.top,I.width-(b.left+b.right),v.height,0,{"class":J},true,"center","center");I.y+=v.height;I.height-=v.height}if(this.description&&this.description.length>0){var j=this.toThemeProperty("jqx-chart-title-description",null);var v=this.renderer.measureText(this.description,0,{"class":j});this.renderer.text(this.description,I.x+b.left,I.y+b.top,I.width-(b.left+b.right),v.height,0,{"class":j},true,"center","center");I.y+=v.height;I.height-=v.height}if(this.title||this.description){I.y+=(b.bottom+b.top);I.height-=(b.bottom+b.top)}var q={x:I.x,y:I.y,width:I.width,height:I.height};var f=0;var m=[];for(var D=0;D<this.seriesGroups.length;D++){var A=this.seriesGroups[D].valueAxis;if(!A){if(this.seriesGroups[D].type=="pie"){m.push(0);continue}throw"seriesGroup["+D+"] is missing valueAxis definition"}var s=A.axisSize;if(!s||s=="auto"){s=this._renderValueAxis(D,{x:0,y:q.y,width:q.width,height:q.height},true).width}if(D>0&&s>0){f+=5}m.push(s);f+=s}this._plotRect=q;var n=this.categoryAxis.axisSize;if(!n||n=="auto"){var t=this._renderCategoryAxis({x:0,y:0,width:10000000,height:0},true);n=t.height}var G=(this.showLegend!=false);var z=!G||this.legendLayout?{width:0,height:0}:this._renderLegend(I,true);if(I.height<n+z.height||I.width<f){return}q.height-=n+z.height;q.x+=f;q.width-=f;var C=this._isPieOnlySeries();if(!C){var d=this.categoryAxis.tickMarksColor||"#888888";if(f==0){var p=a.jqx._ptrnd(q.x);var k=this.renderer.line(p,a.jqx._ptrnd(q.y),p,a.jqx._ptrnd(q.y+q.height+5),{stroke:d,"stroke-width":1})}this._renderCategoryAxis({x:q.x,y:q.y+q.height,width:q.width,height:n},false,q)}if(G){var p=q.x+a.jqx._ptrnd((q.width-z.width)/2);var o=q.y+q.height+n;var s=q.width;var E=z.height;if(this.legendLayout){p=this.legendLayout.left||p;o=this.legendLayout.top||o;s=this.legendLayout.width||s;E=this.legendLayout.height||E}if(p+s>I.x+I.width){s=I.x+I.width-p}if(o+E>I.y+I.height){E=I.y+I.height-o}this._renderLegend({x:p,y:o,width:s,height:E})}this._hasHorizontalLines=false;if(!C){var L=q.x-f;for(var D=0;D<this.seriesGroups.length;D++){var s=m[D];if(D>0&&s>0){L+=5}this._renderValueAxis(D,{x:L,y:q.y,width:s,height:q.height},false);this._hasHorizontalLines=this._hasHorizontalLines||this._renderHorizontalGridLines(D,q);L+=s}}if(q.width<=0||q.height<=0){return}this._plotRect={x:q.x,y:q.y,width:q.width,height:q.height};var F=this.renderer.beginGroup();var H=this.renderer.createClipRect({x:q.x,y:q.y,width:q.width,height:q.height});this.renderer.setClip(F,H);for(var D=0;D<this.seriesGroups.length;D++){var K=this.seriesGroups[D];var B=false;for(var r in this._seriesTypes){if(this._seriesTypes[r]==K.type){B=true;break}}if(!B){throw'jqxChart: invalid series type "'+K.type+'"';continue}if(K.type.indexOf("column")!=-1){this._renderColumnSeries(D,q)}else{if(K.type.indexOf("pie")!=-1){this._renderPieSeries(D,q)}else{if(K.type.indexOf("line")!=-1||K.type.indexOf("area")!=-1){this._renderLineSeries(D,q)}else{if(K.type=="scatter"||K.type=="bubble"){this._renderScatterSeries(D,q)}}}}}this.renderer.endGroup();this._plotGroup=this.renderer._activeParent();if(this.enabled==false){var c=this.renderer.rect(e.x,e.y,e.width,e.height);this.renderer.setAttrs(c,{fill:"#777777",opacity:0.5,stroke:"#00FFFFFF"})}},_isPieOnlySeries:function(){if(this.seriesGroups.length==0){return false}for(var b=0;b<this.seriesGroups.length;b++){if(this.seriesGroups[b].type!="pie"){return false}}return true},_renderChartLegend:function(v,c,d,e){var n={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6};var j={width:n.width,height:0};var h=0,g=0;var f=20;var b=0;var o=10;var u=10;var s=0;for(var q=0;q<v.length;q++){var k=v[q].css;if(!k){k=this.toThemeProperty("jqx-chart-legend-text",null)}var l=v[q].text;var m=this.renderer.measureText(l,0,{"class":k});if(m.height>f){f=m.height}if(m.width>s){s=m.width}if(e){if(q!=0){g+=f}if(g>n.height){g=0;h+=s+u;s=m.width;j.width=h+s}}else{if(h!=0){h+=u}if(h+2*o+m.width>n.width&&m.width<n.width){h=0;g+=f;f=20;b=n.width;j.heigh=g+f}}if(!d){var p=v[q].color;var t=this.renderer.rect(n.x+h,n.y+g+o/2,o,o);this.renderer.setAttrs(t,{fill:p,stroke:p,"stroke-width":1});this.renderer.text(l,n.x+h+1.5*o,n.y+g,m.width,f,0,{"class":k},false,"center","center")}if(e){}else{h+=m.width+2*o;if(b<h){b=h}}}if(d){j.height=a.jqx._ptrnd(g+f);j.width=a.jqx._ptrnd(b);return j}},_renderLegend:function(l,j){var b=[];for(var o=0;o<this.seriesGroups.length;o++){var f=this.seriesGroups[o];for(var m=0;m<f.series.length;m++){var p=f.series[m];if(f.type=="pie"){var k=p.colorScheme||f.colorScheme||this.colorScheme;var c=this._getDataLen(o);for(var e=0;e<c;e++){var h=this._getDataValue(e,p.displayText,o);if(!h){h=this._getFormattedValue(o,m,e)}var d=this._getColor(k,m*c+e);b.push({text:h,css:p.displayTextClass,color:d})}continue}var n=p.displayText||p.dataField||"";var d=this._getSeriesColor(o,m);b.push({text:n,css:p.displayTextClass,color:d})}}return this._renderChartLegend(b,l,j,(this.legendLayout&&this.legendLayout.flow=="vertical"))},_renderCategoryAxis:function(d,f,g){var r={width:0,height:0};var e=this.categoryAxis;if(!e){return r}var t=e.text;if(!f){var o=a.jqx._ptrnd(d.y);var z=this.renderer.line(a.jqx._ptrnd(d.x),o,a.jqx._ptrnd(d.x+d.width+1),o,{stroke:B,"stroke-width":1})}var s=e["class"];if(!s){s=this.toThemeProperty("jqx-chart-axis-text",null)}var E=e.textRotationAngle||0;var k=this._calculateXOffsets(undefined,d);var h=k.itemWidth;var v=e.unitInterval;if(isNaN(v)){v=Math.max(1,Math.round(k.rangeLength/10))}var p=0;var H=this.categoryAxis.horizontalTextAlignment;var G=this._isPointSeriesOnly();if(G){p=-h*v/2;H="left"}var j=this.renderer.getRect();var b=j.width-d.x-d.width;var q=0;var A=k.customRange!=false;var l=v;for(var C=k.min;C<=k.max;C+=l,q+=l*h){if(A){value=C}else{value=this._getDataValue(C,this.categoryAxis.dataField)}var t=this._formatValue(value,this.categoryAxis.formatSettings,this.categoryAxis.formatFunction);if(t==undefined){t=!A?value.toString():(C).toString()}var u;if(f||C==k.max||G){u=this.renderer.measureText(t,E,{"class":s});if(u.height>r.height){r.height=u.height}}var w=G?-u.width/2:p;if(this.categoryAxis.textInsideIntervals==true){w=0;H="center"}if(!f&&(!u||q+u.width+w<d.width+b)){this.renderer.text(t,d.x+q+w,d.y+0,(G&&this.categoryAxis.textInsideIntervals!=true)?u.width:h*v,d.height,E,{"class":s},true,H,this.categoryAxis.verticalTextAlignment)}if(C+l>k.max){l=k.max-C;if(l==0){break}}}if(!f){var c=e.showGridLines!=false;var D=e.gridLinesColor||"#888888";var F=e.gridLinesInterval||e.unitInterval;if(isNaN(F)){F=v}for(var C=0;C<k.rangeLength+F;C+=F){if(C>k.rangeLength){C=k.rangeLength}var z=a.jqx._ptrnd(d.x+C*h);if(z<d.x||z>d.x+d.width){continue}if(c||(C==k.rangeLength&&this._hasHorizontalLines)){this.renderer.line(z,a.jqx._ptrnd(g.y),z,a.jqx._ptrnd(g.y+g.height),{stroke:D,"stroke-width":1})}}}var m=e.showTickMarks!=false;if(!f&&m){var B=e.tickMarksColor||"#888888";var n=e.tickMarksInterval||e.unitInterval;if(isNaN(n)){n=v}for(var C=0;C<k.rangeLength+n;C+=n){var z=a.jqx._ptrnd(d.x+C*h);if(z<d.x||z>d.x+d.width){continue}this.renderer.line(z,d.y,z,d.y+4,{stroke:B,"stroke-width":1})}}r.width=a.jqx._rup(r.width);r.height=a.jqx._rup(r.height+5);return r},_renderValueAxis:function(j,c,h){var F=this.seriesGroups[j];var d=F.valueAxis;var s={width:0,height:0};if(this._isPieOnlySeries()){if(h){return s}return}var o=this._stats.seriesGroups[j];if(!o||!o.isValid||false==d.displayValueAxis){if(h){return s}return}var k=d.tickMarksColor||"#888888";var e=F.type.indexOf("stacked")!=-1&&F.type.indexOf("100")!=-1;var m=d.showTickMarks;if(m==undefined){m=true}var q=c.x+c.width;q=a.jqx._ptrnd(q);if(m&&!h){this.renderer.line(q,c.y,q,c.y+c.height+5,{stroke:k,"stroke-width":1})}if(d.description){var l=d.descriptionClass;if(!l){l=this.toThemeProperty("jqx-chart-axis-description",null)}var v=this.renderer.measureText(d.description,-90,{"class":l});if(h){s.width+=v.width+5}else{this.renderer.text(d.description,c.x+2,c.y,c.width-5,c.height,-90,{"class":l},true,"left","center");c.x+=v.width+5;c.width-=v.width+5}}var b=d.dataField;var u=o.intervals;var C=o.min;var z=o.mu;var w=c.height/u;var r=d.itemsClass;if(!r){r=this.toThemeProperty("jqx-chart-axis-text",null)}var n=c.y+c.height-w;var E=d.formatSettings;if(e&&!E){E={sufix:"%"}}var f=0;var G=d.textRotationAngle||0;for(var D=0;D<=u;D++){var A=C+D*z;var t=this._formatNumber(A,E);if(h){var v=this.renderer.measureText(t,G,{"class":r});if(f<v.width){f=v.width}}else{var H=this.renderer.text(t,c.x,n+w/2,c.width-4,w,G,{"class":r},false,"center","center")}n-=w}if(h){s.width+=f+5+(m?3:0);s.height=a.jqx._rup(c.height);s.width=a.jqx._rup(s.width);return s}if(m==undefined||m){var B=c.height/o.tickMarksIntervals;n=c.y;while(n<c.y+c.height){var p=a.jqx._ptrnd(n);this.renderer.line(q-3,p,q,p,{stroke:k,"stroke-width":1});n+=B}}},_renderHorizontalGridLines:function(k,j){var d=this.seriesGroups[k].valueAxis;if(!d||d.showGridLines==false){return false}var b=d.gridLinesColor||d.tickMarksColor||"#888888";var f=this._stats.seriesGroups[k];if(!f||!f.isValid||false==d.displayValueAxis||false==d.showGridLines){return false}var g=f.gridLinesIntervals;var h=j.height/g;var e=j.y;var c=h;while(e<j.y+j.height+1){var i=a.jqx._ptrnd(e);this.renderer.line(a.jqx._ptrnd(j.x),i,a.jqx._ptrnd(j.x+j.width),i,{stroke:b,"stroke-width":1});if(e+c>j.y+j.height){c=j.y+j.height-e}if(c==0){break}e+=c}return true},_buildStats:function(){var E={seriesGroups:new Array()};this._stats=E;for(var A=0;A<this.seriesGroups.length;A++){var n=this.seriesGroups[A];E.seriesGroups[A]={};var d=E.seriesGroups[A];d.isValid=true;var b=n.valueAxis!=undefined;var o=-1!=n.type.indexOf("stacked");var f=o&&-1!=n.type.indexOf("100");if(f){d.psums=new Array();d.nsums=new Array()}var c=NaN,e=NaN;var C=NaN,F=NaN;var B=n.baselineValue||0;var z=this._getDataLen(A);var l=0;for(var y=0;y<z&&d.isValid;y++){var v=b?n.valueAxis.minValue:0;var x=b?n.valueAxis.maxValue:0;var j=0,k=0;if(typeof(v)!="number"){v=NaN}if(typeof(x)!="number"){x=NaN}for(var t=0;t<n.series.length;t++){var G=this._getDataValueAsNumber(y,n.series[t].dataField,A);if(isNaN(G)){throw"jqxChart: Data source contains invalid value at Index: "+y+", DataField: "+n.series[t].dataField;d.isValid=false;break}if((G>x||isNaN(x))&&((!b||isNaN(n.valueAxis.maxValue))?true:G<=n.valueAxis.maxValue)){x=G}if((G<v||isNaN(v))&&((!b||isNaN(n.valueAxis.minValue))?true:G>=n.valueAxis.minValue)){v=G}if(G>B){j+=G}else{if(G<B){k+=G}}}var r=j-k;if(l<r){l=r}if(f){d.psums[y]=j;d.nsums[y]=k}if(x>e||isNaN(e)){e=x}if(v<c||isNaN(c)){c=v}if(j>C||isNaN(C)){C=j}if(k<F||isNaN(F)){F=k}}if(f){C=C==0?0:Math.max(C,-F);F=F==0?0:Math.min(F,-C)}var u=b?n.valueAxis.unitInterval:0;if(!u){u=o?(C-F)/10:(e-c)/10}var m=b?n.valueAxis.tickMarksInterval||u:0;var D=b?n.valueAxis.gridLinesInterval||u:0;if(c<F){F=c}if(e>C){C=e}var w=a.jqx._rnd(o?F:c,u,false);var q=a.jqx._rnd(o?C:e,u,true);if(f){q=(q>0)?100:0;w=(w<0)?-100:0;u=b?n.valueAxis.unitInterval:10;if(u<=0||u>=100){u=10}if(m<=0||m>=100){m=10}if(D<=0||D>=100){D=10}}if(isNaN(q)||isNaN(w)||isNaN(u)){continue}var h=(q-w)/(u==0?1:u);if(h<1){continue}var p=q-w;d.rmax=o?C:e;d.rmin=o?F:c;d.min=w;d.max=q;d.mu=u;d.maxRange=l;d.intervals=h;d.tickMarksInterval=m;d.tickMarksIntervals=m==0?0:p/m;d.gridLinesInterval=D;d.gridLinesIntervals=D==0?0:p/D;if(p==0){p=1}d.scale=o?(C-F)/p:(e-c)/p}},_getDataLen:function(c){var b=this.source;if(c!=undefined&&c!=-1&&this.seriesGroups[c].source){b=this.seriesGroups[c].source}if(b instanceof a.jqx.dataAdapter){b=b.records}if(b){return b.length}return 0},_getDataValue:function(b,e,d){var c=this.source;if(d!=undefined&&d!=-1){c=this.seriesGroups[d].source||c}if(c instanceof a.jqx.dataAdapter){c=c.records}if(!c||b<0||b>c.length-1){return NaN}return(e&&e!="")?c[b][e]:c[b]},_getDataValueAsNumber:function(b,e,c){var d=this._getDataValue(b,e,c);if(this._isDate(d)){return d.valueOf()}if(typeof(d)!="number"){d=parseFloat(d)}if(typeof(d)!="number"){d=undefined}return d},_renderPieSeries:function(c,D){var m=this._getDataLen(c);var q=this.seriesGroups[c];for(var f=0;f<q.series.length;f++){var J=q.series[f];var p=J.colorScheme||q.colorScheme||this.colorScheme;var g=J.initialAngle||0;var M=g;var K=J.radius||Math.min(D.width,D.height)*0.4;var d=J.centerOffset||0;var I=J.offsetX||D.width/2;var G=J.offsetX||D.height/2;var E=this._getAnimProps(c,f);var v=E.enabled&&m<5000&&this._isVML!=true?E.duration:0;var l=0;var n=0;for(var O=0;O<m;O++){var A=this._getDataValueAsNumber(O,J.dataField,c);if(typeof(A)!="number"){continue}if(A>0){l+=A}else{n+=A}}var k=l-n;if(k==0){k=1}for(var O=0;O<m;O++){var A=this._getDataValueAsNumber(O,J.dataField,c);if(typeof(A)!="number"){continue}var o=Math.round(Math.abs(A)/k*360);if(O+1==m){o=360+g-M}var H=D.x+I;var F=D.y+G;var L=this.renderer.pieslice(H,F,K,M,v>0?M:M+o,d);if(v>0){var r={x:H,y:F,r:K,fromAngle:M,toAngle:M+o,centerOffset:d};var j=this;this._animate(L,undefined,v,function(x,i,y){var s=i.fromAngle+y*(i.toAngle-i.fromAngle);var Q=j.renderer._getPieSlicePath(i.x,i.y,i.r,i.fromAngle,s,i.centerOffset);j.renderer.setAttrs(x,{d:Q})},r)}var B=this._getColor(p,f*m+O);this.renderer.setAttrs(L,{fill:B,stroke:B,"stroke-width":1});var t=M,N=M+o;var z=Math.abs(t-N);var P=z>180?1:0;if(z>360){t=0;N=360}var e=t*Math.PI*2/360;var u=N*Math.PI*2/360;var C=z/2+t;var b=C*Math.PI*2/360;var h=this._showLabel(c,f,O,{x:0,y:0,width:0,height:0},"left","top",true);var w=J.labelRadius||K+Math.max(h.width,h.height);w+=d;var H=D.x+I+w*Math.cos(b)-h.width/2;var F=D.y+G-w*Math.sin(b)-h.height/2;this._showLabel(c,f,O,{x:H,y:F,width:h.width,height:h.height},"left","top");this._installHandlers(L,c,f,O);M+=o}}},_renderColumnSeries:function(e,c){var p=this.seriesGroups[e];if(!p.series||p.series.length==0){return}var q=p.type.indexOf("stacked")!=-1;var d=q&&p.type.indexOf("100")!=-1;var o=this._getDataLen(e);var K=p.columnsGapPercent;if(isNaN(K)||K<0||K>100){K=25}var z=p.seriesGapPercent;if(isNaN(z)||z<0||z>100){z=10}var w=this._calcGroupOffsets(e,c);if(!w||w.xoffsets.length==0){return}for(var A=0;A<p.series.length;A++){var v=p.series[A];var C=v.dataField;var t=this._getColors(e,A,undefined,this._getGroupGradientType(e));var f=v.opacity||p.opacity;if(!f||f<0||f>1){f=1}var B=this._getAnimProps(e,A);var b=B.enabled&&w.xoffsets.length<100?B.duration:0;for(var D=w.xoffsets.first;D<=w.xoffsets.last;D++){var L=this._getDataValueAsNumber(D,C,e);if(typeof(L)!="number"){continue}var G=w.xoffsets.data[D];var F=G+w.xoffsets.itemWidth;var l=(F-G+1);var J=(F-G+1)/(1+K/100);var n=(!q&&p.series.length>1)?(J*z/100)/(p.series.length-1):0;var I=(J-n*(p.series.length-1));if(J<1){J=1}var j=0;if(!q&&p.series.length>1){I/=p.series.length;j=A}var u=G+(l-J)/2+j*(n+I);if(j==p.series.length){I=l-G+J-u}var r=w.offsets[A][D].to;var k=w.offsets[A][D].from;var g=w.baseOffset;var E=k-r;if(Math.abs(E)<1){continue}var m={x:c.x+u,y:E>0?r:k,width:I,height:Math.abs(E)};var H;if(!q){if(b==0){H=this.renderer.rect(m.x,m.y,m.width,m.height)}else{H=this.renderer.rect(m.x,m.y+m.height,m.width,0);if(E>0){this._animate(H,[{key:"y",type:"point",from:m.y+m.height,to:m.y},{key:"height",type:"point",from:0,to:m.height}],b,undefined,undefined)}else{this.renderer.setAttrs(H,{y:m.y});this._animate(H,[{key:"height",type:"point",from:0,to:-E}],b)}}}else{if(b==0){H=this.renderer.rect(m.x,m.y,I,m.height)}else{H=this.renderer.rect(m.x,m.y,0,m.height);this._animate(H,[{key:"width",type:"point",from:0,to:I}],b)}}this.renderer.setAttrs(H,{fill:t.fillColor,"fill-opacity":f,stroke:t.lineColor,"stroke-width":1});this._installHandlers(H,e,A,D);this._showLabel(e,A,D,m)}}},_renderScatterSeries:function(e,d){var j=this.seriesGroups[e];if(!j.series||j.series.length==0){return}var c=j.type=="bubble";var t=this._calcGroupOffsets(e,d);if(!t||t.xoffsets.length==0){return}for(var v=0;v<j.series.length;v++){var m=this._getColors(e,v,undefined,this._getGroupGradientType(e));var o=j.series[v];var A=o.dataField;var f=o.opacity||j.opacity;if(!f||f<0||f>1){f=1}var w=NaN,B=NaN;if(c){for(var C=t.xoffsets.first;C<=t.xoffsets.last;C++){var H=this._getDataValueAsNumber(C,o.radiusDataField,e);if(typeof(H)!="number"){throw"Invalid radiusDataField value at ["+C+"]"}if(isNaN(w)||H<w){w=H}if(isNaN(B)||H>B){B=H}}}var k=o.minRadius;if(isNaN(k)){k=5}var h=o.maxRadius;if(isNaN(h)){k=30}if(k>h){throw"Invalid settings: minRadius must be less than or equal to maxRadius"}var g=o.radius||5;var z=this._getAnimProps(e,v);var b=z.enabled&&t.xoffsets.length<5000?z.duration:0;for(var C=t.xoffsets.first;C<=t.xoffsets.last;C++){var H=this._getDataValueAsNumber(C,A,e);if(typeof(H)!="number"){continue}var E=t.xoffsets.data[C];var D=E+t.xoffsets.itemWidth;var n=E+(D-E)/2;n=a.jqx._ptrnd(d.x+n);var l=t.offsets[v][C].to;var p=g;if(c){var G=this._getDataValueAsNumber(C,o.radiusDataField,e);if(typeof(G)!="number"){continue}p=k+(h-k)*(G-w)/Math.max(1,B-w)}var F=this.renderer.circle(n,l,b==0?p:0);this.renderer.setAttrs(F,{fill:m.fillColor,"fill-opacity":f,stroke:m.lineColor,"stroke-width":1});var u={from:0,to:p};var q=this;if(b>0){this._animate(F,undefined,b,function(r,i,s){q._animR(r,i,s)},u)}this._installHandlers(F,e,v,C)}}},_animR:function(c,b,e){var d=Math.round((b.to-b.from)*e+b.from);if(this._isVML){this.renderer.updateCircle(c,undefined,undefined,d)}else{this.renderer.setAttrs(c,{r:d})}},_showToolTip:function(n,m,r,o,i){if(this.showToolTips==false){return}if(this._toolTipElement&&r==this._toolTipElement.gidx&&o==this._toolTipElement.sidx&&i==this._toolTipElement.iidx){return}this._hideToolTip();if(this._pointMarker){n=parseInt(this.renderer.getAttr(this._pointMarker,"cx"))+5;m=parseInt(this.renderer.getAttr(this._pointMarker,"cy"))-5}var p=this.seriesGroups[r];var j=p.series[o];var b=this._getColors(r,o,i);var q=this._getFormattedValue(r,o,i);var f=this._getDataValue(i,this.categoryAxis.dataField,r);var c=this._formatValue(f,this.categoryAxis.formatSettings,this.categoryAxis.formatFunction);if(p.type!="pie"){q=(j.displayText||j.dataField||"")+", "+c+": "+q}else{q=this._getDataValue(i,j.displayText||j.dataField)+": "+q}var e=j.toolTipClass||p.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null);var d=j.toolTipBackground||p.toolTipBackground||"#FFFFFF";var h=j.toolTipLineColor||p.toolTipLineColor||b.lineColor;var l=this.renderer.measureText(q,0,{"class":e});l.width=l.width+5;l.height=l.height+6;rect=this.renderer.getRect();n=Math.max(n-5,rect.x);m=Math.max(m-l.height,rect.y);if(l.width>rect.width||l.height>rect.height){return}if(n+l.width>rect.x+rect.width){n=rect.x+rect.width-l.width-2}if(m+l.height>rect.y+rect.height){m=rect.y+rect.height-l.height-2}var k=this.renderer.rect(n,m,l.width,l.height);this.renderer.setAttrs(k,{fill:d,"fill-opacity":0,stroke:h,rx:2,ry:2,"stroke-width":1});var g=this.renderer.text(q,n,m,l.width,l.height,0,{"class":e,opacity:0},true,"center","center");this._toolTipElement={box:k,txt:g,sidx:o,gidx:r,iidx:i};this._animate(k,[{key:"fill-opacity",from:0,to:0.8}],200);this._animate(g,[{key:"opacity",from:0,to:1}],500)},_hideToolTip:function(){if(!this._toolTipElement){return}this.renderer.removeElement(this._toolTipElement.box);this.renderer.removeElement(this._toolTipElement.txt);this._toolTipElement=undefined},_showLabel:function(r,n,c,j,f,k,g){var p=this.seriesGroups[r];var b=p.series[n];var i={width:0,height:0};if(!b.showLabels&&!p.showLabels){return i}if(j.width<0||j.height<0){return i}var m=b.labelsAngle||p.labelsAngle||0;var o=b.labelOffset||p.labelAngle||{x:0,y:0};var e=b.labelClass||p.labelClass||this.toThemeProperty("jqx-chart-label-text",null);f=f||"center";k=k||"center";var q=this._getFormattedValue(r,n,c);var l=j.width;var d=j.height;if(l==0||d==0||g){i=this.renderer.measureText(q,m,{"class":e});if(g){return i}l=i.width;d=i.height}var s=this.renderer.text(q,j.x+o.x,j.y+o.y,l,d,m,{},m!=0,f,k);this.renderer.setAttrs(s,{"class":e});if(this._isVML){this.renderer.removeElement(s);this.renderer.getContainer()[0].appendChild(s)}},_getAnimProps:function(j,f){var e=this.seriesGroups[j];var c=e.series[f];var b=this.enableAnimations==true;if(e.enableAnimations){b=e.enableAnimations==true}if(c.enableAnimations){b=c.enableAnimations==true}var i=this.animationDuration;if(isNaN(i)){i=1000}var d=e.animationDuration;if(!isNaN(d)){i=d}var h=c.animationDuration;if(!isNaN(h)){i=h}if(i>5000){i=1000}return{enabled:b,duration:i}},_renderLineSeries:function(e,A){var r=this.seriesGroups[e];if(!r.series||r.series.length==0){return}var l=r.type.indexOf("area")!=-1;var w=r.type.indexOf("stacked")!=-1;var b=w&&r.type.indexOf("100")!=-1;var M=r.type.indexOf("spline")!=-1;var m=r.type.indexOf("step")!=-1;if(m&&M){return}var n=this._getDataLen(e);var K=A.width/n;var q=Math.round(A.width/K);var d=Math.round(n/q);var o=this._calcGroupOffsets(e,A);if(!o||o.xoffsets.length==0){return}var O=this._isPointSeriesOnly();for(var G=r.series.length-1;G>=0;G--){var H=this._getColors(e,G,undefined,this._getGroupGradientType(e));var N=r.series[G].opacity||r.opacity;if(!N||N<0||N>1){N=1}var t=r.series[G].lineWidth||r.lineWidth;if(!t||t=="auto"||isNaN(t)||t<1||t>15){t=l?2:3}var E=[];var z=-1;var j=0;var B=NaN;var p=NaN;var P=NaN;if(o.xoffsets.length<1){continue}var C=this._getAnimProps(e,G);var y=C.enabled&&o.xoffsets.length<5000&&this._isVML!=true?C.duration:0;var D=o.xoffsets.itemWidth/2;if(O){D=0}for(var L=o.xoffsets.first;L<=o.xoffsets.last;L++){var F=o.xoffsets.data[L]+D;if(F==undefined){continue}var h=o.offsets[G][L].to;if(!l&&b){if(h<=A.y){h=A.y+1}if(h>=A.y+A.height){h=A.y+A.height-1}}F=Math.max(F,1);j=F;if(m&&!isNaN(B)&&!isNaN(p)){if(p!=h){E.push({x:a.jqx._ptrnd(A.x+j),y:a.jqx._ptrnd(p)})}}E.push({x:a.jqx._ptrnd(A.x+j),y:a.jqx._ptrnd(h)});B=j;p=h;if(isNaN(P)){P=h}this._showLabel(e,G,L,{x:a.jqx._ptrnd(A.x+j),y:a.jqx._ptrnd(h),width:0,height:0})}var f=o.xoffsets.data[o.xoffsets.first];if(f>0){f+=o.xoffsets.itemWidth/2}var I=o.xoffsets.data[o.xoffsets.last];if(Math.abs(I+o.xoffsets.itemWidth-A.width)<2){I=A.width}else{I+=o.xoffsets.itemWidth/2}f=a.jqx._ptrnd(A.x+f);I=a.jqx._ptrnd(A.x+I);var g=o.baseOffset;P=a.jqx._ptrnd(P);var c=a.jqx._ptrnd(h);var v=this._calculateLine(E,g,y==0?1:0,l);v=this._buildLineCmd(v,f,I,P,c,g,l,M&&E.length>3);var J=this.renderer.path(v,{"stroke-width":t,stroke:H.lineColor,"fill-opacity":N,fill:l?H.fillColor:"none"});this._installHandlers(J,e,G);if(y>0){var u={pointsArray:E,left:f,right:I,pyStart:P,pyEnd:c,yBase:g,isArea:l,isSpline:M};var k=this;this._animate(J,undefined,y,function(x,i,Q){var R=k._calculateLine(i.pointsArray,i.yBase,Q,i.isArea);var s=i.pointsArray.length;if(!i.isArea){s=Math.round(s*Q)}R=k._buildLineCmd(R,i.left,i.right,i.pyStart,i.pyEnd,i.yBase,i.isArea,s>3&&i.isSpline);k.renderer.setAttrs(x,{d:R})},u)}}},_calculateLine:function(h,d,e,g){var f="";var c=h.length;if(!g){c=Math.round(c*e)}for(var b=0;b<c;b++){if(b>0){f+=" "}var j=h[b].y;if(g){j=a.jqx._ptrnd((j-d)*e+d)}f+=h[b].x+","+j}return f},_buildLineCmd:function(k,g,o,n,b,p,m,d){var f=k;if(d){f=this._getBezierPoints(k)}var l=f.split(" ");var j=l[0].replace("C","");if(m){var e=g+","+n;var h=o+","+b;var c=g+","+p;var i=o+","+p;f="M "+c+" L "+j+(d?"":("L "+j+" "))+f+(d?(" L"+i+" M "+i):(" "+i+" "+c))}else{if(d){f="M "+j+" "+f}else{f="M "+j+" L "+j+" "+f}}return f},_getColors:function(n,k,h,e){var l=this.seriesGroups[n];if(l.type!="pie"){h=undefined}var i=l.series[k].useGradient||l.useGradient;if(i==undefined){i=true}var g;if(!isNaN(h)){var d=this._getDataLen(n);g=this._getColor(l.series[k].colorScheme||l.colorScheme||this.colorScheme,k*d+h)}else{g=this._getSeriesColor(n,k)}var m=a.jqx._adjustColor(g,1.1);var j=a.jqx._adjustColor(g,0.9);var f=a.jqx._adjustColor(m,0.9);var b=g;var c=m;if(i){if(e=="verticalLinearGradient"){b=this.renderer._toLinearGradient(g,true,[[0,1],[100,1.5]]);c=this.renderer._toLinearGradient(m,true,[[0,1],[100,1.5]])}else{if(e=="horizontalLinearGradient"){b=this.renderer._toLinearGradient(g,false,[[0,1],[25,1.1],[50,1.5],[100,1]]);c=this.renderer._toLinearGradient(m,false,[[0,1],[25,1.1],[50,1.5],[100,1]])}}}return{baseColor:g,fillColor:b,lineColor:j,fillSelected:c,lineSelected:f}},_installHandlers:function(d,j,i,c){var b=this;var h=this.seriesGroups[j];var e=this.seriesGroups[j].series[i];var f=h.type.indexOf("line")!=-1||h.type.indexOf("area")!=-1;if(!f){this.renderer.addHandler(d,"mousemove",function(g){g.preventDefault();b._startTooltipTimer(j,i,c)})}this.renderer.addHandler(d,"mouseover",function(g){g.preventDefault();b._select(d,j,i,c);if(f){return}if(isNaN(c)){return}b._raiseEvent("mouseover",h,e,c)});this.renderer.addHandler(d,"mouseout",function(g){g.preventDefault();if(c!=undefined){b._cancelTooltipTimer()}if(f){return}b._unselect();if(isNaN(c)){return}b._raiseEvent("mouseout",h,e,c)});this.renderer.addHandler(d,"click",function(g){g.preventDefault();if(f){return}if(h.type.indexOf("column")!=-1){b._unselect()}if(isNaN(c)){return}b._raiseEvent("click",h,e,c)})},_getHorizontalOffset:function(n,k,h){var j=this._plotRect;var e=this._getDataLen(n);if(e==0){return{index:undefined,x:k}}var m=this._calcGroupOffsets(n,this._plotRect);if(m.xoffsets.length==0){return{index:undefined,x:undefined}}k-=j.x;var b=m.xoffsets.itemWidth/2;if(this._isPointSeriesOnly()){b=0}var g=m.xoffsets.first;var l=m.xoffsets.last;if(k<=m.xoffsets.data[g]){return{index:g,x:m.xoffsets.data[g]+b}}if(k>=m.xoffsets.data[l]){return{index:l,x:m.xoffsets.data[l]+b}}for(var f=g;f<l;f++){var d=m.xoffsets.data[f];var c=m.xoffsets.data[f+1];if(k>d&&k<d+(c-d)/2){return{index:f,x:d+b}}if(k>d+(c-d)/2&&k<c){return{index:Math.min(f+1,l),x:c+b}}}return{index:undefined,x:undefined}},onmousemove:function(l,j){this._mouseX=l;this._mouseY=j;this._hideToolTip();if(!this._selected){return}var k=this._plotRect;var b=this._paddedRect;if(l<b.x||l>b.x+b.width||j<b.y||j>b.y+b.height){this._unselect();return}var n=this._selected.group;var f=this.seriesGroups[n];var p=f.series[this._selected.series];var h=this.seriesGroups[n].type;var k=this._plotRect;if(h.indexOf("line")!=-1||h.indexOf("area")!=-1){var d=this._getHorizontalOffset(n,l,j);var e=d.index;if(e==undefined){return}if(this._selected.item!=e){if(this._selected.item){this._raiseEvent("mouseout",f,p,this._selected.item)}this._selected.item=e;this._raiseEvent("mouseover",f,p,e)}var m=this._calcGroupOffsets(n,k);j=m.offsets[this._selected.series][e].to;l=d.x;j=a.jqx._ptrnd(j);l=a.jqx._ptrnd(k.x+l);if(l<b.x||l>b.x+b.width&&this._pointMarker){this.renderer.removeElement(this._pointMarker);this._pointMarker=undefined;return}l+=1;j-=1;if(!this._pointMarker){this._pointMarker=this.renderer.circle(l,j,4);this._plotGroup.appendChild(this._pointMarker)}var c=this._getSeriesColor(this._selected.group,this._selected.series);var o=a.jqx._adjustColor(c,0.7);this.renderer.setAttrs(this._pointMarker,{fill:c,stroke:o,opacity:1});this.renderer.setAttrs(this._pointMarker,{cx:l,cy:j});this._startTooltipTimer(n,this._selected.series,e)}},_startTooltipTimer:function(h,f,d){this._cancelTooltipTimer();var b=this;var e=b.seriesGroups[h];var c=this.toolTipDelay;if(isNaN(c)||c>10000||c<0){c=500}this._tttimer=setTimeout(function(){b._showToolTip(b._mouseX,b._mouseY-3,h,f,d);b._tttimer=setTimeout(function(){b._hideToolTip()},4000)},c)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(c){var b=this.seriesGroups[c];if(b.type.indexOf("area")!=-1){return"verticalLinearGradient"}else{if(b.type.indexOf("column")!=-1){return"horizontalLinearGradient"}else{if(b.type.indexOf("scatter")!=-1||b.type.indexOf("bubble")!=-1){return"radialGradient"}}}return undefined},_select:function(d,h,f,c){if(this._selected&&this._selected.element!=d){this._unselect()}this._selected={element:d,group:h,series:f,item:c};var e=this.seriesGroups[h];var b=this._getColors(h,f,c,this._getGroupGradientType(h));if(e.type.indexOf("line")!=-1&&e.type.indexOf("area")==-1){b.fillSelected="none"}this.renderer.setAttrs(d,{stroke:b.lineSelected,fill:b.fillSelected})},_unselect:function(){if(this._selected){var h=this._selected.group;var f=this._selected.series;var c=this._selected.item;var e=this.seriesGroups[h];var d=e.series[f];var b=this._getColors(h,f,c,this._getGroupGradientType(h));if(e.type.indexOf("line")!=-1&&e.type.indexOf("area")==-1){b.fillColor="none"}this.renderer.setAttrs(this._selected.element,{stroke:b.lineColor,fill:b.fillColor});if(e.type.indexOf("line")!=-1||e.type.indexOf("area")!=-1&&!isNaN(c)){this._raiseEvent("mouseout",e,d,c)}this._selected=undefined}if(this._pointMarker){this.renderer.removeElement(this._pointMarker);this._pointMarker=undefined}},_raiseEvent:function(e,f,d,b){var c=d[e]||f[e];var g=0;for(;g<this.seriesGroups.length;g++){if(this.seriesGroups[g]==f){break}}if(g==this.seriesGroups.length){return}if(c&&a.isFunction(c)){c({event:e,seriesGroup:f,serie:d,elementIndex:b,elementValue:this._getDataValue(b,d.dataField,g)})}},_calcGroupOffsets:function(f,b){var n=this.seriesGroups[f];if(!n.series||n.series.length==0){return}if(!this._renderData){this._renderData=new Array()}while(this._renderData.length<f+1){this._renderData.push(null)}if(this._renderData[f]!=null){return this._renderData[f]}var z=new Array();var o=n.type.indexOf("stacked")!=-1;var d=o&&n.type.indexOf("100")!=-1;var l=this._getDataLen(f);var B=n.baselineValue||0;var C=this._stats.seriesGroups[f];if(!C||!C.isValid){return}if(B>C.max){B=C.max}if(B<C.min){B=C.min}var u=d?C.maxRange:C.max-C.min;var D=b.height/u;var e=0;if(d){if(C.min*C.max<0){u/=2;e=b.y+b.height-(u+B)*D}else{e=b.y+b.height-B*D}}else{e=b.y+b.height-(B-C.min)*D}var s=new Array();var c=new Array();e=a.jqx._ptrnd(e);var g=(C.min*C.max<0)?b.height/2:b.height;for(var w=0;w<n.series.length;w++){z.push(new Array());for(var x=0;x<l;x++){var E=this._getDataValueAsNumber(x,n.series[w].dataField,f);if(isNaN(E)){continue}if(E>C.rmax){E=C.rmax}if(E<C.rmin){E=C.rmin}var m=(E>B)?s:c;var A=D*(E-B);var r=e;if(o){if(d){var p=(C.psums[x]-C.nsums[x]);if(E>B){A=(C.psums[x]/p)*g;if(C.psums[x]!=0){A*=E/C.psums[x]}}else{A=(C.nsums[x]/p)*g;if(C.nsums[x]!=0){A*=E/C.nsums[x]}}}if(isNaN(m[x])){m[x]=e}r=m[x]}A=Math.abs(A);A=this._isVML?Math.round(A):a.jqx._rup(A);if(w==n.series.length-1&&d){var q=0;for(var v=0;v<w;v++){q+=Math.abs(z[v][x].to-z[v][x].from)}q+=A;if(q<g){if(A>0.5){A=a.jqx._ptrnd(A+g-q)}else{var v=w-1;while(v>=0){var t=Math.abs(z[v][x].to-z[v][x].from);if(t>1){if(z[v][x].from>z[v][x].to){z[v][x].from+=g-q}break}v--}}}}if(E<B){m[x]+=A;z[w].push({from:r+1,to:r+A})}else{m[x]-=A;z[w].push({from:r,to:r-A})}}}var A=D*Math.max(C.min,B);this._renderData[f]={baseOffset:e,offsets:z};this._renderData[f].xoffsets=this._calculateXOffsets(f,b);return this._renderData[f]},_isPointSeriesOnly:function(){for(var b=0;b<this.seriesGroups.length;b++){var c=this.seriesGroups[b];if(c.type.indexOf("line")==-1&&c.type.indexOf("area")==-1){return false}}return true},_calculateXOffsets:function(s,o){var d=this._getCategoryAxis(s);var l=new Array();var c=this._getDataLen(s);var m=this._castAsNumber(d.minValue);var b=this._castAsNumber(d.maxValue);var f=m,n=b;if(isNaN(f)||isNaN(n)){for(var g=0;g<c;g++){var q=this._getDataValue(g,d.dataField,s);q=this._castAsNumber(q);if(isNaN(q)){continue}if(q<f||isNaN(f)){f=q}if(q>n||isNaN(n)){n=q}}}f=m||f;n=b||n;var e=(d.maxValue!=undefined)||(d.minValue!=undefined);if(e&&(isNaN(n)||isNaN(f))){e=false;throw"Invalid min/max category values"}if(!e){f=0;n=c}var j=e?n-f+1:n-f;if(this._isPointSeriesOnly()){j--}if(j==0){j=1}var k=this._plotRect.width/j;var h=-1,r=-1;for(var g=0;g<c;g++){if(!e){l.push(a.jqx._ptrnd((g-f)/j*o.width));if(h==-1){h=g}if(r==-1||r<g){r=g}continue}var q=this._getDataValue(g,d.dataField,s);q=this._castAsNumber(q);if(isNaN(q)||q<f||q>n){l.push(-1);continue}var p=a.jqx._ptrnd((q-f)/j*this._plotRect.width);l.push(p);if(h==-1){h=g}if(r==-1||r<g){r=g}}return{data:l,first:h,last:r,length:r==-1?0:r-h+1,itemWidth:k,rangeLength:j,min:f,max:n,customRange:e}},_getCategoryAxis:function(b){if(b==undefined||this.seriesGroups.length<=b){return this.categoryAxis}return this.seriesGroups[b].categoryAxis||this.categoryAxis},_getSeriesColor:function(l,c){var e=this.seriesGroups[l];var m=e.series[c];if(m.color){return m.color}var k=0;for(var d=0;d<=l;d++){for(var b in this.seriesGroups[d].series){if(d==l&&b==c){break}else{k++}}}var h=this.colorScheme;if(e.colorScheme){h=e.colorScheme;sidex=c}if(h){for(var d=0;d<this.colorSchemes.length;d++){var f=this.colorSchemes[d];if(f.name==h){while(k>f.colors.length){k-=f.colors.length;if(++d>=this.colorSchemes.length){d=0}f=this.colorSchemes[d]}return f.colors[k%f.colors.length]}}}return"#222222"},_getColor:function(c,e){for(var f=0;f<this.colorSchemes.length;f++){if(c==this.colorSchemes[f].name){break}}var d=0;while(d<=e){if(f==this.colorSchemes.length){f=0}var b=this.colorSchemes[f].colors.length;if(d+b<=e){d+=b;f++}else{return this.colorSchemes[f].colors[e-d]}}},colorSchemes:[{name:"scheme01",colors:["#4572A7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#2F2933","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]}],_formatValue:function(c,f,b){if(c==undefined){return""}if(this._isObject(c)&&!b){return""}if(b){if(!a.isFunction(b)){return c.toString()}try{return b(c)}catch(d){return d.message}}if(this._isNumber(c)){return this._formatNumber(c,f)}if(this._isDate(c)){return this._formatDate(c,f)}return c.toString()},_getFormattedValue:function(k,e,b,c,d){var h=this.seriesGroups[k];var m=h.series[e];var l="";var f=c,i=d;if(!i){i=m.formatFunction||h.formatFunction}if(!f){f=m.formatSettings||h.formatSettings}if(!m.formatFunction&&m.formatSettings){i=undefined}var j=this._getDataValue(b,m.dataField,k);if(j){l=this._formatValue(j,f,i)}return l||""},_castAsNumber:function(c){if(c instanceof Date&&!isNaN(c)){return c.valueOf()}if(typeof(c)=="string"){var b=new Date(c);if(b instanceof Date&&!isNaN(b)){c=b.valueOf()}else{c=parseFloat(c)}}return c},_isNumber:function(b){if(typeof(b)=="string"){if(b.indexOf(":")!=-1||b.indexOf("/")!=-1||b.indexOf("-")>0){return false}b=parseFloat(b)}return typeof b==="number"&&isFinite(b)},_isDate:function(b){return b instanceof Date},_isBoolean:function(b){return typeof b==="boolean"},_isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},_formatDate:function(c,b){return c.toString()},_formatNumber:function(n,e){if(!this._isNumber(n)){return n}e=e||{};var q=e.decimalSeparator||".";var o=e.thousandsSeparator||"";var m=e.prefix||"";var p=e.sufix||"";var h=e.decimalPlaces||((n*100!=parseInt(n)*100)?2:0);var l=e.negativeWithBrackets||false;var g=(n<0);if(g&&l){n*=-1}var d=n.toString();var b;var k=Math.pow(10,h);d=(Math.round(n*k)/k).toString();if(isNaN(d)){d=""}b=d.lastIndexOf(".");if(h>0){if(b<0){d+=q;b=d.length-1}else{if(q!=="."){d=d.replace(".",q)}}while((d.length-1-b)<h){d+="0"}}b=d.lastIndexOf(q);b=(b>-1)?b:d.length;var f=d.substring(b);var c=0;for(var j=b;j>0;j--,c++){if((c%3===0)&&(j!==b)&&(!g||(j>1)||(g&&l))){f=o+f}f=d.charAt(j-1)+f}d=f;if(g&&l){d="("+d+")"}return m+d+p},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:false},_getBezierPoints:function(e){var h=[];var f=e.split(" ");for(var d=0;d<f.length;d++){var j=f[d].split(",");h.push({x:parseFloat(j[0]),y:parseFloat(j[1])})}var k="";for(var d=0;d<h.length-1;d++){var b=[];if(0==d){b.push(h[d]);b.push(h[d]);b.push(h[d+1]);b.push(h[d+2])}else{if(h.length-2==d){b.push(h[d-1]);b.push(h[d]);b.push(h[d+1]);b.push(h[d+1])}else{b.push(h[d-1]);b.push(h[d]);b.push(h[d+1]);b.push(h[d+2])}}var c=[];var g=9;c.push({x:b[1].x,y:b[1].y});c.push({x:((-b[0].x+g*b[1].x+b[2].x)/g),y:((-b[0].y+g*b[1].y+b[2].y)/g)});c.push({x:((b[1].x+g*b[2].x-b[3].x)/g),y:((b[1].y+g*b[2].y-b[3].y)/g)});c.push({x:b[2].x,y:b[2].y});k+="C"+a.jqx._ptrnd(c[1].x)+","+a.jqx._ptrnd(c[1].y)+" "+a.jqx._ptrnd(c[2].x)+","+a.jqx._ptrnd(c[2].y)+" "+a.jqx._ptrnd(c[3].x)+","+a.jqx._ptrnd(c[3].y)+" "}return k},_animTickInt:50,_animate:function(d,c,f,e,b,h){if(!this._animList){this._animList=[];this._animTicks=0}var g=this._animTicks+Math.round(f/this._animTickInt);if(h==undefined){h="easeInOutSine"}this._animList.push({key:d,properties:c,startTick:this._animTicks,endTick:g,fn:e,context:b,easing:h});this._enableAnimTimer()},_enableAnimTimer:function(){if(!this._animtimer){var b=this;this._animtimer=setTimeout(function(){b._runAnimation()},this._animTickInt)}},_runAnimation:function(){if(this._animList){this._animTicks++;var m=[];for(var k=0;k<this._animList.length;k++){var n=this._animList[k];if(n.endTick>this._animTicks){m.push(n)}var b=(this._animTicks-n.startTick)*this._animTickInt;var e=(n.endTick-n.startTick)*this._animTickInt;var l=b/e;var d=l;if(n.easing){d=jQuery.easing[n.easing](l,b,0,1,e)}if(l>1){l=1}if(n.fn){n.fn(n.key,n.context,d);continue}var g={};for(var h=0;h<n.properties.length;h++){var c=n.properties[h];var f=0;if(l==1){f=c.to}else{f=d*(c.to-c.from)+c.from}g[c.key]=f}this.renderer.setAttrs(n.key,g)}this._animList=m}this._animtimer=null;this._enableAnimTimer()}});a.jqx._adjustColor=function(d,b){var e=a.jqx.cssToRgb(d);var d="#";for(var f=0;f<3;f++){var g=Math.round(b*e[f]);if(g>255){g=255}else{if(g<=0){g=0}}g=a.jqx.decToHex(g);if(g.toString().length==1){d+="0"}d+=g}return d.toUpperCase()};a.jqx.decToHex=function(b){return b.toString(16)},a.jqx.hexToDec=function(b){return parseInt(b,16)};a.jqx.rgbToHex=function(e,d,c){return[a.jqx.decToHex(e),a.jqx.decToHex(d),a.jqx.decToHex(c)]};a.jqx.hexToRgb=function(c,d,b){return[a.jqx.hexToDec(c),a.jqx.hexToDec(d),a.jqx.hexToDec(b)]};a.jqx.cssToRgb=function(b){if(b.indexOf("rgb")<=-1){return a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7))}return b.substring(4,b.length-1).split(",")};a.jqx._ptrnd=function(c){if(!document.createElementNS){if(Math.round(c)==c){return c}return a.jqx._rnd(c,1,false)}if(Math.abs(Math.round(c)-c)==0.5){return c}var b=a.jqx._rnd(c,1,false);return b-0.5;var b=a.jqx._rnd(c,1,false);if(!document.createElementNS){return b}return b-0.5};a.jqx._rup=function(c){var b=Math.round(c);if(c>b){b++}return b};a.jqx._rnd=function(c,e,d){if(isNaN(c)){return c}var b=c-c%e;if(c==b){return b}if(d){if(c>b){b+=e}}else{if(b>c){b-=e}}return b};a.jqx.svgRenderer=function(){};a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(f){var d="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td class='chartContainer'></td></tr></table>";f.append(d);this.host=f;var b=f.find(".chartContainer");b[0].style.width=f.width()+"px";b[0].style.height=f.height()+"px";var h;try{var c=document.createElementNS(this._svgns,"svg");c.setAttribute("id","svgChart");c.setAttribute("version","1.1");c.setAttribute("width","100%");c.setAttribute("height","100%");b[0].appendChild(c);this.canvas=c}catch(g){return false}this._id=new Date().getTime();this.clear();this._layout();this._runLayoutFix();return true},_runLayoutFix:function(){var b=this;this._fixLayout()},_fixLayout:function(){var g=a(this.canvas).position();var d=(parseFloat(g.left)==parseInt(g.left));var b=(parseFloat(g.top)==parseInt(g.top));if(a.browser.msie){var d=true,b=true;var e=this.host;var c=0,f=0;while(e&&e.position&&e[0].parentNode){var h=e.position();c+=parseFloat(h.left)-parseInt(h.left);f+=parseFloat(h.top)-parseInt(h.top);e=e.parent()}d=parseFloat(c)==parseInt(c);b=parseFloat(f)==parseInt(f)}if(!d){this.host.find("#tdLeft")[0].style.width="0.5px"}if(!b){this.host.find("#tdTop")[0].style.height="0.5px"}},_layout:function(){var c=a(this.canvas).offset();var b=this.host.find(".chartContainer");this._width=Math.max(a.jqx._rup(this.host.width())-1,0);this._height=Math.max(a.jqx._rup(this.host.height())-1,0);b[0].style.width=this._width;b[0].style.height=this._height;this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var b=this.host.find(".chartContainer");return b},clear:function(){while(this.canvas.childElementCount>0){this.canvas.removeChild(this.canvas.firstElementChild)}this._defs=document.createElementNS(this._svgns,"defs");this._gradients={};this.canvas.appendChild(this._defs)},removeElement:function(c){if(c!=undefined){try{if(c.parentNode){c.parentNode.removeChild(c)}else{this.canvas.removeChild(c)}}catch(b){}}},_openGroups:[],beginGroup:function(){var b=this._activeParent();var c=document.createElementNS(this._svgns,"g");b.appendChild(c);this._openGroups.push(c);return c},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(d){var e=document.createElementNS(this._svgns,"clipPath");var b=document.createElementNS(this._svgns,"rect");this.setAttrs(b,{x:d.x,y:d.y,width:d.width,height:d.height});this._clipId=this._clipId||0;e.id="cl"+this._id+"_"+(++this._clipId).toString();e.appendChild(b);this._defs.appendChild(e);return e},setClip:function(c,b){return this.setAttr(c,"clip-path","url(#"+b.id+")")},_clipId:0,addHandler:function(b,d,c){b["on"+d]=c},shape:function(b,e){var c=document.createElementNS(this._svgns,b);if(!c){return undefined}for(var d in e){c.setAttribute(d,e[d])}this._activeParent().appendChild(c);return c},measureText:function(k,c,d){var f=document.createElementNS(this._svgns,"text");this.setAttrs(f,d);f.appendChild(f.ownerDocument.createTextNode(k));var j=this._activeParent();j.appendChild(f);var l=f.getBBox();var g=a.jqx._rup(l.width);var b=a.jqx._rup(l.height);j.removeChild(f);if(c==0){return{width:g,height:b}}var h=c*Math.PI*2/360;var e=Math.abs(g*Math.sin(h)-b*Math.cos(h));var i=Math.abs(g*Math.cos(h)+b*Math.sin(h));return{width:a.jqx._rup(i),height:a.jqx._rup(e)}},text:function(o,l,k,s,q,z,B,A,n,g){var r;if(!n){n="center"}if(!g){g="center"}if(A){r=this.beginGroup();var e=this.createClipRect({x:a.jqx._rup(l),y:a.jqx._rup(k),width:a.jqx._rup(s),height:a.jqx._rup(q)});this.setClip(r,e)}var p=document.createElementNS(this._svgns,"text");this.setAttrs(p,B);p.appendChild(p.ownerDocument.createTextNode(o));var j=this._activeParent();j.appendChild(p);var b=p.getBBox();j.removeChild(p);var C=b.width;var i=b.height*0.6;var m=s||0;var u=q||0;if(!z||z==0){if(n=="center"){l+=(m-C)/2}else{if(n=="right"){l+=(m-C)}}k+=i;if(g=="center"){k+=(u-i)/2}else{if(g=="bottom"){k+=u-i}}if(!s){s=C}if(!q){q=i}this.setAttrs(p,{x:a.jqx._rup(l),y:a.jqx._rup(k),width:a.jqx._rup(s),height:a.jqx._rup(q),cursor:"default"});j.appendChild(p);this.endGroup();return p}var f=z*Math.PI*2/360;var d=Math.abs(C*Math.sin(f)-i*Math.cos(f));var v=Math.abs(C*Math.cos(f)+i*Math.sin(f));if(n=="center"){l+=(m-v)/2}else{if(n=="right"){l+=(m-v)}}if(g=="center"){k=k+(u-d)/2}else{if(g=="bottom"){k=k+u-d}}if(z<0){k+=d}l+=v;l=a.jqx._rup(l);k=a.jqx._rup(k);var t=this.shape("g",{transform:"translate("+l+","+k+")"});var c=this.shape("g",{transform:"rotate("+z+")"});t.appendChild(c);c.appendChild(p);j.appendChild(t);this.endGroup();return t},line:function(d,f,c,e,g){var b=this.shape("line",{x1:d,y1:f,x2:c,y2:e});this.setAttrs(b,g)},path:function(c,d){var b=this.shape("path");b.setAttribute("d",c);if(d){this.setAttrs(b,d)}return b},rect:function(b,g,c,e,f){b=a.jqx._ptrnd(b);g=a.jqx._ptrnd(g);c=a.jqx._rup(c);e=a.jqx._rup(e);var d=this.shape("rect",{x:b,y:g,width:c,height:e});if(f){this.setAttrs(d,f)}return d},circle:function(b,d,c){return this.shape("circle",{cx:b,cy:d,r:c})},_getPieSlicePath:function(p,m,b,j,f,n){if(!b){b=1}var q=Math.abs(j-f);var k=q>180?1:0;if(q>360){j=0;f=360}var d=j*Math.PI*2/360;var i=f*Math.PI*2/360;if(n!=0){var g=q/2+j;var h=g*Math.PI*2/360;offsetX=n*Math.cos(h);offsetY=n*Math.sin(h);p+=offsetX;m-=offsetY}var e=p+b*Math.cos(d);var c=p+b*Math.cos(i);var o=m-b*Math.sin(d);var l=m-b*Math.sin(i);var s="M "+c+","+l;s+="  "+c+","+l+" a"+b+","+b;s+=" 0 "+k+",1 "+(e-c)+","+(o-l);s+=" L"+p+","+m+" Z";return s},pieslice:function(i,g,b,e,c,h,d){var f=this._getPieSlicePath(i,g,b,c,h);var j=this.shape("path");j.setAttribute("d",f);if(d){this.setAttrs(j,d)}return j},setAttrs:function(b,d){if(!b||!d){return}for(var c in d){b.setAttribute(c,d[c])}},setAttr:function(c,b,d){if(!c){return}c.setAttribute(b,d)},getAttr:function(c,b){return c.getAttribute(b)},_gradients:{},_toLinearGradient:function(e,g,h){var c="grd"+e.replace("#","")+(g?"v":"h");var b="url(#"+c+")";if(this._gradients[b]){return b}var d=document.createElementNS(this._svgns,"linearGradient");this.setAttrs(d,{x1:"0%",y1:"0%",x2:g?"0%":"100%",y2:g?"100%":"0%",id:c});for(var f in h){var j=document.createElementNS(this._svgns,"stop");var i="stop-color:"+a.jqx._adjustColor(e,h[f][1]);this.setAttrs(j,{offset:h[f][0]+"%",style:i});d.appendChild(j)}this._defs.appendChild(d);this._gradients[b]=true;return b}};a.jqx.vmlRenderer=function(){};a.jqx.vmlRenderer.prototype={init:function(e){var d="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";e.append(d);this.host=e;var b=e.find(".chartContainer");b[0].style.width=e.width()+"px";b[0].style.height=e.height()+"px";if(a.browser.msie&&parseInt(a.browser.version)<9&&(document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1)){var c=true;if(document.namespaces.length>0){if(document.namespaces[0].name=="v"&&document.namespaces[0].urn=="urn:schemas-microsoft-com:vml"){c=false}}if(c){document.namespaces.add("v","urn:schemas-microsoft-com:vml")}this._ie8mode=true}else{var c=true;if(document.namespaces.length>0){if(document.namespaces[0].name=="v"&&document.namespaces[0].urn=="urn:schemas-microsoft-com:vml"){c=false}}if(c){document.namespaces.add("v","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"}}this.canvas=b[0];this._width=Math.max(a.jqx._rup(b.width()),0);this._height=Math.max(a.jqx._rup(b.height()),0);b[0].style.width=this._width+2;b[0].style.height=this._height+2;this._id=new Date().getTime();this.clear();return true},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var b=this.host.find(".chartContainer");return b},clear:function(){while(this.canvas.childElementCount>0){this.canvas.removeChild(this.canvas.firstElementChild)}this._gradients={}},removeElement:function(b){if(b!=null){b.parentNode.removeChild(b)}},_openGroups:[],beginGroup:function(){var b=this._activeParent();var c=document.createElement("v:group");c.style.position="absolute";c.coordorigin="0,0";c.coordsize=this._width+","+this._height;c.style.left=0;c.style.top=0;c.style.width=this._width;c.style.height=this._height;b.appendChild(c);this._openGroups.push(c);return c},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(b){var c=document.createElement("div");c.style.height=b.height+"px";c.style.width=b.width+"px";c.style.position="absolute";c.style.left=b.x+"px";c.style.top=b.y+"px";c.style.overflow="hidden";this._clipId=this._clipId||0;c.id="cl"+this._id+"_"+(++this._clipId).toString();this._activeParent().appendChild(c);return c},setClip:function(c,b){b.appendChild(c)},_clipId:0,addHandler:function(b,d,c){a(b).bind(d,c)},measureText:function(m,c,d){var e=document.createElement("v:textbox");var k=document.createElement("span");k.appendChild(document.createTextNode(m));e.appendChild(k);if(d["class"]){k.className=d["class"]}var l=this._activeParent();l.appendChild(e);var g=a(e);var h=a.jqx._rup(g.width());var b=a.jqx._rup(g.height());l.removeChild(e);if(b==0&&a.browser.msie&&parseInt(a.browser.version)<9){var n=g.css("font-size");if(n){b=parseInt(n);if(isNaN(b)){b=0}}}if(c==0){return{width:h,height:b}}var i=c*Math.PI*2/360;var f=Math.abs(h*Math.sin(i)-b*Math.cos(i));var j=Math.abs(h*Math.cos(i)+b*Math.sin(i));return{width:a.jqx._rup(j),height:a.jqx._rup(f)}},text:function(o,l,k,r,p,A,C,B,n,g){var s=C.stroke||"black";var q;if(!n){n="center"}if(!g){g="center"}B=false;if(B){q=this.beginGroup();var e=this.createClipRect({x:a.jqx._rup(l),y:a.jqx._rup(k),width:a.jqx._rup(r),height:a.jqx._rup(p)});this.setClip(q,e)}var b=document.createElement("v:textbox");b.style.position="absolute";var t=document.createElement("span");t.appendChild(document.createTextNode(o));if(C["class"]){t.className=C["class"]}b.appendChild(t);var j=this._activeParent();j.appendChild(b);var D=a(b).width();var i=a(b).height();j.removeChild(b);var m=r||0;var v=p||0;if(!A||A==0){if(n=="center"){l+=(m-D)/2}else{if(n=="right"){l+=(m-D)}}if(g=="center"){k=k+(v-i)/2}else{if(g=="bottom"){k=k+v-i}}if(!r){r=D}if(!p){p=i}if(!q){b.style.left=a.jqx._rup(l);b.style.top=a.jqx._rup(k);b.style.width=a.jqx._rup(r);b.style.height=a.jqx._rup(p)}j.appendChild(b);if(q){this.endGroup();return j}return b}var f=A*Math.PI*2/360;var d=Math.abs(D*Math.sin(f)-i*Math.cos(f));var z=Math.abs(D*Math.cos(f)+i*Math.sin(f));if(n=="center"){l+=(m-z)/2}else{if(n=="right"){l+=(m-z)}}if(g=="center"){k=k+(v-d)/2}else{if(g=="bottom"){k=k+v-d}}l=a.jqx._rup(l);k=a.jqx._rup(k);var u=a.jqx._rup(l+z);var c=a.jqx._rup(k+d);if(Math.abs(A)==90){j.appendChild(b);b.style.left=a.jqx._rup(l);b.style.top=a.jqx._rup(k);b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";if(q){this.endGroup();return j}return b}return line},shape:function(b,e){var c=document.createElement(this._createElementMarkup(b));if(!c){return undefined}for(var d in e){c.setAttribute(d,e[d])}this._activeParent().appendChild(c);return c},line:function(e,g,d,f,h){var b="M "+e+","+g+" L "+d+","+f+" X E";var c=this.path(b);this.setAttrs(c,h);return c},_createElementMarkup:function(b){var c="<v:"+b+' style=""></v:'+b+">";if(this._ie8mode){c=c.replace('style=""','style="behavior: url(#default#VML);"')}return c},path:function(c,e){var b=document.createElement(this._createElementMarkup("shape"));b.style.position="absolute";b.coordsize=this._width+" "+this._height;b.coordorigin="0 0";b.style.width=parseInt(this._width);b.style.height=parseInt(this._height);b.style.left=0;b.style.top=0;var d=document.createElement(this._createElementMarkup("path"));d.v=c;b.appendChild(d);this._activeParent().appendChild(b);if(e){this.setAttrs(b,e)}return b},rect:function(b,g,c,d,f){b=a.jqx._ptrnd(b);g=a.jqx._ptrnd(g);c=a.jqx._rup(c);d=a.jqx._rup(d);var e=this.shape("rect",f);e.style.position="absolute";e.style.left=b;e.style.top=g;e.style.width=c;e.style.height=d;e.strokeweight=0;return e},circle:function(b,e,d){var c=this.shape("oval");b=a.jqx._ptrnd(b-d);e=a.jqx._ptrnd(e-d);d=a.jqx._rup(d);c.style.position="absolute";c.style.left=b;c.style.top=e;c.style.width=d*2;c.style.height=d*2;return c},updateCircle:function(d,b,e,c){if(b==undefined){b=parseFloat(d.style.left)+parseFloat(d.style.width)/2}if(e==undefined){e=parseFloat(d.style.top)+parseFloat(d.style.height)/2}if(c==undefined){c=parseFloat(d.width)/2}b=a.jqx._ptrnd(b-c);e=a.jqx._ptrnd(e-c);c=a.jqx._rup(c);d.style.left=b;d.style.top=e;d.style.width=c*2;d.style.height=c*2},_getPieSlicePath:function(h,g,k,s,u,b){if(!k){k=1}var j=Math.abs(s-u);var m=j>180?1:0;if(j>360){s=0;u=360}var n=s*Math.PI*2/360;var f=u*Math.PI*2/360;if(b!=0){var i=j/2+s;var t=i*Math.PI*2/360;offsetX=b*Math.cos(t);offsetY=b*Math.sin(t);h+=offsetX;g-=offsetY}var p=a.jqx._ptrnd(h+k*Math.cos(n));var o=a.jqx._ptrnd(h+k*Math.cos(f));var d=a.jqx._ptrnd(g-k*Math.sin(n));var c=a.jqx._ptrnd(g-k*Math.sin(f));h=a.jqx._ptrnd(h);g=a.jqx._ptrnd(g);k=a.jqx._ptrnd(k);var e=Math.round(s*65535);var q=Math.round((u-s)*65536);var l="M"+h+" "+g;l+=" AE "+h+" "+g+" "+k+" "+k+" "+e+" "+q;l+=" X E";return l},pieslice:function(j,h,b,f,c,i,e){var g=this._getPieSlicePath(j,h,b,f,c,i);var d=this.path(g,e);if(e){this.setAttrs(d,e)}return d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"}],_translateParam:function(b){for(var c in this._keymap){if(this._keymap[c].svg==b){return this._keymap[c].vml}}return b},setAttrs:function(c,e){if(!c||!e){return}for(var d in e){var b=this._translateParam(d);if(b=="fillcolor"&&e[d].indexOf("grd")!=-1){c.type=e[d]}else{if(b=="opacity"||b=="fillopacity"){if(c.fill){c.fill.opacity=e[d]}}else{if(b.indexOf("style.")==-1){c[b]=e[d]}else{c.style[b.replace("style.","")]=e[d]}}}}},setAttr:function(d,c,e){var b=this._translateParam(c);d[b]=e},getAttr:function(d,c){var b=this._translateParam(c);if(b=="opacity"||b=="fillopacity"){if(d.fill){return d.fill.opacity}else{return 1}}if(b.indexOf("style.")==-1){return d[b]}return d.style[b.replace("style.","")]},_gradients:{},_toLinearGradient:function(g,i,j){if(this._ie8mode){return g}var d="grd"+g.replace("#","")+(i?"v":"h");var e="#"+d+"";if(this._gradients[e]){return e}var f=document.createElement(this._createElementMarkup("fill"));f.type="gradient";f.method="linear";f.angle=i?0:90;var c="";for(var h in j){if(h>0){c+=", "}c+=j[h][0]+"% "+a.jqx._adjustColor(g,j[h][1])}f.colors=c;var b=document.createElement(this._createElementMarkup("shapetype"));b.appendChild(f);b.id=d;this.canvas.appendChild(b);return e}}})(jQuery);