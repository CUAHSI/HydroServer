/*
jQWidgets v2.1.0 (2012-May-04)
Copyright (c) 2011-2012 jQWidgets.
License: http://jqwidgets.com/license/
*/

(function(a){a.jqx=a.jqx||{};a.jqx.define=function(b,c,d){b[c]=function(){if(this.baseType){this.base=new b[this.baseType]();this.base.defineInstance()}this.defineInstance()};b[c].prototype.defineInstance=function(){};b[c].prototype.base=null;b[c].prototype.baseType=undefined;if(d&&b[d]){b[c].prototype.baseType=d}};a.jqx.invoke=function(e,d){if(d.length==0){return}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):a({}).toArray();while(e[f]==undefined&&e.base!=null){e=e.base}if(e[f]!=undefined&&a.isFunction(e[f])){return e[f].apply(e,c)}if(typeof f=="string"){var b=f.toLowerCase();return e[b].apply(e,c)}return};a.jqx.hasFunction=function(e,d){if(d.length==0){return false}if(e==undefined){return false}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):{};while(e[f]==undefined&&e.base!=null){e=e.base}if(e[f]&&a.isFunction(e[f])){return true}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]&&a.isFunction(e[b])){return true}}return false};a.jqx.isPropertySetter=function(b){if(b.length==2){return true}return b.length==1&&typeof(b[0])=="object"};a.jqx.set=function(c,b){if(b.length==1&&typeof(b[0])=="object"){a.each(b[0],function(d,e){var f=c;while(f[d]==undefined&&f.base!=null){f=f.base}if(f[d]!=undefined||f[d]==null){a.jqx.setvalueraiseevent(f,d,e)}})}else{if(b.length==2){while(c[b[0]]==undefined&&c.base){c=c.base}if(c[b[0]]!=undefined||c[b[0]]==null){a.jqx.setvalueraiseevent(c,b[0],b[1])}}}};a.jqx.setvalueraiseevent=function(c,d,e){var b=c[d];c[d]=e;if(!c.isInitialized){return}if(c.propertyChangedHandler!=undefined){c.propertyChangedHandler(c,d,b,e)}if(c.propertyChangeMap!=undefined&&c.propertyChangeMap[d]!=undefined){c.propertyChangeMap[d](c,d,b,e)}};a.jqx.get=function(c,b){if(b==undefined||b==null){return undefined}if(c[b]!=undefined){return c[b]}if(b.length!=1){return undefined}while(c[b[0]]==undefined&&c.base){c=c.base}if(c[b[0]]!=undefined){return c[b[0]]}};a.jqx.jqxWidgetProxy=function(h,c,b){var d=a(c);var f=a.data(c,h);if(f==undefined){return undefined}var e=f.instance;if(a.jqx.hasFunction(e,b)){return a.jqx.invoke(e,b)}if(a.jqx.isPropertySetter(b)){a.jqx.set(e,b);return undefined}else{if(typeof(b)=="object"&&b.length==0){return}else{if(typeof(b)=="object"&&b.length>0){return a.jqx.get(e,b[0])}else{if(typeof(b)=="string"){return a.jqx.get(e,b)}}}}throw"jqxCore: Property or method does not exist.";return undefined};a.jqx.jqxWidget=function(b,c,i){try{jqxArgs=Array.prototype.slice.call(i,0)}catch(h){jqxArgs=""}var f=b;var d="";if(c){d="_"+c}a.jqx.define(a.jqx,"_"+f,d);a.fn[f]=function(){var e=Array.prototype.slice.call(arguments,0);var k=null;if(e.length==0||(e.length==1&&typeof(e[0])=="object")){return this.each(function(){var o=a(this);var n=this;var q=a.data(n,f);if(q==null){q={};q.element=n;q.host=o;q.instance=new a.jqx["_"+f]();a.data(n,f,q);var p=new Array();var l=q.instance;while(l){l.isInitialized=false;p.push(l);l=l.base}p.reverse();p[0].theme="";a.jqx.jqxWidgetProxy(f,this,e);for(var m in p){l=p[m];if(m==0){l.host=o;l.element=n}if(l.createInstance!=null){l.createInstance(e)}}for(var m in p){p[m].isInitialized=true}q.instance.refresh(true);k=this}else{a.jqx.jqxWidgetProxy(f,this,e)}})}else{this.each(function(){var l=a.jqx.jqxWidgetProxy(f,this,e);if(k==null){k=l}})}if(a.browser.msie&&a.browser.version<7){a.jqx.utilities.correctPNG()}return k};try{a.extend(a.jqx["_"+f].prototype,Array.prototype.slice.call(i,0)[0])}catch(h){}a.extend(a.jqx["_"+f].prototype,{toThemeProperty:function(e,k){if(this.theme==""){return e}if(k!=null&&k){return e+"-"+this.theme}return e+" "+e+"-"+this.theme}});a.jqx["_"+f].prototype.refresh=function(){if(this.base){this.base.refresh()}};a.jqx["_"+f].prototype.createInstance=function(){};a.jqx["_"+f].prototype.propertyChangeMap={};a.jqx["_"+f].prototype.addHandler=function(m,k,e,l){switch(k){case"mousewheel":if(window.addEventListener){if(a.browser.mozilla){m[0].addEventListener("DOMMouseScroll",e,false)}else{m[0].addEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(window.addEventListener&&!l){m[0].addEventListener("mousemove",e,false);return false}break}if(l==undefined||l==null){m.bind(k,e)}else{m.bind(k,l,e)}};a.jqx["_"+f].prototype.removeHandler=function(l,k,e){switch(k){case"mousewheel":if(window.removeEventListener){if(a.browser.mozilla){l[0].removeEventListener("DOMMouseScroll",e,false)}else{l[0].removeEventListener("mousewheel",e,false)}return false}break}if(e==undefined){l.unbind(k)}else{l.unbind(k,e)}}};a.jqx.utilities=a.jqx.utilities||{};a.extend(a.jqx.utilities,{setTheme:function(f,h,e){if(typeof e==="undefined"){return}var k=e[0].className.split(" "),b=[],l=[],d=e.children();for(var c=0;c<k.length;c+=1){if(k[c].indexOf(f)>=0){if(f.length>0){b.push(k[c]);l.push(k[c].replace(f,h))}else{l.push(k[c]+"-"+h)}}}this._removeOldClasses(b,e);this._addNewClasses(l,e);for(var c=0;c<d.length;c+=1){this.setTheme(f,h,a(d[c]))}},_removeOldClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.removeClass(d[b])}},_addNewClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.addClass(d[b])}},correctPNG:function(){var h=navigator.appVersion.split("MSIE");var k=parseFloat(h[1]);if((k>=5.5&&k<7)&&(document.body.filters)){for(var d=0;d<document.images.length;d++){var e=document.images[d];var m=e.src.toUpperCase();if(m.substring(m.length-3,m.length)=="PNG"){var f=(e.id)?"id='"+e.id+"' ":"";var n=(e.className)?"class='"+e.className+"' ":"";var c=(e.title)?"title='"+e.title+"' ":"title='"+e.alt+"' ";var l="display:inline-block;"+e.style.cssText;if(e.align=="left"){l="float:left;"+l}if(e.align=="right"){l="float:right;"+l}if(e.parentElement.href){l="cursor:hand;"+l}var b="<span "+f+n+c+' style="width:'+e.width+"px; height:"+e.height+"px;"+l+";filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e.src+"', sizingMethod='scale');\"></span>";e.outerHTML=b;d=d-1}}}},alphaBlend:function(f,d,h){var e=Array(parseInt("0x"+f.substring(1,3)),parseInt("0x"+f.substring(3,5)),parseInt("0x"+f.substring(5,7)));var c=Array(parseInt("0x"+d.substring(1,3)),parseInt("0x"+d.substring(3,5)),parseInt("0x"+d.substring(5,7)));r="0"+Math.round(e[0]+(c[0]-e[0])*h).toString(16);g="0"+Math.round(e[1]+(c[1]-e[1])*h).toString(16);d="0"+Math.round(e[2]+(c[2]-e[2])*h).toString(16);return"#"+r.substring(r.length-2)+g.substring(g.length-2)+d.substring(d.length-2)}});a.jqx.mobile=a.jqx.mobile||{};a.extend(a.jqx.mobile,{setMobileSimulator:function(c,e){if(this.isTouchDevice()){return}this.simulatetouches=true;if(e==false){this.simulatetouches=false}var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};if(window.addEventListener){window.addEventListener("load",function(){for(var f in d){if(c.addEventListener){c.addEventListener(f,function(k){var i=b(d[k.type],k);k.target.dispatchEvent(i);var h=k.target["on"+d[k.type]];if(typeof h==="function"){h(k)}},false)}document.addEventListener(f,function(k){var i=b(d[k.type],k);k.target.dispatchEvent(i);var h=k.target["on"+d[k.type]];if(typeof h==="function"){h(k)}},false)}},false)}var b=function(f,i){var h=document.createEvent("MouseEvents");h.initMouseEvent(f,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget);h._pageX=i.pageX;h._pageY=i.pageY;return h}},isTouchDevice:function(){var b="Browser CodeName: "+navigator.appCodeName+"";b+="Browser Name: "+navigator.appName+"";b+="Browser Version: "+navigator.appVersion+"";b+="Cookies Enabled: "+navigator.cookieEnabled+"";b+="Platform: "+navigator.platform+"";b+="User-agent header: "+navigator.userAgent+"";if(b.indexOf("Android")!=-1){return true}if(b.indexOf("IEMobile")!=-1){return true}if(b.indexOf("Windows Phone OS")!=-1){return true}if(b.indexOf("Windows Phone 6.5")!=-1){return true}if(b.indexOf("BlackBerry")!=-1&&b.indexOf("Mobile Safari")!=-1){return true}if(b.indexOf("ipod")!=-1){return true}if(b.indexOf("nokia")!=-1||b.indexOf("Nokia")!=-1){return true}if(b.indexOf("Chrome/17")!=-1){return false}try{document.createEvent("TouchEvent");return true}catch(c){return false}},getLeftPos:function(b){var c=b.offsetLeft;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=b.offsetLeft;if(document.all){c+=b.clientLeft}}}return c},getTopPos:function(b){var c=b.offsetTop;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=(b.offsetTop-b.scrollTop);if(document.all){c+=b.clientTop}}}if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()){return c}c=c+a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("android")!=-1;return b},isOperaMiniMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1||c.indexOf("opera mobi")!=-1;return b},isOperaMiniBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1;return b},isNewSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/5")!=-1);return b},isSafari4MobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/4")!=-1);return b},isSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;return b},isIPhoneSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("iphone")!=-1;return b},isIPadSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1;return b},isMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("android")!=-1;return b},getTouches:function(b){if(b.originalEvent){if(b.originalEvent.touches&&b.originalEvent.touches.length){return b.originalEvent.touches}else{if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length){return b.originalEvent.changedTouches}}}if(!b.touches){b.touches=new Array();b.touches[0]=b.originalEvent}return b.touches},dispatchMouseEvent:function(b,f,d){if(this.simulatetouches){return}var c=document.createEvent("MouseEvent");c.initMouseEvent(b,true,true,f.view,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,0,null);if(d!=null){d.dispatchEvent(c)}},getRootNode:function(b){while(b.nodeType!==1){b=b.parentNode}return b},touchScroll:function(c,t,e,u){if(c==null){return}var v=this;var p=0;var h=0;var i=0;var q=0;var k=0;var l=0;var m=false;var f=false;var n=a(c);var s=["select","input","textarea"];var b=0;var d=0;n.bind("touchstart.touchScroll",function(w){if(a.inArray(w.target.tagName.toLowerCase(),s)!==-1){return}var x=v.getTouches(w);var y=x[0];if(x.length==1){v.dispatchMouseEvent("mousedown",y,v.getRootNode(y.target))}m=true;f=false;h=y.pageY;k=y.pageX;if(v.simulatetouches){h=y._pageY;k=y._pageX}p=0;q=0;return true});n.bind("touchmove.touchScroll",function(A){if(!m){return true}var B=v.getTouches(A);if(B.length>1){return true}var y=B[0].pageY;var z=B[0].pageX;if(v.simulatetouches){y=B[0]._pageY;z=B[0]._pageX}var w=y-h;var x=z-k;d=y;touchHorizontalEnd=z;i=w-p;l=x-q;f=true;p=w;q=x;e(-l*3,-i*3,x,w,A);A.preventDefault();A.stopPropagation();return false});if(this.simulatetouches){a(window).bind("mouseup.touchScroll",function(w){m=false});if(window.frameElement){if(window.top!=null){var o=function(w){m=false};if(window.top.document.addEventListener){window.top.document.removeEventListener("mouseup",o,false);window.top.document.addEventListener("mouseup",o,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",o)}}}}a(document).bind("touchend",function(w){if(!m){return true}m=false;var y=v.getTouches(w)[0],x=v.getRootNode(y.target);v.dispatchMouseEvent("mouseup",y,x);v.dispatchMouseEvent("click",y,x)})}n.bind("touchend.touchScroll touchcancel.touchScroll",function(w){var y=v.getTouches(w)[0];if(!m){return true}m=false;if(f){v.dispatchMouseEvent("mouseup",y,x)}else{var y=v.getTouches(w)[0],x=v.getRootNode(y.target);w.preventDefault();w.stopPropagation();v.dispatchMouseEvent("mouseup",y,x);v.dispatchMouseEvent("click",y,x)}})}});a.jqx.cookie=a.jqx.cookie||{};a.extend(a.jqx.cookie,{cookie:function(e,f,c){if(arguments.length>1&&String(f)!=="[object Object]"){c=jQuery.extend({},c);if(f===null||f===undefined){c.expires=-1}if(typeof c.expires==="number"){var i=c.expires,d=c.expires=new Date();d.setDate(d.getDate()+i)}f=String(f);return(document.cookie=[encodeURIComponent(e),"=",c.raw?f:encodeURIComponent(f),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join(""))}c=f||{};var b,h=c.raw?function(k){return k}:decodeURIComponent;return(b=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?h(b[1]):null}});a.jqx.string=a.jqx.string||{};a.extend(a.jqx.string,{contains:function(b,c){if(b==null||c==null){return false}return b.indexOf(c)!=-1},containsIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().indexOf(c.toUpperCase())!=-1},equals:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.slice(0,c.length)==c}return false},equalsIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.toUpperCase().slice(0,c.length)==c.toUpperCase()}return false},startsWith:function(b,c){if(b==null||c==null){return false}return b.slice(0,c.length)==c},startsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().slice(0,c.length)==c.toUpperCase()},normalize:function(b){if(b.charCodeAt(b.length-1)==65279){b=b.substring(0,b.length-1)}return b},endsWith:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.slice(-c.length)==c},endsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.toUpperCase().slice(-c.length)==c.toUpperCase()}});a.extend(jQuery.easing,{easeOutBack:function(f,h,e,l,k,i){if(i==undefined){i=1.70158}return l*((h=h/k-1)*h*((i+1)*h+i)+1)+e},easeInQuad:function(f,h,e,k,i){return k*(h/=i)*h+e},easeInOutCirc:function(f,h,e,k,i){if((h/=i/2)<1){return -k/2*(Math.sqrt(1-h*h)-1)+e}return k/2*(Math.sqrt(1-(h-=2)*h)+1)+e},easeInOutSine:function(f,h,e,k,i){return -k/2*(Math.cos(Math.PI*h/i)-1)+e}})})(jQuery);(function(a){a.fn.extend({ischildof:function(c){var b=a(this).parents().get();for(j=0;j<b.length;j++){if(a(b[j]).is(c)){return true}}return false}})})(jQuery);(function(a){a.jqx.dataAdapter=function(e,b){this._source=e;this._options=b||{};this.records=new Array();this._downloadComplete=new Array();this._bindingUpdate=new Array();if(this._options.autoBind==true){this.dataBind()}if(e!=undefined&&e.localdata!=null&&typeof e.localdata=="function"){var d=e.localdata();if(d!=null){e._localdata=e.localdata;var c=this;if(e._localdata.subscribe){e._localdata.subscribe(function(h){var g=c._oldCount!=h.length;var f=g?"createRemoveData":"updateData";c.dataBind(null,f);c._oldCount=h.length})}e.localdata=d;c._oldCount=d.length}}};a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},dataBind:function(f,e){var b=this._source;if(!b){return}if(b.dataFields!=null){b.datafields=b.dataFields}if(b.recordstartindex==undefined){b.recordstartindex=0}if(b.recordendindex==undefined){b.recordendindex=0}if(b.loadallrecords==undefined){b.loadallrecords=true}if(b.sort!=undefined){this.sort=b.sort}if(b.filter!=undefined){this.filter=b.filter}this.records=new Array();var r=this._options||{};this.virtualmode=r.virtualmode!=undefined?r.virtualmode:false;this.totalrecords=r.totalrecords!=undefined?r.totalrecords:0;this.pageable=r.pageable!=undefined?r.pageable:false;this.pagesize=r.pagesize!=undefined?r.pagesize:0;this.pagenum=r.pagenum!=undefined?r.pagenum:0;this.cachedrecords=r.cachedrecords!=undefined?r.cachedrecords:new Array();this.originaldata=new Array();this.recordids=new Array();this.updaterow=r.updaterow!=undefined?r.updaterow:null;this.addrow=r.addrow!=undefined?r.addrow:null;this.deleterow=r.deleterow!=undefined?r.deleterow:null;var k=this;var g=b.datatype;if(b.datatype==="csv"||b.datatype==="tab"||b.datatype=="text"){g="text"}var d=r.async!=undefined?r.async:true;if(b.async!=undefined){d=b.async}switch(g){case"local":case"array":default:var c=b.localdata.length;this.totalrecords=this.virtualmode?(b.totalrecords||c):c;if(this.totalrecords==undefined){this.totalrecords=0}var o=b.datafields?b.datafields.length:0;var m=function(s,z){var x={};for(j=0;j<z;j++){var u=b.datafields[j];var w="";if(undefined==u||u==null){continue}if(u.map){var t=u.map.split(">");if(t.length>0){var v=s;for(var y=0;y<t.length;y++){v=v[t[y]]}w=v}else{w=s[u.map]}if(w!=undefined&&w!=null){w=w.toString()}else{w=""}}if(w==""){w=s[u.name];if(w!=undefined&&w!=null){w=w.toString()}else{w=""}}w=k.getvaluebytype(w,u);x[u.name]=w}return x};if(!a.isArray(b.localdata)){this.records=new Array();a.each(b.localdata,function(t){if(o>0){var s=this;var u=m(s,o);k.records[k.records.length]=u}else{k.records[k.records.length]=this}})}else{if(o==0){this.records=b.localdata}else{a.each(b.localdata,function(t){var s=this;var u=m(s,o);k.records[k.records.length]=u})}}this.originaldata=b.localdata;this.cachedrecords=this.records;if(r.uniqueDataFields){var q=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=q;this.cachedrecords=q}if(a.isFunction(r.loadComplete)){r.loadComplete(b.localdata)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(b.localdata!=null){if(a.isFunction(b.beforeprocessing)){b.beforeprocessing(b.localdata)}if(b.datatype==="xml"){k.loadxml(b.localdata,b.localdata,b)}else{if(g==="text"){k.loadtext(b.localdata,b)}else{k.loadjson(b.localdata,b.localdata,b)}}if(r.uniqueDataFields){var q=k.getUniqueRecords(k.records,r.uniqueDataFields);k.records=q;k.cachedrecords=q}if(a.isFunction(r.loadComplete)){r.loadComplete(b.localdata)}return}var l=r.data!=undefined?r.data:{};if(b.processdata){b.processdata(l)}if(a.isFunction(r.processData)){r.processData(l)}if(a.isFunction(r.formatData)){var n=r.formatData(l);if(n!=undefined){l=n}}var p="application/x-www-form-urlencoded";if(r.contentType){p=r.contentType}var h="GET";if(r.type){h=r.type}if(b.url&&b.url.length>0){a.ajax({dataType:g,type:h,url:b.url,async:d,contentType:p,data:l,success:function(v,s,x){if(a.isFunction(b.beforeprocessing)){var w=b.beforeprocessing(v,s,x);if(w!=undefined){v=w}}if(a.isFunction(r.downloadComplete)){var w=r.downloadComplete(v,s,x);if(w!=undefined){v=w}}if(v==null){return}var t=v;if(v.records){t=v.records}if(v.totalrecords){b.totalrecords=v.totalrecords}if(b.datatype==="xml"){k.loadxml(null,t,b)}else{if(g==="text"){k.loadtext(t,b)}else{k.loadjson(null,t,b)}}if(r.uniqueDataFields){var u=k.getUniqueRecords(k.records,r.uniqueDataFields);k.records=u;k.cachedrecords=u}k.callDownloadComplete();if(a.isFunction(r.loadComplete)){r.loadComplete(v)}},error:function(u,s,t){if(a.isFunction(b.loaderror)){b.loaderror(u,s,t)}if(a.isFunction(r.loadError)){r.loadError(u,s,t)}u=null;k.callDownloadComplete()},beforeSend:function(t,s){if(a.isFunction(r.beforeSend)){r.beforeSend(t,s)}if(a.isFunction(b.beforesend)){b.beforesend(t,s)}}})}else{k.callDownloadComplete();if(a.isFunction(r.loadComplete)){r.loadComplete(data)}}break}this.callBindingUpdate(e)},getUniqueRecords:function(d,f){if(d&&f){var b=d.length;var l=f.length;var h=new Array();var k=new Array();for(urec=0;urec<b;urec++){var g=d[urec];var e="";for(datafieldindex=0;datafieldindex<l;datafieldindex++){var c=f[datafieldindex];e+=g[c]+"_"}if(!k[e]){h[h.length]=g}k[e]=true}}return h},bindDownloadComplete:function(c,b){this._downloadComplete[this._downloadComplete.length]={id:c,func:b}},unbindDownloadComplete:function(c){for(var b=0;b<this._downloadComplete.length;b++){if(this._downloadComplete[b].id==c){this._downloadComplete[b].func=null;this._downloadComplete.splice(b,1);break}}},callDownloadComplete:function(){for(complete=0;complete<this._downloadComplete.length;complete++){var b=this._downloadComplete[complete];if(b.func!=null){b.func()}}},bindBindingUpdate:function(c,b){this._bindingUpdate[this._bindingUpdate.length]={id:c,func:b}},unbindBindingUpdate:function(c){for(var b=0;b<this._bindingUpdate.length;b++){if(this._bindingUpdate[b].id==c){this._bindingUpdate[b].func=null;this._bindingUpdate.splice(b,1);break}}},callBindingUpdate:function(b){for(var d=0;d<this._bindingUpdate.length;d++){var c=this._bindingUpdate[d];if(c.func!=null){c.func(b)}}},getid:function(e,c,d){if(a(e,c).length>0){return a(e,c).text()}if(e){if(e.toString().length>0){var b=a(c).attr(e);if(b!=null&&b.toString().length>0){return b}}}return d},loadjson:function(k,m,b){if(typeof(k)=="string"){k=a.parseJSON(k)}if(b.root==undefined){b.root=""}if(b.record==undefined){b.record=""}var k=k||m;if(!k){k=[]}if(b.root!=""){if(k[b.root]!=undefined){k=k[b.root]}else{a.each(k,function(u){var t=this;if(this==b.root){k=this;return false}else{if(this[b.root]!=undefined){k=this[b.root]}}})}}else{if(!k.length){for(obj in k){if(a.isArray(k[obj])){k=k[obj];break}}}}if(k!=null&&k.length==undefined){k=a.makeArray(k)}if(k==null||k.length==undefined){alert("JSON Parse error.");return}if(k.length==0){return}var e=k.length;this.totalrecords=this.virtualmode?(b.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var h=this.records;var s=!this.pageable?b.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(b.loadallrecords){s=0;e=this.totalrecords}var d=0;if(this.virtualmode){s=!this.pageable?b.recordstartindex:this.pagesize*this.pagenum;d=s;s=0;e=this.totalrecords}var r=b.datafields?b.datafields.length:0;if(r==0){var l=k[0];var g=new Array();for(obj in l){var p=obj;g[g.length]={name:p}}b.datafields=g;r=g.length}for(i=s;i<e;i++){var n=k[i];if(n==undefined){break}if(b.record&&b.record!=""){n=n[b.record]}var c=this.getid(b.id,n,i);if(!this.recordids[c]){this.recordids[c]=n;var o={};for(j=0;j<r;j++){var f=b.datafields[j];var q="";if(undefined==f||f==null){continue}if(f.map){q=n[f.map];if(q!=undefined&&q!=null){q=q.toString()}else{q=""}}if(q==""){q=n[f.name];if(q!=undefined&&q!=null){q=q.toString()}else{q=""}}q=this.getvaluebytype(q,f);o[f.name]=q}if(b.recordendindex<=0||s<b.recordendindex){h[d+i]=a.extend({},o);h[d+i].uid=c;this.originaldata[d+i]=a.extend({},h[i])}}}this.records=h;this.cachedrecords=this.records},loadxml:function(p,m,c){if(typeof(p)=="string"){p=m=a(a.parseXML(p))}if(c.root==undefined){c.root=""}if(c.record==undefined){c.record=""}var p=p||a(c.root+" "+c.record,m);if(!p){p=[]}var f=p.length;if(p.length==0){return}this.totalrecords=this.virtualmode?(c.totalrecords||f):f;this.records=new Array();this.originaldata=new Array();var k=this.records;var t=!this.pageable?c.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(c.loadallrecords){t=0;f=this.totalrecords}var e=0;if(this.virtualmode){t=!this.pageable?c.recordstartindex:this.pagesize*this.pagenum;e=t;t=0;f=this.totalrecords}var s=c.datafields?c.datafields.length:0;if(s==0){var l=p[0];var h=new Array();for(obj in l){var q=obj;h[h.length]={name:q}}c.datafields=h;s=h.length}for(i=t;i<f;i++){var n=p[i];if(n==undefined){break}var d=this.getid(c.id,n,i);if(!this.recordids[d]){this.recordids[d]=n;var o={};for(j=0;j<s;j++){var g=c.datafields[j];var r="";if(undefined==g||g==null){continue}if(g.map){r=a(g.map,n).text()}if(r==""){r=a(g.name,n).text()}var b=r;r=this.getvaluebytype(r,g);o[g.name]=r}if(c.recordendindex<=0||t<c.recordendindex){k[e+i]=a.extend({},o);k[e+i].uid=d;this.originaldata[e+i]=a.extend({},k[i])}}}this.records=k;this.cachedrecords=this.records},loadtext:function(k,b){if(k==null){return}var t=b.rowDelimiter||"\n";var s=k.split(t);var e=s.length;this.totalrecords=this.virtualmode?(b.totalrecords||e):e;this.records=new Array();this.originaldata=new Array();var g=this.records;var r=!this.pageable?b.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(b.loadallrecords){r=0;e=this.totalrecords}var d=0;if(this.virtualmode){r=!this.pageable?b.recordstartindex:this.pagesize*this.pagenum;d=r;r=0;e=this.totalrecords}var o=b.datafields.length;var q=b.columnDelimiter;if(!q){q=(b.datatype==="tab")?"\t":","}for(i=r;i<e;i++){var l=s[i];var c=this.getid(b.id,l,i);if(!this.recordids[c]){this.recordids[c]=l;var m={};var h=s[i].split(q);for(j=0;j<o;j++){if(j>=h.lenght){continue}var f=b.datafields[j];var n=h[j];if(f.type){n=this.getvaluebytype(n,f)}var p=f.map||f.name||j.toSring();m[p]=n}g[d+i]=a.extend({},m);g[d+i].uid=c;this.originaldata[d+i]=a.extend({},g[i])}}this.records=g;this.cachedrecords=this.records},getvaluebytype:function(f,c){var d=f;if(c.type=="date"){var e=new Date(f);if(typeof f=="string"){if(c.format){var b=a.jqx.dataFormat.parsedate(f,c.format);if(b!=null){e=b}}}if(e.toString()=="NaN"||e.toString()=="Invalid Date"){if(a.jqx.dataFormat){f=a.jqx.dataFormat.tryparsedate(f)}else{f=e}}else{f=e}if(f==null){f=d}}else{if(c.type=="float"||c.type=="number"||c.type=="decimal"){var f=parseFloat(f);if(isNaN(f)){f=d}}else{if(c.type=="int"||c.type=="integer"){var f=parseInt(f);if(isNaN(f)){f=d}}else{if(c.type=="bool"||c.type=="boolean"){if(f!=null){if(f.toLowerCase()=="false"){f=false}else{if(f.toLowerCase()=="true"){f=true}}}if(f==1){f=true}else{if(f==0){f=false}else{f=""}}}}}}return f}};a.jqx.dataFormat={};a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(b){return typeof b==="boolean"},isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},isDate:function(b){return b instanceof Date},arrayIndexOf:function(e,d){if(e.indexOf){return e.indexOf(d)}for(var b=0,c=e.length;b<c;b++){if(e[b]===d){return b}}return -1},isString:function(b){return typeof b==="string"},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isNull:function(b){return b===null},isUndefined:function(b){return typeof b==="undefined"},isValue:function(b){return(this.isObject(b)||this.isString(b)||this.isNumber(b)||this.isBoolean(b))},isEmpty:function(b){if(!this.isString(b)&&this.isValue(b)){return false}else{if(!this.isValue(b)){return true}}b=a.trim(b).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return b===""},startsWith:function(c,b){return c.indexOf(b)===0},endsWith:function(c,b){return c.substr(c.length-b.length)===b},trim:function(b){return(b+"").replace(this.regexTrim,"")},isArray:function(b){return this.toString.call(b)==="[object Array]"},defaultcalendar:function(){var b={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-mm-dd hh:mm:ss"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return b},expandFormat:function(f,e){e=e||"F";var d,c=f.patterns,b=e.length;if(b===1){d=c[e];if(!d){throw"Invalid date format string '"+e+"'."}e=d}else{if(b===2&&e.charAt(0)==="%"){e=e.charAt(1)}}return e},getEra:function(d,c){if(!c){return 0}var g,f=d.getTime();for(var e=0,b=c.length;e<b;e++){g=c[e].start;if(g===null||f>=g){return e}}return 0},toUpper:function(b){return b.split("\u00A0").join(" ").toUpperCase()},toUpperArray:function(b){var e=[];for(var d=0,c=b.length;d<c;d++){e[d]=toUpper(b[d])}return e},getEraYear:function(c,e,b,f){var d=c.getFullYear();if(!f&&e.eras){d-=e.eras[b].offset}return d},getDayIndex:function(f,e,c){var b,g=f.days,d=f._upperDays;if(!d){f._upperDays=d=[toUpperArray(g.names),toUpperArray(g.namesAbbr),toUpperArray(g.namesShort)]}e=toUpper(e);if(c){b=this.arrayIndexOf(d[1],e);if(b===-1){b=this.arrayIndexOf(d[2],e)}}else{b=this.arrayIndexOf(d[0],e)}return b},getMonthIndex:function(k,h,d){var b=k.months,c=k.monthsGenitive||k.months,f=k._upperMonths,g=k._upperMonthsGen;if(!f){k._upperMonths=f=[toUpperArray(b.names),toUpperArray(b.namesAbbr)];k._upperMonthsGen=g=[toUpperArray(c.names),toUpperArray(c.namesAbbr)]}h=toUpper(h);var e=this.arrayIndexOf(d?f[1]:f[0],h);if(e<0){e=this.arrayIndexOf(d?g[1]:g[0],h)}return e},appendPreOrPostMatch:function(f,b){var e=0,h=false;for(var g=0,d=f.length;g<d;g++){var k=f.charAt(g);switch(k){case"'":if(h){b.push("'")}else{e++}h=false;break;case"\\":if(h){b.push("\\")}h=!h;break;default:b.push(k);h=false;break}}return e},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(b,d){var c="";if(d&&d.target){c="target="+d.target}if(c!=""){return"<a "+c+' href="'+b+'">'+b+"</a>"}return'<a href="'+b+'">'+b+"</a>"},formatemail:function(b){return'<a href="mailto:'+b+'">'+b+"</a>"},formatnumber:function(q,p,l){if(l==undefined||l==null){l=this.defaultcalendar()}if(!this.isNumber(q)){q*=1}var m;if(p.length>1){m=parseInt(p.slice(1),10)}var s={};var n=p.charAt(0).toUpperCase();s.thousandsSeparator=l.thousandsseparator;s.decimalSeparator=l.decimalseparator;switch(n){case"D":case"d":case"F":case"f":s.decimalPlaces=m;break;case"N":case"n":s.decimalPlaces=0;break;case"C":case"c":s.decimalPlaces=m;if(l.currencysymbolposition=="before"){s.prefix=l.currencysymbol}else{s.suffix=l.currencysymbol}break;case"P":case"p":s.suffix=l.percentagesymbol;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(q)){var f=(q<0);var d=q+"";var o=(s.decimalSeparator)?s.decimalSeparator:".";var b;if(this.isNumber(s.decimalPlaces)){var g=s.decimalPlaces;var k=Math.pow(10,g);d=Math.round(q*k)/k+"";b=d.lastIndexOf(".");if(g>0){if(b<0){d+=o;b=d.length-1}else{if(o!=="."){d=d.replace(".",o)}}while((d.length-1-b)<g){d+="0"}}}if(s.thousandsSeparator){var r=s.thousandsSeparator;b=d.lastIndexOf(o);b=(b>-1)?b:d.length;var e=d.substring(b);var c=-1;for(var h=b;h>0;h--){c++;if((c%3===0)&&(h!==b)&&(!f||(h>1))){e=r+e}e=d.charAt(h-1)+e}d=e}d=(s.prefix)?s.prefix+d:d;d=(s.suffix)?d+s.suffix:d;return d}else{return q}},tryparsedate:function(k,f){if(f==undefined||f==null){f=this.defaultcalendar()}var h=this;if(k!=null&&k.substring(0,6)=="/Date("){var c=new Date(+k.replace(/\/Date\((\d+)\)\//,"$1"));return c}patterns=f.patterns;for(prop in patterns){c=h.parsedate(k,patterns[prop],f);if(c){return c}}if(k!=null){var d=null;var l=[":","/","-"];var g=true;for(var b=0;b<l.length;b++){if(k.indexOf(l[b])!=-1){g=false}}if(g){var e=new Number(k);if(!isNaN(e)){return new Date(e)}}}return null},getparseregexp:function(b,p){var r=b._parseRegExp;if(!r){b._parseRegExp=r={}}else{var f=r[p];if(f){return f}}var o=this.expandFormat(b,p).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),l=["^"],c=[],k=0,e=0,u=this.getTokenRegExp(),g;while((g=u.exec(o))!==null){var t=o.slice(k,g.index);k=u.lastIndex;e+=this.appendPreOrPostMatch(t,l);if(e%2){l.push(g[0]);continue}var d=g[0],h=d.length,q;switch(d){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":q="(\\D+)";break;case"tt":case"t":q="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":q="(\\d{"+h+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":q="(\\d\\d?)";break;case"zzz":q="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":q="([+-]?\\d\\d?)";break;case"/":q="(\\"+b["/"]+")";break;default:throw"Invalid date format pattern '"+d+"'.";break}if(q){l.push(q)}c.push(g[0])}this.appendPreOrPostMatch(o.slice(k),l);l.push("$");var s=l.join("").replace(/\s+/g,"\\s+"),n={regExp:s,groups:c};return r[p]=n},outOfRange:function(d,b,c){return d<b||d>c},expandYear:function(g,e){var c=new Date(),b=getEra(c);if(e<100){var d=g.twoDigitYearMax;d=typeof d==="string"?new Date().getFullYear()%100+parseInt(d,10):d;var f=this.getEraYear(c,g,b);e+=f-(f%100);if(e>d){e-=100}}return e},parsedate:function(z,G,u){if(u==undefined||u==null){u=this.defaultcalendar()}z=this.trim(z);var r=u,L=this.getparseregexp(r,G),k=new RegExp(L.regExp).exec(z);if(k===null){return null}var H=L.groups,x=null,p=null,K=null,J=null,q=null,g=0,C,B=0,I=0,b=0,d=null,s=false;for(var D=0,F=H.length;D<F;D++){var c=k[D+1];if(c){var y=H[D],f=y.length,h=parseInt(c,10);switch(y){case"dd":case"d":J=h;if(this.outOfRange(J,1,31)){return null}break;case"MMM":case"MMMM":K=this.getMonthIndex(r,c,f===3);if(this.outOfRange(K,0,11)){return null}break;case"M":case"MM":K=h-1;if(this.outOfRange(K,0,11)){return null}break;case"y":case"yy":case"yyyy":p=f<4?this.expandYear(r,h):h;if(this.outOfRange(p,0,9999)){return null}break;case"h":case"hh":g=h;if(g===12){g=0}if(this.outOfRange(g,0,11)){return null}break;case"H":case"HH":g=h;if(this.outOfRange(g,0,23)){return null}break;case"m":case"mm":B=h;if(this.outOfRange(B,0,59)){return null}break;case"s":case"ss":I=h;if(this.outOfRange(I,0,59)){return null}break;case"tt":case"t":s=r.PM&&(c===r.PM[0]||c===r.PM[1]||c===r.PM[2]);if(!s&&(!r.AM||(c!==r.AM[0]&&c!==r.AM[1]&&c!==r.AM[2]))){return null}break;case"f":case"ff":case"fff":b=h*Math.pow(10,3-f);if(this.outOfRange(b,0,999)){return null}break;case"ddd":case"dddd":q=this.getDayIndex(r,c,f===3);if(this.outOfRange(q,0,6)){return null}break;case"zzz":var e=c.split(/:/);if(e.length!==2){return null}C=parseInt(e[0],10);if(this.outOfRange(C,-12,13)){return null}var n=parseInt(e[1],10);if(this.outOfRange(n,0,59)){return null}d=(C*60)+(startsWith(c,"-")?-n:n);break;case"z":case"zz":C=h;if(this.outOfRange(C,-12,13)){return null}d=C*60;break;case"g":case"gg":var t=c;if(!t||!r.eras){return null}t=trim(t.toLowerCase());for(var E=0,A=r.eras.length;E<A;E++){if(t===r.eras[E].name.toLowerCase()){x=E;break}}if(x===null){return null}break}}}var o=new Date(),w,m=r.convert;w=o.getFullYear();if(p===null){p=w}else{if(r.eras){p+=r.eras[(x||0)].offset}}if(K===null){K=0}if(J===null){J=1}if(m){o=m.toGregorian(p,K,J);if(o===null){return null}}else{o.setFullYear(p,K,J);if(o.getDate()!==J){return null}if(q!==null&&o.getDay()!==q){return null}}if(s&&g<12){g+=12}o.setHours(g,B,I,b);if(d!==null){var v=o.getMinutes()-(d+o.getTimezoneOffset());o.setHours(o.getHours()+parseInt(v/60,10),v%60)}return o},cleardatescache:function(){this.datescache=new Array()},formatdate:function(w,A,r){if(r==undefined||r==null){r=this.defaultcalendar()}var e=w.toString()+"_"+A;if(this.datescache&&this.datescache[e]){return this.datescache[e]}if(!A||!A.length||A==="i"){var C;C=this.formatDate(w,r.patterns.F,culture);return C}var x=r.eras,c=A==="s";A=this.expandFormat(r,A);C=[];var h,y=["0","00","000"],n,o,b=/([^d]|^)(d|dd)([^d]|$)/g,B=0,t=this.getTokenRegExp(),d;function l(D,G){var F,E=D+"";if(G>1&&E.length<G){F=(y[G-2]+E);return F.substr(F.length-G,G)}else{F=E}return F}function z(){if(n||o){return n}n=b.test(A);o=true;return n}function f(E,D){if(d){return d[D]}switch(D){case 0:return E.getFullYear();case 1:return E.getMonth();case 2:return E.getDate()}}for(;;){var k=t.lastIndex,s=t.exec(A);var p=A.slice(k,s?s.index:A.length);B+=this.appendPreOrPostMatch(p,C);if(!s){break}if(B%2){C.push(s[0]);continue}var u=s[0],g=u.length;switch(u){case"ddd":case"dddd":var q=(g===3)?r.days.namesAbbr:r.days.names;C.push(q[w.getDay()]);break;case"d":case"dd":n=true;C.push(l(f(w,2),g));break;case"MMM":case"MMMM":var v=f(w,1);C.push(r.months[g===3?"namesAbbr":"names"][v]);break;case"M":case"MM":C.push(l(f(w,1)+1,g));break;case"y":case"yy":case"yyyy":v=this.getEraYear(w,r,this.getEra(w,x),c);if(g<4){v=v%100}C.push(l(v,g));break;case"h":case"hh":h=w.getHours()%12;if(h===0){h=12}C.push(l(h,g));break;case"H":case"HH":C.push(l(w.getHours(),g));break;case"m":case"mm":C.push(l(w.getMinutes(),g));break;case"s":case"ss":C.push(l(w.getSeconds(),g));break;case"t":case"tt":v=w.getHours()<12?(r.AM?r.AM[0]:" "):(r.PM?r.PM[0]:" ");C.push(g===1?v.charAt(0):v);break;case"f":case"ff":case"fff":C.push(l(w.getMilliseconds(),3).substr(0,g));break;case"z":case"zz":h=w.getTimezoneOffset()/60;C.push((h<=0?"+":"-")+l(Math.floor(Math.abs(h)),g));break;case"zzz":h=w.getTimezoneOffset()/60;C.push((h<=0?"+":"-")+l(Math.floor(Math.abs(h)),2)+":"+l(Math.abs(w.getTimezoneOffset()%60),2));break;case"g":case"gg":if(r.eras){C.push(r.eras[getEra(w,x)].name)}break;case"/":C.push(r["/"]);break;default:throw"Invalid date format pattern '"+u+"'.";break}}var m=C.join("");if(!this.datescache){this.datescache=new Array()}this.datescache[e]=m;return m}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxValidator","",{});a.extend(a.jqx._jqxValidator.prototype,{defineInstance:function(){this.rules=null;this.scroll=true;this.focus=true;this.scrollDuration=300;this.scrollCallback=null;this.position="right";this.arrow=true;this.animation="fade";this.animationDuration=150;this.closeOnClick=true;this.onError=null;this.onSuccess=null;this.ownerElement=null;this._events=["validationError","validationSuccess"];this._margin=5;this._inputHint=[]},createInstance:function(){this._configureInputs();this._removeEventListeners();this._addEventListeners()},destroy:function(){this._removeEventListeners();this.hide()},validate:function(){var b=true,k,d=Infinity,g,f,c,h=[],j;this.updatePosition();for(var e=0;e<this.rules.length;e+=1){k=this._validateRule(this.rules[e]);if(!k){b=false;c=a(this.rules[e].input);h.push(c);g=c.offset().top;if(d>g){d=g;f=c}}}this._handleValidation(b,d,f,h);return b},validateInput:function(b){var e=this._getRulesForInput(b),d=true;for(var c=0;c<e.length;c+=1){if(!this._validateRule(e[c])){d=false}}return d},hideHint:function(b){var d=this._getRulesForInput(b);for(var c=0;c<d.length;c+=1){this._hideHintByRule(d[c])}},hide:function(){var c;for(var b=0;b<this.rules.length;b+=1){c=this.rules[b];this._hideHintByRule(this.rules[b])}},updatePosition:function(){var c;for(var b=0;b<this.rules.length;b+=1){c=this.rules[b];if(c.hint){this._hintLayout(c.hint,a(c.input),c.position)}}},_getRulesForInput:function(b){var d=[];for(var c=0;c<this.rules.length;c+=1){if(this.rules[c].input===b){d.push(this.rules[c])}}return d},_validateRule:function(d){var b=a(d.input),e,c=true;if(typeof d.rule==="function"&&!d.rule.call(this,b)){if(typeof d.hintRender==="function"&&!d.hint&&!this._higherPriorityActive(d)&&b.is(":visible")){e=d.hintRender.apply(this,[d.message,b]);this._hintLayout(e,b,d.position);this._showHint(e);d.hint=e;this._removeLowPriorityHints(d)}c=false}else{this._hideHintByRule(d)}return c},_hideHintByRule:function(c){var b=this,d;if(c){d=c.hint;if(d){if(this.animation==="fade"){d.fadeOut(this.animationDuration,function(){d.remove()})}else{d.remove()}}c.hint=null}},_handleValidation:function(b,e,d,c){if(!b){this._scrollHandler(e);if(this.focus){d.focus()}this._raiseEvent(0,{invalidInputs:c});if(typeof this.onError==="function"){this.onError(c)}}else{this._raiseEvent(1);if(typeof this.onSuccess==="function"){this.onSuccess()}}},_scrollHandler:function(c){if(this.scroll){var b=this;a("html,body").animate({scrollTop:c},this.scrollDuration,function(){if(typeof b.scrollCallback==="function"){b.scrollCallback.call(b)}})}},_higherPriorityActive:function(d){var e=false,c;for(var b=this.rules.length-1;b>=0;b-=1){c=this.rules[b];if(e&&c.input===d.input&&c.hint){return true}if(c===d){e=true}}return false},_removeLowPriorityHints:function(d){var e=false,c;for(var b=0;b<this.rules.length;b+=1){c=this.rules[b];if(e&&c.input===d.input){this._hideHintByRule(c)}if(c===d){e=true}}},_getHintRuleByInput:function(b){var d;for(var c=0;c<this.rules.length;c+=1){d=this.rules[c];if(a(d.input)[0]===b[0]&&d.hint){return d}}return null},_removeEventListeners:function(){var f,b,e;for(var d=0;d<this.rules.length;d+=1){f=this.rules[d];e=f.action.split(",");b=a(f.input);for(var c=0;c<e.length;c+=1){this.removeHandler(b,a.trim(e[c])+".jqx-validator")}}},_addEventListeners:function(){var f,c;if(this.host.parents(".jqx-window").length>0){var b=this;var g=function(){b.updatePosition()};var e=this.host.parents(".jqx-window");this.addHandler(e,"moved",g);this.addHandler(e,"moving",g);this.addHandler(e,"resized",g);this.addHandler(e,"resizing",g)}for(var d=0;d<this.rules.length;d+=1){f=this.rules[d];c=a(f.input);this._addListenerTo(c,f)}},_addListenerTo:function(c,h){var b=this,f=h.action.split(",");var e=false;if(this._isjQWidget(c)){e=true}for(var d=0;d<f.length;d+=1){var g=a.trim(f[d]);if(e&&(g=="blur"||g=="focus")){c=c.find("input")}this.addHandler(c,g+".jqx-validator",function(i){b._validateRule(h)})}},_configureInputs:function(){var b,d;this.rules=this.rules||[];for(var c=0;c<this.rules.length;c+=1){this._handleInput(c)}},_handleInput:function(b){var c=this.rules[b];if(!c.position){c.position=this.position}if(!c.message){c.message="test"}if(!c.action){c.action="blur"}if(!c.hintRender){c.hintRender=this._hintRender}if(!c.rule){c.rule=null}else{this._handleRule(c)}},_handleRule:function(f){var c=f.rule,e,d,b=false;if(typeof c==="string"){if(c.indexOf("=")>=0){c=c.split("=");d=c[1].split(",");c=c[0]}e=this["_"+c];if(e){f.rule=function(g){return e.apply(this,[g].concat(d))}}else{b=true}}else{if(typeof c!=="function"){b=true}else{f.rule=c}}if(b){throw new Error("Wrong parameter!")}},_required:function(b){switch(this._getType(b)){case"textarea":case"password":case"jqx-input":case"text":var d=a.data(b[0]);if(d.jqxMaskedInput){var e=b.jqxMaskedInput("promptChar"),c=b.jqxMaskedInput("value");return c&&c.indexOf(e)<0}else{if(d.jqxNumberInput){return b.jqxNumberInput("inputValue")!==""}else{if(d.jqxDateTimeInput){return true}else{return a.trim(b.val())!==""}}}case"checkbox":return b.is(":checked");case"radio":return b.is(":checked");case"div":if(b.is(".jqx-checkbox")){return b.jqxCheckBox("checked")}return false}return false},_notNumber:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/\d/;return !c.test(d)})},_number:function(b){return this._validateText(b,function(c){if(c==""){return true}return !isNaN(parseInt(c,10))})},_phone:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/^\(\d{3}\)(\d){3}-(\d){4}$/;return c.test(d)})},_length:function(c,d,b){return this._minLength(c,d)&&this._maxLength(c,b)},_maxLength:function(c,b){b=parseInt(b,10);return this._validateText(c,function(d){return d.length<=b})},_minLength:function(c,b){b=parseInt(b,10);return this._validateText(c,function(d){return d.length>=b})},_email:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.test(d)})},_zipCode:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return c.test(d)})},_ssn:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/\d{3}-\d{2}-\d{4}/;return c.test(d)})},_validateText:function(b,d){var c;if(this._isTextInput(b)){if(this._isjQWidget(b)){c=b.find("input").val()}else{c=b.val()}return d(c)}return false},_isjQWidget:function(b){var c=a.data(b[0]);if(c.jqxMaskedInput||c.jqxNumberInput||c.jqxDateTimeInput){return true}return false},_isTextInput:function(b){var c=this._getType(b);return c==="text"||c==="textarea"||c==="password"||b.is(".jqx-input")},_getType:function(c){var b=c[0].tagName.toLowerCase(),d;if(b==="textarea"){return"textarea"}else{if(c.is(".jqx-input")){return"jqx-input"}else{if(b==="input"){d=a(c).attr("type").toLowerCase();return d}}}return b},_hintRender:function(d,c){var e=a('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),b=this;e.html(d);if(this.closeOnClick){e.click(function(){b.hideHint(c.selector)})}if(this.ownerElement==null){e.appendTo(document.body)}else{if(this.ownerElement.innerHTML){e.appendTo(a(this.ownerElement))}else{e.appendTo(this.ownerElement)}}return e},_hintLayout:function(d,c,b){var e;e=this._getPosition(c,b,d);d.css({position:"absolute",left:e.left,top:e.top});if(this.arrow){this._addArrow(c,d,b,e)}},_showHint:function(b){if(this.animation==="fade"){b.fadeOut(0);b.fadeIn(this.animationDuration)}},_getPosition:function(c,b,g){var f=c.offset(),e,d;if(this.ownerElement!=null){f={left:0,top:0};f.top=parseInt(f.top)+c.position().top;f.left=parseInt(f.left)+c.position().left}if(b.indexOf("top")>=0){e=f.top-c.outerHeight()}else{if(b.indexOf("bottom")>=0){e=f.top+g.outerHeight()+this._margin}else{e=f.top}}if(b.indexOf("center")>=0){d=f.left+this._margin+(c.outerWidth()-g.outerWidth())/2}else{if(b.indexOf("left")>=0){d=f.left-g.outerWidth()-this._margin}else{if(b.indexOf("right")>=0){d=f.left+c.outerWidth()+this._margin}else{d=f.left+this._margin}}}if(b.indexOf(":")>=0){b=b.split(":")[1].split(",");d+=parseInt(b[0],10);e+=parseInt(b[1],10)}return{left:d,top:e}},_addArrow:function(j,e,g,k){var l=a('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>'),d,i;e.children(".jqx-validator-hint-arrow").remove();e.append(l);var c=l.outerHeight(),f=l.outerWidth(),h=e.outerHeight(),b=e.outerWidth();this._addImage(l);if(g.indexOf("top")>=0){i=h-c}else{if(g.indexOf("bottom")>=0){i=-c}else{i=(h-c)/2-c/2}}if(g.indexOf("center")>=0){d=(b-f)/2}else{if(g.indexOf("left")>=0){d=b+f/2}else{if(g.indexOf("right")>=0){d=-f/2}}}if(g.indexOf("topright")>=0||g.indexOf("bottomright")>=0){d=0}if(g.indexOf("topleft")>=0||g.indexOf("bottomleft")>=0){d=b-f}l.css({position:"absolute",left:d,top:i})},_addImage:function(b){var c=b.css("background-image");c=c.replace('url("',"");c=c.replace('")',"");c=c.replace("url(","");c=c.replace(")","");b.css("background-image","none");b.append('<img src="'+c+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+b.width()+"px; height: "+b.height()+'px;" />')},_raiseEvent:function(b,d){var c=a.Event(this._events[b]);c.args=d;return this.host.trigger(c)},propertyChangedHandler:function(b,c,e,d){if(c==="rules"){this._configureInputs();this._removeEventListeners();this._addEventListeners()}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxDragDrop","",{});a.extend(a.jqx._jqxDragDrop.prototype,{defineInstance:function(){this.restricter="document";this.handle=false;this.feedback="clone";this.opacity=0.6;this.revert=false;this.revertDuration=400;this.distance=5;this.disabled=false;this.tolerance="intersect";this.data=null;this.dropAction="default";this.dragZIndex=99999;this.appendTo="parent";this.onDragEnd=null;this.onDrag=null;this.onDragStart=null;this.onTargetDrop=null;this.onDropTargetEnter=null;this.onDropTargetLeave=null;this.initFeedback=null;this._touchEvents={mousedown:"touchstart",click:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"};this._restricter=null;this._zIndexBackup=0;this._targetEnterFired=false;this._oldOpacity=1;this._feedbackType;this._isTouchDevice=false;this._events=["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]},createInstance:function(){var c=a.data(document.body,"jqx-draggables")||1;this.appendTo=this._getParent();this._isTouchDevice=a.jqx.mobile.isTouchDevice();if((/(static|relative)/).test(this.host.css("position"))){if(!this.feedback||this.feedback==="original"){var d=this._getRelativeOffset(this.host);var b=this.appendTo.offset();if(this.appendTo.css("position")!="static"){b={left:0,top:0}}this.element.style.position="absolute";this.element.style.left=b.left+d.left+"px";this.element.style.top=b.top+d.top+"px"}}this._validateProperties();this._idHandler(c);if(this.disabled){this.disable()}if(typeof this.dropTarget==="string"){this.dropTarget=a(this.dropTarget)}this._refresh();c+=1;a.data(document.body,"jqx-draggables",c);this.host.addClass("jqx-draggable")},_getParent:function(){var b=this.appendTo;if(typeof this.appendTo==="string"){switch(this.appendTo){case"parent":b=this.host.parent();break;case"document":b=a(document);break;case"body":b=a(document.body);break;default:b=a(this.appendTo);break}}return b},_idHandler:function(b){if(!this.element.id){var c="jqx-draggable-"+b;this.element.id=c}},_refresh:function(){this._removeEventHandlers();this._addEventHandlers()},_getEvent:function(b){if(this._isTouchDevice){return this._touchEvents[b]}else{return b}},_validateProperties:function(){if(this.feedback==="clone"){this._feedbackType="clone"}else{this._feedbackType="original"}if(this.dropAction!=="default"){this.dropAction="nothing"}},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart");this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown);this.removeHandler(a(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove);this.removeHandler(a(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var b=this;this.addHandler(this.host,"dragstart",function(d){d.preventDefault();return false});this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this});this.addHandler(a(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this});this.addHandler(a(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});if(window.frameElement){if(window.top!=null){var c=function(d){b._mouseUp(b)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",c,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",c)}}}}},_mouseDown:function(e){var b=e.data.self,d=b._getMouseCoordinates(e),c=b._mouseCapture(e);b._originalPageX=d.left;b._originalPageY=d.top;if(!b._mouseStarted){b._mouseUp(e)}if(c){b._mouseDownEvent=e}if(e.which!==1||!c){return true}e.preventDefault()},_mouseMove:function(c){var b=c.data.self;if(b._mouseStarted){b._mouseDrag(c);return c.preventDefault()}if(b._mouseDownEvent&&b._isMovedDistance(c)){if(b._mouseStart(b._mouseDownEvent,c)){b._mouseStarted=true}else{b._mouseStarted=false}if(b._mouseStarted){b._mouseDrag(c)}else{b._mouseUp(c)}}return !b._mouseStarted},_mouseUp:function(c){var b;if(c.data&&c.data.self){b=c.data.self}else{b=this}b._mouseDownEvent=false;b._movedDistance=false;if(b._mouseStarted){b._mouseStarted=false;b._mouseStop(c)}if(b.feedback&&b.feedback[0]&&b._feedbackType!=="original"&&typeof b.feedback.remove==="function"&&!b.revert){b.feedback.remove()}return false},_isMovedDistance:function(b){var c=this._getMouseCoordinates(b);if(this._movedDistance){return true}if(c.left>=this._originalPageX+this.distance||c.left<=this._originalPageX-this.distance||c.top>=this._originalPageY+this.distance||c.top<=this._originalPageY-this.distance){this._movedDistance=true;return true}return false},_getMouseCoordinates:function(b){if(this._isTouchDevice){return{left:b.originalEvent.touches[0].pageX,top:b.originalEvent.touches[0].pageY}}else{return{left:b.pageX,top:b.pageY}}},destroy:function(){if(!this.host.data("draggable")){return}this.host.removeData("draggable").unbind(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled");this._mouseDestroy();return this},_disableSelection:function(b){b.each(function(){a(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return false}})})},_enableSelection:function(b){b.each(function(){a(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(b){if(this.disabled){return false}if(!this._getHandle(b)){return false}this._disableSelection(this.host);return true},_getScrollParent:function(b){var c;if((a.browser.msie&&(/(static|relative)/).test(b.css("position")))||(/absolute/).test(b.css("position"))){c=b.parents().filter(function(){return(/(relative|absolute|fixed)/).test(a.curCSS(this,"position",1))&&(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}else{c=b.parents().filter(function(){return(/(auto|scroll)/).test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(b.css("position"))||!c.length?a(document):c},_mouseStart:function(d){var c=this._getMouseCoordinates(d),b=this._getParentOffset(this.host);this.feedback=this._createFeedback(d);this._zIndexBackup=this.feedback.css("z-index");this.feedback[0].style.zIndex=this.dragZIndex;this._backupFeedbackProportions();this._backupeMargins();this._positionType=this.feedback.css("position");this._scrollParent=this._getScrollParent(this.feedback);this._offset=this.positionAbs=this.host.offset();this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left};a.extend(this._offset,{click:{left:c.left-this._offset.left,top:c.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)});this.position=this._generatePosition(d);this.originalPosition=this._fixPosition();if(this.restricter){this._setRestricter()}this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,d);if(this.onDragStart&&typeof this.onDragStart==="function"){this.onDragStart(this.position)}this._mouseDrag(d,true);return true},_fixPosition:function(){var c=this._getRelativeOffset(this.host),b=this.position;b={left:this.position.left+c.left,top:this.position.top+c.top};return b},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.feedback[0].style.left=this.position.left+"px";this.feedback[0].style.top=this.position.top+"px";this._raiseEvent(2);if(this.onDrag&&typeof this.onDrag==="function"){this.onDrag(this.data,this.position)}this._handleTarget();return false},_over:function(b,d,e){if(this.dropTarget){var f=false,c=this;a.each(this.dropTarget,function(g,h){f=c._overItem(h,b,d,e);if(f.over){return false}})}return f},_overItem:function(i,c,e,g){i=a(i);var b=i.offset(),f=i.outerHeight(),d=i.outerWidth(),h;if(!i||i[0]===this.element){return}switch(this.tolerance){case"intersect":if(c.left+e>b.left&&c.left<b.left+d&&c.top+g>b.top&&c.top<b.top+f){h=true}break;case"fit":if(e+c.left<=b.left+d&&c.left>=b.left&&g+c.top<=b.top+f&&c.top>=b.top){h=true}break}return{over:h,target:i}},_handleTarget:function(){if(this.dropTarget){var b=this.feedback.offset(),c=this.feedback.outerWidth(),d=this.feedback.outerWidth(),e=this._over(b,c,d);if(e.over){if(!this._targetEnterFired){this._targetEnterFired=true;this._raiseEvent(3,{target:e.target});if(this.onDropTargetEnter&&typeof this.onDropTargetEnter==="function"){this.onDropTargetEnter()}}}else{if(this._targetEnterFired){this._targetEnterFired=false;this._raiseEvent(4,{target:e.target});if(this.onDropTargetLeave&&typeof this.onDropTargetLeave==="function"){this.onDropTargetLeave()}}}}},_mouseStop:function(d){var e=false,b=this._fixPosition(),c={width:this.host.outerWidth(),height:this.host.outerHeight()};this.feedback[0].style.opacity=this._oldOpacity;if(!this.revert){this.feedback[0].style.zIndex=this._zIndexBackup}this._enableSelection(this.host);if(this.dropped){e=this.dropped;this.dropped=false}if((!this.element||!this.element.parentNode)&&this.feedback==="original"){return false}this._dropElement(b);this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(1,d);if(this.onDragEnd&&typeof this.onDragEnd==="function"){this.onDragEnd(this.data)}if(this.onTargetDrop&&typeof this.onTargetDrop==="function"&&this._over(b,c.width,c.height).over){this.onTargetDrop(this.data)}this._revertHandler();return false},_dropElement:function(b){if(this.dropAction==="default"&&this.feedback&&this.feedback[0]!==this.element&&this.feedback!=="original"){if(!this.revert){if(!(/(fixed|absolute)/).test(this.host.css("position"))){this.host.css("position","relative");var c=this._getRelativeOffset(this.host);b=this.position;b.left-=c.left;b.top-=c.top;this.element.style.left=b.left+"px";this.element.style.top=b.top+"px"}}}},_revertHandler:function(){if(this.revert||(a.isFunction(this.revert)&&this.revert())){var b=this;if(this._feedbackType!="original"){if(this.feedback!=null){if(this.dropAction!="none"){a(this.feedback).animate({left:b.originalPosition.left-b._offset.hostRelative.left,top:b.originalPosition.top-b._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){if(b.feedback&&b.feedback[0]&&b._feedbackType!=="original"&&typeof b.feedback.remove==="function"){b.feedback.remove()}})}else{if(b.feedback&&b.feedback[0]&&b._feedbackType!=="original"&&typeof b.feedback.remove==="function"){b.feedback.remove()}}}}else{this.element.style.zIndex=this.dragZIndex;a(this.host).animate({left:b.originalPosition.left-b._offset.hostRelative.left,top:b.originalPosition.top-b._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){b.element.style.zIndex=b._zIndexBackup})}}},_getHandle:function(b){var c;if(!this.handle){c=true}else{a(this.handle,this.host).find("*").andSelf().each(function(){if(this==b.target){c=true}})}return c},_createFeedback:function(c){var b;if(typeof this._feedbackType==="function"){b=this._feedbackType()}else{if(this._feedbackType==="clone"){b=this.host.clone().removeAttr("id")}else{b=this.host}}if(!(/(absolute|fixed)/).test(b.css("position"))){b.css("position","absolute")}if(this.appendTo[0]!==this.host.parent()[0]||b[0]!==this.element){var d={};b.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(b).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(b).top});b.appendTo(this.appendTo)}if(typeof this.initFeedback==="function"){this.initFeedback(b)}return b},_getParentOffset:function(c){var c=c||this.feedback;this._offsetParent=c.offsetParent();var b=this._offsetParent.offset();if(this._positionType=="absolute"&&this._scrollParent[0]!==document&&a.contains(this._scrollParent[0],this._offsetParent[0])){b.left+=this._scrollParent.scrollLeft();b.top+=this._scrollParent.scrollTop()}if((this._offsetParent[0]==document.body)||(this._offsetParent[0].tagName&&this._offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)){b={top:0,left:0}}return{top:b.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:b.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(c){var d=this._scrollParent||c.parent();c=c||this.feedback;if(c.css("position")==="relative"){var b=this.host.position();return{top:b.top-(parseInt(c.css("top"),10)||0)+d.scrollTop(),left:b.left-(parseInt(c.css("left"),10)||0)+d.scrollLeft()}}else{return{top:0,left:0}}},_backupeMargins:function(){this.margins={left:(parseInt(this.host.css("margin-left"),10)||0),top:(parseInt(this.host.css("margin-top"),10)||0),right:(parseInt(this.host.css("margin-right"),10)||0),bottom:(parseInt(this.host.css("margin-bottom"),10)||0)}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity;this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){if(this.restricter=="parent"){this.restricter=this.feedback[0].parentNode}if(this.restricter=="document"||this.restricter=="window"){this._handleNativeRestricter()}if(typeof this.restricter.left!=="undefined"&&typeof this.restricter.top!=="undefined"&&typeof this.restricter.height!=="undefined"&&typeof this.restricter.width!=="undefined"){this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]}else{if(!(/^(document|window|parent)$/).test(this.restricter)&&this.restricter.constructor!=Array){this._handleDOMParentRestricter()}else{if(this.restricter.constructor==Array){this._restricter=this.restricter}}}},_handleNativeRestricter:function(){this._restricter=[this.restricter==="document"?0:a(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,this.restricter==="document"?0:a(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,(this.restricter==="document"?0:a(window).scrollLeft())+a(this.restricter==="document"?document:window).width()-this._feedbackProportions.width-this.margins.left,(this.restricter==="document"?0:a(window).scrollTop())+(a(this.restricter==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var d=a(this.restricter),b=d[0];if(!b){return}var c=(a(b).css("overflow")!=="hidden");this._restricter=[(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0),(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0),(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom];this._restrictiveContainer=d},_convertPositionTo:function(f,c){if(!c){c=this.position}var e,b,g;if(f==="absolute"){e=1}else{e=-1}if(this._positionType==="absolute"&&!(this._scrollParent[0]!=document&&a.contains(this._scrollParent[0],this._offsetParent[0]))){b=this._offsetParent}else{b=this._scrollParent}g=(/(html|body)/i).test(b[0].tagName);return this._getPosition(c,e,g,b)},_getPosition:function(c,d,e,b){return{top:(c.top+this._offset.relative.top*d+this._offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollTop():(e?0:b.scrollTop()))*d)),left:(c.left+this._offset.relative.left*d+this._offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollLeft():e?0:b.scrollLeft())*d))}},_generatePosition:function(f){var b=this._positionType=="absolute"&&!(this._scrollParent[0]!=document&&a.contains(this._scrollParent[0],this._offsetParent[0]))?this._offsetParent:this._scrollParent,i=(/(html|body)/i).test(b[0].tagName);var e=this._getMouseCoordinates(f),d=e.left,c=e.top;if(this.originalPosition){var h;if(this.restricter){if(this._restrictiveContainer){var g=this._restrictiveContainer.offset();h=[this._restricter[0]+g.left,this._restricter[1]+g.top,this._restricter[2]+g.left,this._restricter[3]+g.top]}else{h=this._restricter}if(e.left-this._offset.click.left<h[0]){d=h[0]+this._offset.click.left}if(e.top-this._offset.click.top<h[1]){c=h[1]+this._offset.click.top}if(e.left-this._offset.click.left>h[2]){d=h[2]+this._offset.click.left}if(e.top-this._offset.click.top>h[3]){c=h[3]+this._offset.click.top}}}return{top:(c-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(a.browser.safari&&a.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollTop():(i?0:b.scrollTop())))),left:(d-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(a.browser.safari&&a.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollLeft():i?0:b.scrollLeft())))}},_raiseEvent:function(c,e){var b=this._events[c],d=a.Event(b),e=e||{};e.position=this.position;this.data=this.data;a.extend(e,this.data);d.args=e;return this.host.trigger(d)},disable:function(){this.disabled=true;this.host.addClass(this.toThemeProperty("jqx-draggable-disabled"))},enable:function(){this.disabled=false;this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(b,c,e,d){if(c==="dropTarget"){if(typeof d==="string"){this.dropTarget=a(d)}}}})})(jQuery);(function(a){a.jqx.cssroundedcorners=function(b){var c={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-br"};for(prop in c){if(!c.hasOwnProperty(prop)){continue}if(b==prop){return c[prop]}}};a.jqx.jqxWidget("jqxButton","",{});a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow";this.roundedCorners="all";this.disabled=false;this.height=null;this.width=null;this.overrideTheme=false},createInstance:function(c){var b=this;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(!this.overrideTheme){this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners)))}this.host.onselectstart=function(){};this.isTouchDevice=a.jqx.mobile.isTouchDevice();this.host.addClass(this.toThemeProperty("jqx-button"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.css({cursor:this.cursor});if(!this.isTouchDevice){this.addHandler(this.host,"mouseenter",function(e){if(!b.disabled){b.isMouseOver=true;b.refresh()}});this.addHandler(this.host,"mouseleave",function(e){if(!b.disabled){b.isMouseOver=false;b.refresh()}})}this.addHandler(this.host,"mousedown",function(e){if(!b.disabled){b.isPressed=true;b.refresh()}});this.addHandler(this.host,"focus",function(e){if(!b.disabled){b.isFocused=true;b.refresh()}});this.addHandler(this.host,"blur",function(e){if(!b.disabled){b.isFocused=false;b.refresh()}});this.addHandler(a(document),"mouseup.button"+this.element.id,function(e){if(!b.disabled){b.isPressed=false;b.refresh()}});if(window.frameElement){if(window.top!=null){var d=function(e){b.isPressed=false;b.refresh()};if(window.top.document){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",d,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",d)}}}}}this.propertyChangeMap.roundedCorners=function(e,g,f,h){e.refresh()};this.propertyChangeMap.disabled=function(e,g,f,h){b.host[0].disabled=h;e.refresh()};this.propertyChangeMap.theme=function(e,g,f,h){e.host.removeClass();e.host.addClass(e.toThemeProperty("jqx-button"));e.host.addClass(e.toThemeProperty("jqx-widget"));e.refresh()}},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"mousedown");this.removeHandler(a(document),"mouseup.button"+this.element.id)},destroy:function(){this._removeHandlers();this.host.removeClass();this.host.remove()},refresh:function(){if(this.overrideTheme){return}var d=this.toThemeProperty("jqx-fill-state-focus");var h=this.toThemeProperty("jqx-fill-state-disabled");var b=this.toThemeProperty("jqx-fill-state-normal");var g=this.toThemeProperty("jqx-fill-state-hover");var e=this.toThemeProperty("jqx-fill-state-pressed");var f=this.toThemeProperty("jqx-fill-state-pressed");var c="";this.host[0].disabled=this.disabled;if(this.disabled){c=h}else{if(this.isMouseOver&&!this.isTouchDevice){if(this.isPressed){c=f}else{c=g}}else{if(this.isPressed){c=e}else{c=b}}}if(this.host.hasClass(h)&&h!=c){this.host.removeClass(h)}if(this.host.hasClass(b)&&b!=c){this.host.removeClass(b)}if(this.host.hasClass(g)&&g!=c){this.host.removeClass(g)}if(this.host.hasClass(e)&&e!=c){this.host.removeClass(e)}if(this.host.hasClass(f)&&f!=c){this.host.removeClass(f)}if(!this.host.hasClass(c)){this.host.addClass(c)}if(this.isFocused){this.host.addClass(d)}else{this.host.removeClass(d)}}});a.jqx.jqxWidget("jqxLinkButton","",{});a.extend(a.jqx._jqxLinkButton.prototype,{createInstance:function(d){var c=this;this.host.onselectstart=function(){return false};var b=this.height||this.host.height();var e=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");var f=this.host.find("input");f.addClass(this.toThemeProperty("jqx-reset"));f.width(e);f.height(b);f.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));f.css({width:e});f.css({height:b});var g=d==undefined?{}:d[0]||{};f.jqxButton(g);if(this.disabled){this.host[0].disabled=true}this.propertyChangeMap.disabled=function(h,j,i,k){c.host[0].disabled=k};this.addHandler(f,"click",function(h){if(!this.disabled){c.onclick(h)}return false})},onclick:function(b){if(this.target!=null){window.open(this.href,this.target)}else{window.location=this.href}}});a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});a.extend(a.jqx._jqxRepeatButton.prototype,{createInstance:function(d){var b=this;this.delay=this.delay||50;var c=a.jqx.mobile.isTouchDevice();this.addHandler(a(document),"mouseup",function(e){if(!c){if(b.timeout!=null){clearTimeout(b.timeout);b.timeout=null}clearInterval(b.timer);b.timer=null}});this.addHandler(this.base.host,"mousedown",function(e){if(!c){if(b.timer!=null){clearInterval(b.timer)}b.timeout=setTimeout(function(){clearInterval(b.timer);b.timer=setInterval(function(f){b.ontimer(f)},b.delay)},150)}});this.addHandler(this.base.host,"mousemove",function(e){if(!c){if(e.which==0){if(b.timer!=null){clearInterval(b.timer);b.timer=null}}}})},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(b){var b=new jQuery.Event("click");if(this.base!=null&&this.base.host!=null){this.base.host.trigger(b)}}});a.jqx.jqxWidget("jqxToggleButton","jqxButton",{});a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=false},createInstance:function(c){var b=this;this.base.overrideTheme=true;this.isTouchDevice=a.jqx.mobile.isTouchDevice();this.addHandler(this.base.host,"click",function(d){b.toggle()});if(!this.isTouchDevice){this.addHandler(this.base.host,"mouseenter",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(this.base.host,"mouseleave",function(d){if(!b.base.disabled){b.refresh()}})}this.addHandler(this.base.host,"mousedown",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(a(document),"mouseup",function(d){if(!b.base.disabled){b.refresh()}})},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(a(document),"mouseup")},toggle:function(){this.toggled=!this.toggled;this.refresh()},refresh:function(){var g=this.base.toThemeProperty("jqx-fill-state-disabled");var b=this.base.toThemeProperty("jqx-fill-state-normal");var f=this.base.toThemeProperty("jqx-fill-state-hover");var d=this.base.toThemeProperty("jqx-fill-state-pressed");var e=this.base.toThemeProperty("jqx-fill-state-pressed");var c="";this.base.host[0].disabled=this.base.disabled;if(this.base.disabled){c=g}else{if(this.base.isMouseOver&&!this.isTouchDevice){if(this.base.isPressed||this.toggled){c=e}else{c=f}}else{if(this.base.isPressed||this.toggled){c=d}else{c=b}}}if(this.base.host.hasClass(g)&&g!=c){this.base.host.removeClass(g)}if(this.base.host.hasClass(b)&&b!=c){this.base.host.removeClass(b)}if(this.base.host.hasClass(f)&&f!=c){this.base.host.removeClass(f)}if(this.base.host.hasClass(d)&&d!=c){this.base.host.removeClass(d)}if(this.base.host.hasClass(e)&&e!=c){this.base.host.removeClass(e)}if(!this.base.host.hasClass(c)){this.base.host.addClass(c)}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxDropDownButton","",{});a.extend(a.jqx._jqxDropDownButton.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.arrowSize=19;this.enableHover=true;if(this.showDelay==undefined){this.showDelay=350}if(this.hideDelay==undefined){this.hideDelay=400}this.animationType="default";this.enableBrowserBoundsDetection=false;this.events=["show","hide"]},createInstance:function(h){this.isanimating=false;var c=a("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' style='background-color: transparent; border: none; float: right; position: relative;'/></div></div>");this.popupContent=this.host.children();if(this.popupContent.length==0){this.popupContent=a("<div>"+this.host.text()+"</div>");this.popupContent.css("display","block");this.element.innerHTML=""}else{this.popupContent.detach()}var i=this;this.addHandler(this.host,"loadContent",function(e){i._arrange()});try{var f="dropDownButtonPopup"+this.element.id;var d=a(a.find("#"+f));if(d.length>0){d.remove()}var b=a("<div class='dropDownButton' style='overflow: hidden; border-width: 1px; border-style: solid; position: absolute;' id='dropDownButtonPopup"+this.element.id+"'></div>");b.addClass(this.toThemeProperty("jqx-widget-content"));b.addClass(this.toThemeProperty("jqx-rc-all"));this.popupContent.appendTo(b);b.appendTo(document.body);this.container=b;if(this.animationType=="none"){this.container.css("visibility","hidden")}else{this.container.css("visibility","hidden")}}catch(g){}this.touch=a.jqx.mobile.isTouchDevice();this.dropDownButtonStructure=c;this.host.append(c);this.dropDownButtonWrapper=this.host.find("#dropDownButtonWrapper");this.dropDownButtonArrow=this.host.find("#dropDownButtonArrow");this.dropDownButtonContent=this.host.find("#dropDownButtonContent");this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content"));this.dropDownButtonWrapper.addClass(this.toThemeProperty("jqx-disableselect"));this.addHandler(this.dropDownButtonWrapper,"selectstart",function(){return false});this.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+this.element.id;this.dropDownButtonArrow[0].id="dropDownButtonArrow"+this.element.id;this.dropDownButtonContent[0].id="dropDownButtonContent"+this.element.id;var k=this;this.propertyChangeMap.disabled=function(e,m,l,n){if(n){e.host.addClass(k.toThemeProperty("jqx-dropdownlist-state-disabled"));e.host.addClass(k.toThemeProperty("jqx-fill-state-disabled"));e.dropDownButtonContent.addClass(k.toThemeProperty("jqx-dropdownlist-content-disabled"))}else{e.host.removeClass(k.toThemeProperty("jqx-dropdownlist-state-disabled"));e.host.removeClass(k.toThemeProperty("jqx-fill-state-disabled"));e.dropDownButtonContent.removeClass(k.toThemeProperty("jqx-dropdownlist-content-disabled"))}};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-normal"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.dropDownButtonArrow.addClass(this.toThemeProperty("icon-arrow-down"));this._setSize();this.render();if(a.browser.msie&&a.browser.version<8){this.container.css("display","none");if(this.host.parents(".jqx-window").length>0){var j=this.host.parents(".jqx-window").css("z-index");b.css("z-index",j+10);this.container.css("z-index",j+10)}}},setContent:function(b){this.dropDownButtonContent.children().remove();this.dropDownButtonContent[0].innerHTML="";this.dropDownButtonContent.append(b)},getContent:function(){if(this.dropDownButtonContent.children().length>0){return this.dropDownButtonContent.children()}return this.dropDownButtonContent.text()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var d=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){d=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){d=true;this.host.height(this.height)}if(d){this.refresh(false);var c=this;var b=this.host.width();a(window).resize(function(){c._arrange()})}},isOpened:function(){var c=this;var b=a.data(document.body,"openedJQXButton"+this.element.id);if(b!=null&&b==c.popupContent){return true}return false},render:function(){var b=this;var c=false;if(!this.touch){this.host.hover(function(){if(!b.disabled&&b.enableHover){c=true;b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover"));b.dropDownButtonArrow.addClass(b.toThemeProperty("icon-arrow-down-hover"));b.host.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!b.disabled&&b.enableHover){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b.dropDownButtonArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"));c=false}})}this.addHandler(this.dropDownButtonWrapper,"mousedown",function(f){if(!b.disabled){var e=b.container.css("visibility")=="visible";if(!b.isanimating){if(e){b.hide()}else{b.show()}}}});this.addHandler(a(document),"mousedown."+this.element.id,b.closeOpenedDropDown,{me:this,popup:this.container,id:this.element.id});if(window.frameElement){if(window.top!=null){var d=function(e){if(b.isOpened()){var f={me:b,popup:b.container,id:b.element.id};e.data=f}};if(window.top.document.addEventListener){window.top.document.addEventListener("mousedown",d,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmousedown",d)}}}}this.addHandler(this.host,"keydown",function(f){var e=b.container.css("visibility")=="visible";if(b.host.css("display")=="none"){return true}if(f.keyCode=="13"){if(!b.isanimating){if(e){b.hide();if(!b.keyboardSelection){b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})}}else{b.show()}}}if(f.keyCode==115){if(!b.isanimating){if(!b.isOpened()){b.show()}else{if(b.isOpened()){b.hide()}}}return false}if(f.altKey){if(b.host.css("display")=="block"){if(f.keyCode==38){if(b.isOpened()){b.hide()}}else{if(f.keyCode==40){if(!b.isOpened()){b.show()}}}}}if(f.keyCode=="27"){if(!b.ishiding){b.hide();if(b.tempSelectedIndex!=undefined){b.selectIndex(b.tempSelectedIndex)}}}});this.addHandler(this.host.find("div:first"),"focus",function(){b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus"));b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host.find("div:first"),"blur",function(){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var b=this;this.removeHandler(this.dropDownButtonWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.host.find("div:first"),"focus");this.removeHandler(this.host.find("div:first"),"blur");this.host.unbind("hover")},_findPos:function(c){while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}var b=a(c).offset();return[b.left,b.top]},testOffset:function(d,h,f){var g=d.outerWidth();var c=d.outerHeight();var e=document.documentElement.clientWidth+a(window).scrollLeft();var b=document.documentElement.clientHeight+a(window).scrollTop();h.left-=0;h.left-=0;h.top-=0;h.left-=Math.min(h.left,(h.left+g>e&&e>g)?Math.abs(h.left+g-e):0);h.top-=Math.min(h.top,(h.top+c>b&&b>c)?Math.abs(c+f):0);return h},show:function(){var l=this;var b=this.popupContent;var i=a(window).scrollTop();var f=a(window).scrollLeft();var h=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var d=parseInt(this.host.offset().left)+"px";var k=a.jqx.mobile.isSafariMobileBrowser();this.ishiding=false;this.tempSelectedIndex=this.selectedIndex;if(k!=null&&k){d=a.jqx.mobile.getLeftPos(this.element);h=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight())}b.stop();this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.dropDownButtonArrow.addClass(this.toThemeProperty("icon-arrow-down-selected"));var e=false;if(a.browser.msie&&a.browser.version<8){e=true}if(e){this.container.css("display","block")}this.container.css("left",d);this.container.css("top",h);var c=true;if(this.enableBrowserBoundsDetection){var g=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(h)},parseInt(this.host.outerHeight()));this.container.css("top",g.top)}if(this.animationType=="none"){this.container.css("visibility","visible");a.data(document.body,"openedJQXButtonParent",l);a.data(document.body,"openedJQXButton"+this.element.id,b)}else{this.container.css("visibility","visible");var j=b.outerHeight();l.isanimating=true;b.css("margin-top",-j);b.animate({"margin-top":0},this.showDelay,function(){a.data(document.body,"openedJQXButtonParent",l);a.data(document.body,"openedJQXButton"+l.element.id,b);l.ishiding=false;l.isanimating=false})}},hide:function(){var e=this.popupContent;var d=this.container;var f=this;var c=false;if(a.browser.msie&&a.browser.version<8){c=true}a.data(document.body,"openedJQXButton"+this.element.id,null);if(this.animationType=="none"){this.container.css("visibility","hidden");if(c){this.container.css("display","none")}}else{if(!f.ishiding){f.isanimating=true;e.stop();var b=e.outerHeight();e.css("margin-top",0);e.animate({"margin-top":-b},this.hideDelay,function(){d.css("visibility","hidden");f.isanimating=false;f.ishiding=false;if(c){d.css("display","none")}})}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.dropDownButtonArrow.removeClass(this.toThemeProperty("icon-arrow-down-selected"))},closeOpenedDropDown:function(e){var c=e.data.me;var b=a(e.target);if(a(e.target).ischildof(e.data.me.host)){return true}var f=c;var d=false;a.each(b.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf("dropDownButton")!=-1){d=true;return false}}});if(!d){c.hide()}return true},refresh:function(){this._arrange()},_arrange:function(){var f=parseInt(this.host.width());var b=parseInt(this.host.height());var e=this.arrowSize;var d=this.arrowSize;var g=3;var c=f-d-2*g;if(c>0){this.dropDownButtonContent.width(c+"px")}this.dropDownButtonContent.height(b);this.dropDownButtonContent.css("left",0);this.dropDownButtonContent.css("top",0);this.dropDownButtonArrow.width(d);this.dropDownButtonArrow.height(b)},destroy:function(){this.removeHandler(this.dropDownButtonWrapper,"selectstart");this.removeHandler(this.dropDownButtonWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.host.removeClass();this.removeHandler(a(document),"mousedown."+this.element.id,self.closeOpenedDropDown);this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;if(f==2||f==3||f==4){e.args=c}var b=this.host.trigger(e);return b},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="theme"&&d!=null){a.jqx.utilities.setTheme(e,d,b.host)}if(c=="width"||c=="height"){b._setSize();b._arrange()}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxColorPicker","",{});a.extend(a.jqx._jqxColorPicker.prototype,{defineInstance:function(){this.disabled=false;this.height=null;this.width=null;this.color=new a.jqx.color({hex:"ff0000"});this.redString="R:";this.greenString="G:";this.blueString="B:";this.showTransparent=false;this.colorMode="saturation";this.events=["colorchange",]},createInstance:function(c){var b=this;this._setSize();this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-color-picker"));this.container=a("<div style='width: 100%; height: 100%; position: relative;'></div>");this.container.appendTo(this.host);this.colorMap=a("<div style='left: 0; top: 0; position: absolute;'></div>");this.colorMap.appendTo(this.container);this.colorBar=a("<div style='left: 0; top: 0; position: absolute;'></div>");this.colorBar.appendTo(this.container);this.colorPanel=a("<div style='left: 0; top: 0; position: absolute;'></div>");this.colorPanel.appendTo(this.container);this.hexPanel=a("<div style='float: left;'></div>");this.hexPanel.appendTo(this.colorPanel);this.hexPanel.append("<span>#</span>");this.hex=a("<input maxlength='6' style='height: 16px;'/>");this.hex.addClass(this.toThemeProperty("jqx-input"));this.hex.appendTo(this.hexPanel);this.rgb=a("<div style='float: left; margin-top: 2px;'></div>");this.rgb.appendTo(this.colorPanel);this.red=a("<input style='width: 25px; height: 16px;' maxlength='3'/>");this.red.addClass(this.toThemeProperty("jqx-input"));this.rgb.append("<span>"+this.redString+"</span>");this.red.appendTo(this.rgb);this.green=a("<input style='margin-right: 2px; height: 16px; width: 25px;' maxlength='3'/>");this.green.addClass(this.toThemeProperty("jqx-input"));this.rgb.append("<span>"+this.greenString+"</span>");this.green.appendTo(this.rgb);this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay"));this._mapImageOverlayURL=this._getImageUrl(this.colorPanel);this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay"));this.blue=a("<input style='height: 16px; width: 25px;' maxlength='3'/>");this.blue.addClass(this.toThemeProperty("jqx-input"));this.rgb.append("<span>"+this.blueString+"</span>");this.blue.appendTo(this.rgb);this.preview=a("<div style='background: red; position: absolute;'></div>");this.preview.addClass(this.toThemeProperty("jqx-widget-content"));this.preview.appendTo(this.colorPanel);this.colorBarPointer=a("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>");this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer"));this.colorMapPointer=a("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>");this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));this.transparent=a("<div style='clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>");if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.element.disabled=true}this._addHandlers()},_setPositionFromValue:function(){var d=this;var c=d.color.h;var i=100-d.color.v;var b=d.colorMap.height();var e=d.colorMap.width();var h=c*e/360;var g=i*b/100;if(this.colorMode=="saturation"){var f=100-d.color.s;f=f*b/100;d._saturation=100-d.color.s;d.colorMapPointer.css("margin-left",h-8);d.colorMapPointer.css("margin-top",g-8);d.colorBarPointer.css("margin-top",f-8);d.colorMapImageOverlay.css("opacity",(100-d.color.s)/100)}else{var c=d.color.s;var h=c*e/100;var g=i*b/100;var f=360-d.color.h;f=f*b/360;d._hue=d.color.h;d.colorMapPointer.css("margin-left",h-8);d.colorMapPointer.css("margin-top",g-8);d.colorBarPointer.css("margin-top",f-8)}},updateRGB:function(){var b=this;b.color.setRgb(b.red.val(),b.green.val(),b.blue.val());b._updateUI();b._raiseEvent("0",{color:b.color});b.color.transparent=false},_setPosition:function(f,c,h){var e=parseInt(f.pageX);var g=parseInt(c.offset().left);var b=parseInt(f.pageY);var d=parseInt(c.offset().top);if(h[0].className.indexOf("jqx-color-picker-bar")==-1){h.css("margin-left",e-8-g)}if(b>=d&&b<=d+c.height()){h.css("margin-top",b-8-d)}},_handleKeyInput:function(c,d,b){if(c.disabled){return}if(!c._validateKey(d)){return d}b.val(c._setValueInRange(b.val(),0,255));this.updateRGB();this._setPositionFromValue()},_addHandlers:function(){var b=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){e.preventDefault();return false});this.addHandler(this.colorBarPointer,"dragStart",function(e){e.preventDefault();return false});this.addHandler(this.transparent,"click",function(e){b._raiseEvent("0",{color:"transparent"});e.preventDefault();b.color.transparent=true});this.addHandler(this.host,"selectionstart",function(e){e.preventDefault();return false});this.addHandler(this.blue,"keyup blur",function(e){b._handleKeyInput(b,e,b.blue)});this.addHandler(this.green,"keyup blur",function(e){b._handleKeyInput(b,e,b.green)});this.addHandler(this.red,"keyup blur",function(e){b._handleKeyInput(b,e,b.red)});this.addHandler(this.hex,"keyup blur",function(e){if(b.disabled){return}if(!b._validateKey(e)){return e}if(b.hex.val().toString().length==6){b.hex.val(b.color.validateHex(b.hex.val()));b.color.setHex(b.hex.val());b._updateUI();b._setPositionFromValue();b._raiseEvent("0",{color:b.color})}});this.addHandler(this.colorMap,"dragstart",function(e){e.preventDefault();return false});var d=function(f){b._setPosition(f,b.colorMap,b.colorMapPointer);if(b.colorMode=="saturation"){var e=b._valuesFromMouse(f,b.colorMap,360,100);if(e.x>360){e.x=360}b.color.setHsv(e.x,b._saturation!=null?100-b._saturation:100,100-e.y)}else{var e=b._valuesFromMouse(f,b.colorMap,100,100);if(e.x>100){e.x=100}b.color.setHsv(b._hue!=null?b._hue:360,e.x,100-e.y)}b._updateUI();b._raiseEvent("0",{color:b.color});b.color.transparent=false};this.addHandler(this.colorMap,"mousedown",function(e){if(b.disabled){return}b.beginDrag=true;d(e)});this.addHandler(a(document),"mousemove.picker"+this.element.id,function(e){if(b.disabled){return}if(b.beginDrag==true){d(e)}});this.addHandler(this.colorBar,"dragstart",function(e){e.preventDefault();return false});var c=function(f){b._setPosition(f,b.colorBar,b.colorBarPointer);if(b.colorMode=="saturation"){var e=b._valuesFromMouse(f,b.colorBar,100,100);b.color.s=e.y;b._saturation=e.y;b.colorMapImageOverlay.css("opacity",(b.color.s)/100);b.color.setHsv(b.color.h,100-b.color.s,b.color.v)}else{var e=b._valuesFromMouse(f,b.colorBar,100,360);b.color.h=360-e.y;b._hue=b.color.h;b.color.setHsv(b.color.h,b.color.s,b.color.v)}b._updateUI();b._raiseEvent("0",{color:b.color});b.color.transparent=false};this.addHandler(this.colorBar,"mousedown",function(e){if(b.disabled){return}b.beginDragBar=true;c(e)});this.addHandler(a(document),"mousemove.colorbar"+this.element.id,function(e){if(b.disabled){return}if(b.beginDragBar==true){c(e)}});this.addHandler(a(document),"mouseup.colorMap"+this.element.id,function(e){if(b.disabled){return}b.beginDrag=false;b.beginDragBar=false})},_removeHandlers:function(){this.removeHandler(this.colorMapPointer);this.removeHandler(this.colorBarPointer);this.removeHandler(this.transparent,"click");this.removeHandler(this.host,"selectionstart");this.removeHandler(this.blue,"keyup blur");this.removeHandler(this.green,"keyup blur");this.removeHandler(this.red,"keyup blur");this.removeHandler(this.hex,"keyup blur");this.removeHandler(this.colorMap,"dragstart");this.removeHandler(this.colorMap,"mousedown");this.removeHandler(a(document),"mousemove.colorbar"+this.element.id);this.removeHandler(a(document),"mousemove.colormap"+this.element.id);this.removeHandler(this.colorBar,"dragstart");this.removeHandler(this.colorBar,"mousedown");this.removeHandler(this.colorBar,"mousemove");this.removeHandler(a(document),"mouseup.colorMap"+this.element.id)},_raiseEvent:function(g,c){if(c==undefined){c={owner:null}}var d=this.events[g];var e=c?c:{};e.owner=this;var f=new jQuery.Event(d);f.owner=this;f.args=e;var b=this.host.trigger(f);return b},setColor:function(b){if(b=="transparent"){this.color.transparent=true;this.color.hex="000";this.color.r=0;this.color.g=0;this.color.b=0}else{if(b.r){this.color=new a.jqx.color({rgb:b})}else{if(b.substring(0,1)=="#"){this.color=new a.jqx.color({hex:b.substring(1)})}else{this.color=new a.jqx.color({hex:b})}}}this._updateUI();this._setPositionFromValue();this._raiseEvent("0",{color:b})},getColor:function(){return this.color},propertyChangedHandler:function(b,c,e,d){if(b.isInitialized==undefined||b.isInitialized==false){return}if(c=="colorMode"){b.refresh()}if(c=="color"){b._updateUI();b._setPositionFromValue();b._raiseEvent("0",{color:d})}if(c=="width"||c=="height"){b._setSize();b.refresh()}if(c=="showTransparent"){b.refresh()}if(c=="disabled"){this.element.disabled=d;if(d){b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled"))}else{b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled"))}}},_valuesFromMouse:function(j,g,c,b){var k=0;var i=0;var f=g.offset();var m=g.height();var d=g.width();if(j.pageX<f.left){k=0}else{if(j.pageX>f.left+d){k=d}else{k=j.pageX-f.left+1}}if(j.pageY<f.top){i=0}else{if(j.pageY>f.top+m){i=m}else{i=j.pageY-f.top+1}}var h=parseInt(k/d*c);var l=parseInt(i/m*b);return{x:h,y:l}},_validateKey:function(b){if(b.keyCode==9||b.keyCode==16||b.keyCode==38||b.keyCode==29||b.keyCode==40||b.keyCode==17||b.keyCode==37||(b.ctrlKey&&(b.keyCode=="c".charCodeAt()||b.keyCode=="v".charCodeAt()))||(b.ctrlKey&&(b.keyCode=="C".charCodeAt()||b.keyCode=="V".charCodeAt()))){return false}if(b.ctrlKey||b.shiftKey){return false}return true},_setValueInRange:function(d,c,b){if(d==""||isNaN(d)){return c}d=parseInt(d);if(d>b){return b}if(d<c){return c}return d},destroy:function(){this.host.removeClass();this._removeHandlers();this.host.remove()},setPointerStyle:function(c){this.colorMapPointer.removeClass();if(c=="transparent"||c.hex==""){this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"))}var b=105;var d=(c.r*0.299)+(c.g*0.587)+(c.b*0.114);var e=(255-d<b)?"Black":"White";if(e=="Black"){this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"))}else{this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))}},_updateUI:function(){var c=this;c.red.val(c.color.r);c.green.val(c.color.g);c.blue.val(c.color.b);c.hex.val(c.color.hex);var b=new a.jqx.color({hex:"fff"});if(this.colorMode=="saturation"){b.setHsv(this.color.h,100,this.color.v);c.colorBar.css("background","#"+b.hex)}else{b.setHsv(this.color.h,100,100);c.colorMap.css("background-color","#"+b.hex)}c.preview.css("background","#"+this.color.hex);c.setPointerStyle(this.color)},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.host.width()<130){this.host.width(150)}if(this.host.height()<70){this.host.height(70)}},_arrange:function(){var b=this.host.height()-42;if(this.showTransparent){b=this.host.height()-62}if(b<=0){return}this.colorMap.width(85*this.host.width()/100);this.colorMap.height(b);this.colorBar.height(b);this.colorBar.css("left",this.colorMap.width()+4);this.colorBar.width(8*this.host.width()/100);this.colorBarPointer.width(this.colorBar.width());this.colorPanel.width(this.host.width());this.colorPanel.height(40);if(this.showTransparent){this.colorPanel.height(60)}this.colorPanel.css("top",b+4);this.hex.width(this.colorMap.width()-this.colorBar.width()-4);this.hex.css("margin-left","4px");this.preview.width(this.colorBar.width()+9);this.preview.height(25);this.preview.addClass(this.toThemeProperty("jqx-rc-all"));this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview"));this.preview.css("left",this.colorMap.width()-4);this.preview.css("top","5px");var e=4+parseInt(this.hex.position().left)+this.hex.outerWidth();var d=function(f){var g=parseInt(f.blue.position().left)+f.blue.outerWidth();return g};var c=d(this);while(c<e){this.blue.width(this.blue.width()+1);c=d(this);if(c<e){this.green.width(this.green.width()+1)}c=d(this);if(c<e){this.red.width(this.red.width()+1)}c=d(this)}},_getColorPointer:function(){var b=a("<div></div>");b.addClass(this.toThemeProperty("jqx-color-picker-pointer"));return b},_getImageUrl:function(c){var b=c.css("backgroundImage");b=b.replace('url("',"");b=b.replace('")',"");b=b.replace("url(","");b=b.replace(")","");return b},refresh:function(){this._saturation=null;this._hue=null;this.colorMap.removeClass();this.colorBar.removeClass();this.colorMap.addClass(this.toThemeProperty("jqx-disableselect"));this.colorBar.addClass(this.toThemeProperty("jqx-disableselect"));this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel"));this.colorBar.css("background-image","");this.colorMap.css("background-image","");if(this.colorMode=="saturation"){this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map"));this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))}else{this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue"));this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))}this._barImageURL=this._getImageUrl(this.colorBar);this._mapImageURL=this._getImageUrl(this.colorMap);this._arrange();this.colorBar.children().remove();this.colorBarImageContainer=a("<div style='overflow: hidden;'></div>");this.colorBarImageContainer.width(this.colorBar.width());this.colorBarImageContainer.height(this.colorBar.height());this.colorBarImageContainer.appendTo(this.colorBar);this.colorBarImage=a("<img/>");this.colorBarImage.appendTo(this.colorBarImageContainer);this.colorBarImage.attr("src",this._barImageURL);this.colorBar.css("background-image","none");this.colorBarImage.attr("width",this.colorBar.width());this.colorBarImage.attr("height",this.colorBar.height());this.colorBarPointer.appendTo(this.colorBar);this.colorMap.children().remove();this.colorMapImage=a("<img/>");this.colorMapImage.appendTo(this.colorMap);this.colorMapImage.attr("src",this._mapImageURL);this.colorMap.css("background-image","none");this.colorMapImage.attr("width",this.colorMap.width());this.colorMapImage.attr("height",this.colorMap.height());this.colorMapImageOverlay=a("<img style='position: absolute; left: 0; top: 0;'/>");this.colorMapImageOverlay.prependTo(this.colorMap);this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL);this.colorMapImageOverlay.attr("width",this.colorMap.width());this.colorMapImageOverlay.attr("height",this.colorMap.height());this.colorMapImageOverlay.css("opacity",0);this.colorMapPointer.appendTo(this.colorMap);if(this.showTransparent){this.transparent.appendTo(this.colorPanel)}this._updateUI();this._setPositionFromValue()}});a.jqx.color=function(d){var b={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(i){i=this.validateHex(i);var h="00",f="00",e="00";if(i.length==6){h=i.substring(0,2);f=i.substring(2,4);e=i.substring(4,6)}else{if(i.length>4){h=i.substring(4,i.length);i=i.substring(0,4)}if(i.length>2){f=i.substring(2,i.length);i=i.substring(0,2)}if(i.length>0){e=i.substring(0,i.length)}}return{r:this.hexToInt(h),g:this.hexToInt(f),b:this.hexToInt(e)}},validateHex:function(e){e=new String(e).toUpperCase();e=e.replace(/[^A-F0-9]/g,"0");if(e.length>6){e=e.substring(0,6)}return e},webSafeDec:function(e){e=Math.round(e/51);e*=51;return e},hexToWebSafe:function(i){var h,f,e;if(i.length==3){h=i.substring(0,1);f=i.substring(1,1);e=i.substring(2,1)}else{h=i.substring(0,2);f=i.substring(2,4);e=i.substring(4,6)}return intToHex(this.webSafeDec(this.hexToInt(h)))+this.intToHex(this.webSafeDec(this.hexToInt(f)))+this.intToHex(this.webSafeDec(this.hexToInt(e)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(f){var e=(parseInt(f).toString(16));if(e.length==1){e=("0"+e)}return e.toUpperCase()},hexToInt:function(e){return(parseInt(e,16))},hslToRgb:function(v){var n=parseInt(v.h)/360;var w=parseInt(v.s)/100;var k=parseInt(v.l)/100;if(k<=0.5){var f=k*(1+w)}else{var f=k+w-(k*w)}var i=2*k-f;var t=n+(1/3);var j=n;var m=n-(1/3);var e=Math.round(this.hueToRgb(i,f,t)*255);var o=Math.round(this.hueToRgb(i,f,j)*255);var u=Math.round(this.hueToRgb(i,f,m)*255);return{r:e,g:o,b:u}},hueToRgb:function(g,f,e){if(e<0){e+=1}else{if(e>1){e-=1}}if((e*6)<1){return g+(f-g)*e*6}else{if((e*2)<1){return f}else{if((e*3)<2){return g+(f-g)*((2/3)-e)*6}else{return g}}}},rgbToHsl:function(n){var e=n[0],k=n[1],o=n[2];e/=255;k/=255;o/=255;var p=math.max(e,k,o),i=math.min(e,k,o),j,q,f=(p+i)/2;if(p===i){j=q=0}else{var m=p-i;q=f>0.5?m/(2-p-i):m/(p+i);switch(p){case e:j=(k-o)/m+(k<o?6:0);break;case k:j=(o-e)/m+2;break;case o:j=(e-k)/m+4;break}j/=6}return{h:j,s:q,l:f}},rgbToHsl:function(m){var e=parseFloat(m.r)/255;var k=parseFloat(m.g)/255;var n=parseFloat(m.b)/255;var o=Math.max(e,k,n);var i=Math.min(e,k,n);var p=o-i;var q=o+i;if(i===o){var j=0}else{if(e===o){var j=((60*(k-n)/p)+360)%360}else{if(k===o){var j=(60*(n-e)/p)+120}else{var j=(60*(e-k)/p)+240}}}var f=0.5*q;if(f===0){var t=0}else{if(f===1){var t=1}else{if(f<=0.5){var t=p/q}else{var t=p/(2-q)}}}j=j.round();t=(t*100).round();f=(f*100).round();return{h:j,s:t,l:f}},rgbToHsv:function(h){var k=h.r/255;var j=h.g/255;var f=h.b/255;hsv={h:0,s:0,v:0};var i=0;var e=0;if(k>=j&&k>=f){e=k;i=(j>f)?f:j}else{if(j>=f&&j>=k){e=j;i=(k>f)?f:k}else{e=f;i=(j>k)?k:j}}hsv.v=e;hsv.s=(e)?((e-i)/e):0;if(!hsv.s){hsv.h=0}else{delta=e-i;if(k==e){hsv.h=(j-f)/delta}else{if(j==e){hsv.h=2+(f-k)/delta}else{hsv.h=4+(k-j)/delta}}hsv.h=parseInt(hsv.h*60);if(hsv.h<0){hsv.h+=360}}hsv.s=parseInt(hsv.s*100);hsv.v=parseInt(hsv.v*100);return hsv},hsvToRgb:function(l){rgb={r:0,g:0,b:0};var k=l.h;var r=l.s;var n=l.v;if(r==0){if(n==0){rgb.r=rgb.g=rgb.b=0}else{rgb.r=rgb.g=rgb.b=parseInt(n*255/100)}}else{if(k==360){k=0}k/=60;r=r/100;n=n/100;var j=parseInt(k);var m=k-j;var g=n*(1-r);var e=n*(1-(r*m));var o=n*(1-(r*(1-m)));switch(j){case 0:rgb.r=n;rgb.g=o;rgb.b=g;break;case 1:rgb.r=e;rgb.g=n;rgb.b=g;break;case 2:rgb.r=g;rgb.g=n;rgb.b=o;break;case 3:rgb.r=g;rgb.g=e;rgb.b=n;break;case 4:rgb.r=o;rgb.g=g;rgb.b=n;break;case 5:rgb.r=n;rgb.g=g;rgb.b=e;break}rgb.r=parseInt(rgb.r*255);rgb.g=parseInt(rgb.g*255);rgb.b=parseInt(rgb.b*255)}return rgb},setRgb:function(h,f,e){var j=function(g){if(g<0||g>255){return 0}if(isNaN(parseInt(g))){return 0}return g};this.r=j(h);this.g=j(f);this.b=j(e);var i=this.rgbToHsv(this);this.h=i.h;this.s=i.s;this.v=i.v;this.hex=this.rgbToHex(this)},setHsl:function(g,f,e){this.h=g;this.s=f;this.l=e;var i=this.hslToRgb(this);this.r=i.r;this.g=i.g;this.b=i.b;this.hex=this.rgbToHex(i)},setHsv:function(g,f,e){this.h=g;this.s=f;this.v=e;var i=this.hsvToRgb(this);this.r=i.r;this.g=i.g;this.b=i.b;this.hex=this.rgbToHex(i)},setHex:function(e){this.hex=e;var g=this.hexToRgb(this.hex);this.r=g.r;this.g=g.g;this.b=g.b;var f=this.rgbToHsv(g);this.h=f.h;this.s=f.s;this.v=f.v}};if(d){if(d.hex){var c=b.validateHex(d.hex);b.setHex(c)}else{if(d.r){b.setRgb(d.r,d.g,d.b)}else{if(d.h){b.setHsv(d.h,d.s,d.v)}}}}return b}})(jQuery);(function(a){a.jqx.jqxWidget("jqxSwitchButton","",{});a.extend(a.jqx._jqxSwitchButton.prototype,{defineInstance:function(){this.disabled=false;this.checked=false;this.onLabel="On";this.offLabel="Off";this.toggleMode="default";this.animationDuration=250;this.width=90;this.height=30;this.animationEnabled=true;this.thumbSize="40%";this.orientation="horizontal";this.switchRatio="50%";this._isMouseDown=false;this._dimensions={horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}};this._touchEvents={mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"};this._borders={};this._isTouchDevice=false;this._distanceRequired=3;this._isDistanceTraveled=false;this._thumb;this._onLabel;this._offLabel;this._wrapper;this._animationActive=false;this._events=["checked","unchecked","change"]},createInstance:function(c){var d=a.data(document.body,"jqx-switchbutton")||1;this._idHandler(d);a.data(document.body,"jqx-draggables",++d);this._isTouchDevice=a.jqx.mobile.isTouchDevice();this.switchRatio=parseInt(this.switchRatio,10);this._render();this._addClasses();this._performLayout();this._removeEventHandles();this._addEventHandles();this._disableSelection();var b=this;if(!this.checked){this._switchButton(false,0,true)}if(this.disabled){this.element.disabled=true}},setOnLabel:function(b){this._onLabel.html('<div style="display: inline-block;">'+b+"</div>");this._centerLabels()},setOffLabel:function(b){this._offLabel.html('<div style="display: inline-block;">'+b+"</div>");this._centerLabels()},toggle:function(){if(this.checked){this.uncheck()}else{this.check()}},uncheck:function(){if(this.checked){var b=this;this._switchButton(false)}},check:function(){if(!this.checked){var b=this;this._switchButton(true)}},_idHandler:function(b){if(!this.element.id){var c="jqx-switchbutton-"+b;this.element.id=c}},_dir:function(b){return this._dimensions[this.orientation][b]},_getEvent:function(b){if(this._isTouchDevice){return this._touchEvents[b]}else{return b}},_render:function(){this._thumb=a("<span/>");this._onLabel=a("<span/>");this._offLabel=a("<span/>");this._wrapper=a("<div/>");this._onLabel.appendTo(this.host);this._thumb.appendTo(this.host);this._offLabel.appendTo(this.host);this.host.wrapInner(this._wrapper);this._wrapper=this.host.children();this.setOnLabel(this.onLabel);this.setOffLabel(this.offLabel)},_addClasses:function(){var c=this._thumb,d=this._onLabel,b=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper"));c.addClass(this.toThemeProperty("jqx-fill-state-normal"));c.addClass(this.toThemeProperty("jqx-switchbutton-thumb"));d.addClass(this.toThemeProperty("jqx-switchbutton-label-on"));d.addClass(this.toThemeProperty("jqx-switchbutton-label"));b.addClass(this.toThemeProperty("jqx-switchbutton-label-off"));b.addClass(this.toThemeProperty("jqx-switchbutton-label"))},_performLayout:function(){var e=this.host,c=this._dir("opSize"),d=this._dir("size"),f=this._wrapper,b;e.css({width:this.width,height:this.height});f.css(c,e[c]());this._thumbLayout();this._labelsLayout();b=this._borders[this._dir("opposite")]/2;f.css(d,e[d]()+this._offLabel[this._dir("oSize")]()+b+0.8);f.css(c,e[c]())},_thumbLayout:function(){var d=this.thumbSize,e=this.host,b=0,f={horizontal:0,vertical:0},c=this;if(d.toString().indexOf("%")>=0){d=e[this._dir("size")]()*parseInt(d,10)/100}this._thumb[this._dir("size")](d);this._thumb[this._dir("opSize")](e[this._dir("opSize")]());this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0;this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0;this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0;this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var b=this._borders[this._dir("opposite")];if(this.orientation==="horizontal"){this._thumb.css("margin-top",-b/2);this._thumb.css("margin-left",0)}else{this._thumb.css("margin-left",-b/2);this._thumb.css("margin-top",0)}},_labelsLayout:function(){var g=this.host,c=this._thumb,e=this._dir("opSize"),h=this._dir("size"),b=this._dir("oSize"),f=g[h]()-c[b](),d=this._borders[this._dir("opposite")]/2;this._onLabel[h](f+d);this._offLabel[h](f+d);this._onLabel[e](g[e]());this._offLabel[e](g[e]());this._orderLabels();this._centerLabels()},_orderLabels:function(){if(this.orientation==="horizontal"){this._onLabel.css("float","left");this._thumb.css("float","left");this._offLabel.css("float","right")}else{this._onLabel.css("display","block");this._offLabel.css("display","block")}},_centerLabels:function(){var c=this._onLabel.children("div"),b=this._offLabel.children("div"),e=c.parent(),f=e.height(),g=c.outerHeight(),d=this._borders[this.orientation]/2||0,h=Math.floor((f-g)/2)+d;c.css("margin-top",h);b.css("margin-top",h)},_removeEventHandles:function(){var b="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+b+this.element.id,this._clickHandle);this.removeHandler(this._thumb,this._getEvent("mousedown")+b,this._mouseDown);this.removeHandler(a(document),this._getEvent("mouseup")+b,this._mouseUp);this.removeHandler(a(document),this._getEvent("mousemove")+b,this._mouseMove)},_addEventHandles:function(){var c="."+this.element.id,b=this;this.addHandler(this._thumb,"mouseenter"+c,function(){b._thumb.addClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._thumb,"mouseleave"+c,function(){b._thumb.removeClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._wrapper,this._getEvent("click")+c,this._clickHandle,{self:this});this.addHandler(this._thumb,this._getEvent("mousedown")+c,this._mouseDown,{self:this});this.addHandler(a(document),this._getEvent("mouseup")+c,this._mouseUp,{self:this});this.addHandler(a(document),this._getEvent("mousemove")+c,this._mouseMove,{self:this})},enable:function(){this.disabled=false;this.element.disabled=false},disable:function(){this.disabled=true;this.element.disabled=true},_clickHandle:function(c){var b=c.data.self;if((b.toggleMode==="click"||b.toggleMode==="default")&&!b.disabled){if(!b._isDistanceTraveled&&!b._dragged){b._wrapper.stop();b.toggle()}}b._thumb.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(c){var b=c.data.self,d=b._wrapper;b._mouseStartPosition=b._getMouseCoordinates(c);b._buttonStartPosition={left:parseInt(d.css("margin-left"),10)||0,top:parseInt(d.css("margin-top"),10)||0};if(!b.disabled&&(b.toggleMode==="slide"||b.toggleMode==="default")){b._wrapper.stop();b._isMouseDown=true;b._isDistanceTraveled=false;b._dragged=false}b._thumb.addClass(b.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(d){var c=d.data.self;c._isMouseDown=false;c._thumb.removeClass(c.toThemeProperty("jqx-fill-state-pressed"));if(!c._isDistanceTraveled){return}var f=c._wrapper,b=parseInt(f.css("margin-"+c._dir("pos")),10)||0,e=c._dropHandler(b);if(e){c._switchButton(!c.checked)}else{c._switchButton(c.checked,null,true)}c._isDistanceTraveled=false},_mouseMove:function(f){var d=f.data.self,b=d._getMouseCoordinates(f);if(d._isMouseDown&&d._distanceTraveled(b)){var e=d._dir("pos"),h=d._wrapper,c=d._buttonStartPosition[e],g=c+b[e]-d._mouseStartPosition[e],g=d._validatePosition(g);d._dragged=true;h.css("margin-"+d._dir("pos"),g);return false}},_distanceTraveled:function(b){if(this._isDistanceTraveled){return true}else{if(!this._isMouseDown){return false}else{var d=this._mouseStartPosition,c=this._distanceRequired;this._isDistanceTraveled=Math.abs(b.left-d.left)>=c||Math.abs(b.top-d.top)>=c;return this._isDistanceTraveled}}},_validatePosition:function(c){var d=this._borders[this._dir("opposite")],b=0,e=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-d;if(b<c){return b}if(e>c){return e}return c},_dropHandler:function(c){var b=0,d=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),g=Math.abs(d-b),e=Math.abs(c-this._buttonStartPosition[this._dir("pos")]),f=g*(this.switchRatio/100);if(e>=f){return true}return false},_switchButton:function(c,h,g){var i=this._wrapper,d=this,f={},e=this._borders[this._dir("opposite")],b=0;if(typeof h==="undefined"){h=(this.animationEnabled?this.animationDuration:0)}if(!c){b=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+e}f["margin-"+this._dir("pos")]=-b;i.animate(f,h,function(){if(!g){d._handleEvent(c)}d.checked=c})},_handleEvent:function(b){if(b!==this.checked){this._raiseEvent(2,{check:b})}if(b){this._raiseEvent(0)}else{this._raiseEvent(1)}},_disableSelection:function(){var c=this.host,b=c.find("*");a.each(b,function(d,e){e.onselectstart=function(){return false};a(e).addClass("jqx-disableselect")})},_getMouseCoordinates:function(b){if(this._isTouchDevice){return{left:b.originalEvent.touches[0].pageX,top:b.originalEvent.touches[0].pageY}}else{return{left:b.pageX,top:b.pageY}}},destroy:function(){this._removeEventHandlers();this.host.removeClass(this.toThemeProperty("jqx-switchbutton"));this._wrapper.remove()},_raiseEvent:function(d,b){var c=a.Event(this._events[d]);c.args=b;return this.host.trigger(c)},_themeChanger:function(f,g,e){if(!f){return}if(typeof e==="undefined"){e=this.host}var h=e[0].className.split(" "),b=[],j=[],d=e.children();for(var c=0;c<h.length;c+=1){if(h[c].indexOf(f)>=0){b.push(h[c]);j.push(h[c].replace(f,g))}}this._removeOldClasses(b,e);this._addNewClasses(j,e);for(var c=0;c<d.length;c+=1){this._themeChanger(f,g,a(d[c]))}},_removeOldClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.removeClass(d[b])}},_addNewClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.addClass(d[b])}},propertyChangedHandler:function(b,c,e,d){switch(c){case"disabled":if(d){this.disable()}else{this.enable()}break;case"switchRatio":this.switchRatio=parseInt(this.switchRatio,10);break;case"checked":if(d){this.check()}else{this.uncheck()}break;case"onLabel":this.setOnLabel(d);break;case"offLabel":this.setOffLabel(d);break;case"theme":a.jqx.utilities.setTheme(e,d,b.host);break;case"width":case"height":case"thumbSize":case"orientation":this._performLayout();this._wrapper.css("left",0);this._wrapper.css("top",0);this._switchButton(this.checked,0,true);break}}})})(jQuery);(function(a){a.jqx.jqxWidget("myWidget","",{});a.extend(a.jqx._myWidget.prototype,{var1:5,var2:10,foo:function(b){this.var1*=b},bar:function(){alert(this.var1)},createInstance:function(b){}});a.jqx.jqxWidget("jqxScrollBar","",{});a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null;this.width=null;this.vertical=false;this.min=0;this.max=1000;this.value=this.min;this.step=10;this.largestep=50;this.thumbMinSize=10;this.thumbSize=0;this.roundedCorners="all";this.showButtons=true;this.disabled=false;this.touchMode="auto";this._triggervaluechanged=true},createInstance:function(c){var b=this;this.host.append("<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.btnUp=this.host.find("#jqxScrollBtnUp");this.btnDown=this.host.find("#jqxScrollBtnDown");this.btnThumb=this.host.find("#jqxScrollThumb");this.areaUp=this.host.find("#jqxScrollAreaUp");this.arrowUp=a('<div style="width: 100%; height: 100%;"></div>');this.arrowUp.appendTo(this.btnUp);this.arrowDown=a('<div style="width: 100%; height: 100%;"></div>');this.arrowDown.appendTo(this.btnDown);this.areaDown=this.host.find("#jqxScrollAreaDown");this.scrollWrap=this.host.find("#jqxScrollWrap");this.scrollOuterWrap=this.host.find("#jqxScrollOuterWrap");this.btnUp[0].id="jqxScrollBtnUp"+this.element.id;this.btnDown[0].id="jqxScrollBtnDown"+this.element.id;this.btnThumb[0].id="jqxScrollThumb"+this.element.id;this.areaUp[0].id="jqxScrollAreaUp"+this.element.id;this.areaDown[0].id="jqxScrollAreaDown"+this.element.id;this.scrollWrap[0].id="jqxScrollWrap"+this.element.id;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+this.element.id;if(!this.host.jqxRepeatButton){alert("jqxbuttons.js is not loaded.");return}this.btnUp.jqxRepeatButton({overrideTheme:true});this.btnDown.jqxRepeatButton({overrideTheme:true});this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({overrideTheme:true,delay:300});this.areaDown.jqxRepeatButton({overrideTheme:true,delay:300});this.btnThumb.jqxButton({overrideTheme:true});this.propertyChangeMap.value=function(d,f,e,g){d.setPosition(g)};this.propertyChangeMap.theme=function(d,f,e,g){d.setTheme()};this.propertyChangeMap.max=function(d,f,e,g){if(e!=g){d.setPosition(d.value);d._arrange()}};this.propertyChangeMap.min=function(d,f,e,g){if(e!=g){d.setPosition(d.value);d._arrange()}};this.buttonUpCapture=false;this.buttonDownCapture=false;this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){this.isTouchDevice=true;a.jqx.mobile.setMobileSimulator(this.btnThumb[0])}else{if(this.touchMode==false){this.isTouchDevice=false}}this.setPosition(this.value);this._addHandlers();this.setTheme()},_addHandlers:function(){var d=this;if(d.isTouchDevice){this.addHandler(this.btnThumb,"touchend",function(f){var g=d.vertical?d.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):d.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");var h=d.toThemeProperty("jqx-fill-state-pressed");d.btnThumb.removeClass(g);d.btnThumb.removeClass(h);if(!d.disabled){d.handlemouseup(d,f)}});this.addHandler(this.btnThumb,"touchstart",function(f){if(!d.disabled){if(d.touchMode==true){f.clientX=f.originalEvent.clientX;f.clientY=f.originalEvent.clientY}else{var g=f;if(g.originalEvent.touches&&g.originalEvent.touches.length){f.clientX=g.originalEvent.touches[0].clientX;f.clientY=g.originalEvent.touches[0].clientY}}d.handlemousedown(f)}});a.jqx.mobile.touchScroll(this.element,d.max,function(l,k,g,f,h){if(d.host.css("visibility")=="visible"){if(d.touchMode==true){h.clientX=h.originalEvent.clientX;h.clientY=h.originalEvent.clientY}else{var j=h;if(j.originalEvent.touches&&j.originalEvent.touches.length){h.clientX=j.originalEvent.touches[0].clientX;h.clientY=j.originalEvent.touches[0].clientY}}var i=d.vertical?d.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):d.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");d.btnThumb.addClass(i);d.btnThumb.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.handlemousemove(h)}})}this.addHandler(this.btnUp,"click",function(f){if(d.buttonUpCapture&&!d.isTouchDevice){if(!d.disabled){d.setPosition(d.value-d.step)}}else{if(!d.disabled&&d.isTouchDevice){d.setPosition(d.value-d.step)}}});this.addHandler(this.btnDown,"click",function(f){if(d.buttonDownCapture&&!d.isTouchDevice){if(!d.disabled){d.setPosition(d.value+d.step)}}else{if(!d.disabled&&d.isTouchDevice){d.setPosition(d.value+d.step)}}});if(!this.isTouchDevice){if(window.frameElement){if(window.top!=null){var e=function(f){if(!d.disabled){d.handlemouseup(d,f)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",e,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",e)}}}}this.addHandler(this.btnDown,"mouseup",function(f){if(!d.btnDownInstance.base.disabled){d.buttonDownCapture=false;d.btnDown.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.btnDown.removeClass(d.toThemeProperty("jqx-fill-state-pressed"));d.handlemouseup(d,f);d.setPosition(d.value+d.step);return false}});this.addHandler(this.btnUp,"mouseup",function(f){if(!d.btnUpInstance.base.disabled){d.buttonUpCapture=false;d.btnUp.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.btnUp.removeClass(d.toThemeProperty("jqx-fill-state-pressed"));d.handlemouseup(d,f);d.setPosition(d.value-d.step);return false}});this.addHandler(this.btnDown,"mousedown",function(f){if(!d.btnDownInstance.base.disabled){d.buttonDownCapture=true;d.btnDown.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.btnDown.addClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));return false}});this.addHandler(this.btnUp,"mousedown",function(f){if(!d.btnUpInstance.base.disabled){d.buttonUpCapture=true;d.btnUp.addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.btnUp.addClass(d.toThemeProperty("jqx-scrollbar-button-state-pressed"));return false}})}var c="click";if(this.isTouchDevice){c="touchend"}this.addHandler(this.areaUp,c,function(f){if(!d.disabled){d.setPosition(d.value-d.largestep);return false}});this.addHandler(this.areaDown,c,function(f){if(!d.disabled){d.setPosition(d.value+d.largestep);return false}});this.addHandler(this.areaUp,"mousedown",function(f){if(!d.disabled){return false}});this.addHandler(this.areaDown,"mousedown",function(f){if(!d.disabled){return false}});this.addHandler(this.btnThumb,"mousedown",function(f){if(!d.disabled){d.handlemousedown(f)}return false});this.addHandler(this.btnThumb,"dragstart",function(f){return false});this.addHandler(a(document),"mouseup."+this.element.id,function(f){if(!d.disabled){d.handlemouseup(d,f)}});if(!this.isTouchDevice){this.addHandler(a(document),"mousemove."+this.element.id,function(f){if(!d.disabled){d.handlemousemove(f)}});this.addHandler(a(document),"mouseleave."+this.element.id,function(f){if(!d.disabled){d.handlemouseleave(f)}});this.addHandler(a(document),"mouseenter."+this.element.id,function(f){if(!d.disabled){d.handlemouseenter(f)}});if(!d.disabled){this.btnUp.hover(function(){if(!d.disabled&&!d.btnUpInstance.base.disabled){d.btnUp.addClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnUp.addClass(d.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!d.disabled&&!d.btnUpInstance.base.disabled){d.btnUp.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnUp.removeClass(d.toThemeProperty("jqx-fill-state-hover"))}});var b=d.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!d.vertical){b=d.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.btnThumb.hover(function(){if(!d.disabled){d.btnThumb.addClass(b);d.btnThumb.addClass(d.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!d.disabled){d.btnThumb.removeClass(b);d.btnThumb.removeClass(d.toThemeProperty("jqx-fill-state-hover"))}});this.btnDown.hover(function(){if(!d.disabled&&!d.btnDownInstance.base.disabled){d.btnDown.addClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnDown.addClass(d.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!d.disabled&&!d.btnDownInstance.base.disabled){d.btnDown.removeClass(d.toThemeProperty("jqx-scrollbar-button-state-hover"));d.btnDown.removeClass(d.toThemeProperty("jqx-fill-state-hover"))}})}}},destroy:function(){var b=this.btnUp;var f=this.btnDown;var d=this.btnThumb;var c=this.scrollWrap;var g=this.areaUp;var e=this.areaDown;e.removeClass();g.removeClass();f.removeClass();b.removeClass();d.removeClass();b.jqxRepeatButton("destroy");f.jqxRepeatButton("destroy");g.jqxRepeatButton("destroy");e.jqxRepeatButton("destroy");d.jqxButton("destroy");this._removeHandlers();this.host.removeClass();this.host.remove()},_removeHandlers:function(){this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(a(document),"mouseup."+this.element.id);this.removeHandler(a(document),"mousemove."+this.element.id);this.removeHandler(a(document),"mouseleave."+this.element.id);this.removeHandler(a(document),"mouseenter."+this.element.id);this.btnUp.unbind("hover");this.btnThumb.unbind("hover");this.btnDown.unbind("hover");var b=this},setTheme:function(){var c=this.btnUp;var h=this.btnDown;var e=this.btnThumb;var d=this.scrollWrap;var i=this.areaUp;var g=this.areaDown;var f=this.arrowUp;var b=this.arrowDown;this.scrollWrap.removeClass();this.host.removeClass();f.removeClass();b.removeClass();g.removeClass();i.removeClass();h.removeClass();c.removeClass();e.removeClass();this.scrollWrap.removeClass();this.host.removeClass();this.scrollWrap.addClass(this.toThemeProperty("jqx-reset"));this.scrollOuterWrap.addClass(this.toThemeProperty("jqx-reset"));this.areaUp.addClass(this.toThemeProperty("jqx-reset"));this.areaDown.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-scrollbar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));h.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));c.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));if(this.vertical){f.addClass(this.toThemeProperty("icon-arrow-up"));b.addClass(this.toThemeProperty("icon-arrow-down"));e.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal"))}else{f.addClass(this.toThemeProperty("icon-arrow-left"));b.addClass(this.toThemeProperty("icon-arrow-right"));e.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal"))}e.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(this.disabled){d.addClass(this.toThemeProperty("jqx-fill-state-disabled"));d.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{d.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));d.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(c.jqxRepeatButton("disabled")!=this.disabled){c.jqxRepeatButton("disabled",this.disabled)}if(h.jqxRepeatButton("disabled")!=this.disabled){h.jqxRepeatButton("disabled",this.disabled)}if(e.jqxButton("disabled")!=this.disabled){e.jqxButton("disabled",this.disabled)}},isScrolling:function(){if(this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined){return false}return this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture},handlemousedown:function(c){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var b=this.btnThumb;if(b!=null){b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(this.vertical){b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=c.clientX;this.dragStartY=c.clientY;this.dragStartValue=this.value},toggleHover:function(c,b){},refresh:function(){this._arrange()},_setElementPosition:function(c,b,d){if(!isNaN(b)){c[0].style.left=b+"px"}if(!isNaN(d)){c[0].style.top=d+"px"}},_setElementTopPosition:function(b,c){if(!isNaN(c)){b[0].style.top=c+"px"}},_setElementLeftPosition:function(c,b){if(!isNaN(b)){c[0].style.left=b+"px"}},handlemouseleave:function(e){var b=this.btnUp;var d=this.btnDown;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));if(this.thumbCapture!=true){return}var c=this.btnThumb;var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(f);c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemouseenter:function(e){var b=this.btnUp;var d=this.btnDown;if(this.buttonUpCapture){b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}if(this.buttonDownCapture){d.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}if(this.thumbCapture!=true){return}var c=this.btnThumb;if(this.vertical){c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemousemove:function(b){var h=this.btnUp;var d=this.btnDown;var c=0;if(d==null||h==null){return}if(h!=null&&d!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&b.which==c){d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.buttonDownCapture=false}else{if(this.buttonUpCapture&&b.which==c){h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));h.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var j=this.btnThumb;if(b.which==c&&!this.isTouchDevice){this.thumbCapture=false;this._arrange();var i=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");j.removeClass(i);j.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));return true}if(b.preventDefault!=undefined){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}var k=0;try{if(!this.vertical){k=b.clientX-this.dragStartX}else{k=b.clientY-this.dragStartY}var e=(this.vertical)?h.height()+d.height()+j.height():h.width()+d.width()+j.width();var f=(this.max-this.min)/(this.scrollBarSize-e);k*=f;this.setPosition(this.dragStartValue+k)}catch(g){alert(g)}return false},handlemouseup:function(d,g){var c=false;if(this.thumbCapture){this.thumbCapture=false;var e=this.btnThumb;var h=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.removeClass(h);e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c=true}if(this.buttonUpCapture||this.buttonUpCapture){var b=this.btnUp;var f=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));f.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c=true}if(c){if(g.preventDefault!=undefined){g.preventDefault()}if(g.originalEvent!=null){g.originalEvent.mouseHandled=true}if(g.stopPropagation!=undefined){g.stopPropagation()}}},setPosition:function(b){var d=this.element;if(b==undefined||b==NaN){b=this.min}if(b>=this.max){b=this.max}if(b<this.min){b=this.min}var e=new jQuery.Event("valuechanged");if(this.value!=b){if(b==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}e.previousValue=this.value;e.currentValue=b;this.value=b;this._positionelements();if(this._triggervaluechanged){this.host.trigger(e)}if(this.valuechanged){this.valuechanged({currentValue:e.currentValue,previousvalue:e.previousValue})}}return b},_getThumbSize:function(b){var d=this.max-this.min;var c=0;if(d>1){c=(b/(d+b)*b)}else{if(d==1){c=b}}if(this.thumbSize>0){c=this.thumbSize}if(c<this.thumbMinSize){c=this.thumbMinSize}return Math.min(c,b)},_positionelements:function(){var g=this.element;var m=this.areaUp;var e=this.areaDown;var h=this.btnUp;var f=this.btnDown;var n=this.btnThumb;var b=this.scrollWrap;var o=this.host.height();var c=this.host.width();var k=(!this.vertical)?o:c;if(!this.showButtons){k=0}var l=(!this.vertical)?c:o;this.scrollBarSize=l;var d=this._getThumbSize(l-2*k);d=Math.round(d);if(d<this.thumbMinSize){d=this.thumbMinSize}if(o==NaN||o<10){o=10}if(c==NaN||c<10){c=10}k+=2;this.btnSize=k;var i=(this.vertical)?2*this.btnSize+n.outerHeight():2*this.btnSize+n.outerWidth();i=Math.round(i);var j=(l-i)/(this.max-this.min)*this.value;j=Math.round(j);if(this.vertical){e[0].style.height=l-j-i+"px";m[0].style.height=j+"px";this._setElementTopPosition(m,k);this._setElementTopPosition(n,k+j);this._setElementTopPosition(e,k+j+d)}else{m[0].style.width=j+"px";e[0].style.width=l-j-i+"px";this._setElementLeftPosition(m,k);this._setElementLeftPosition(n,k+j);this._setElementLeftPosition(e,2+k+j+d)}},_arrange:function(){var d=this.element;var h=this.areaUp;var t=this.areaDown;var c=this.btnUp;var m=this.btnDown;var u=this.btnThumb;var o=this.scrollWrap;if(this.roundedCorners=="all"){if(this.vertical){c.jqxRepeatButton();m.jqxRepeatButton();var g=a.jqx.cssroundedcorners("top");g=this.toThemeProperty(g);c.addClass(g);var q=a.jqx.cssroundedcorners("bottom");q=this.toThemeProperty(q);m.addClass(q)}else{c.jqxRepeatButton();m.jqxRepeatButton();var l=a.jqx.cssroundedcorners("left");l=this.toThemeProperty(l);c.addClass(l);var i=a.jqx.cssroundedcorners("right");i=this.toThemeProperty(i);m.addClass(i)}}else{var s=a.jqx.cssroundedcorners(this.roundedCorners);s=this.toThemeProperty(s);c.addClass(s);m.addClass(s)}u.jqxButton();var s=a.jqx.cssroundedcorners(this.roundedCorners);s=this.toThemeProperty(s);u.addClass(s);var n=this.host.height();var p=this.host.width();var b=(!this.vertical)?n:p;if(!this.showButtons){b=0}c.css({width:b+"px"});c.css({height:b+"px"});m.css({width:b+"px"});m.css({height:b+"px"});if(this.vertical){o.css({width:p+2+"px"})}else{o.css({height:n+2+"px"})}this._setElementPosition(c,0,0);if(this.vertical){this._setElementPosition(m,0,n-m.outerHeight())}else{this._setElementPosition(m,p-m.outerWidth(),0)}var f=(!this.vertical)?p:n;this.scrollBarSize=f;var j=this._getThumbSize(f-2*b);j=Math.round(j);if(j<this.thumbMinSize){j=this.thumbMinSize}if(!this.vertical){u.css({width:j+"px"});u.css({height:n+"px"})}else{u.css({width:p+"px"});u.css({height:j+"px"})}if(n==NaN||n<10){n=10}if(p==NaN||p<10){p=10}b+=2;this.btnSize=b;var e=(this.vertical)?2*this.btnSize+u.outerHeight():2*this.btnSize+u.outerWidth();e=Math.round(e);var v=(f-e)/(this.max-this.min)*this.value;v=Math.round(v);if(isNaN(v)){v=0}if(this.vertical){t.css({height:(f-v-e)+"px",width:p+"px"});h.css({height:v+"px",width:p+"px"});var k=parseInt(this.host.height());if(k-3*parseInt(b)<0){u.css("visibility","hidden")}else{if(k<e){u.css("visibility","hidden")}else{if(this.host.css("visibility")=="visible"){u.css("visibility","inherit")}}}this._setElementPosition(h,0,b);this._setElementPosition(u,0,b+v);this._setElementPosition(t,0,b+v+j)}else{h.css({width:v+"px",height:n+"px"});t.css({width:(f-v-e)+"px",height:n+"px"});var r=parseInt(this.host.width());if(r-3*parseInt(b)<0){u.css("visibility","hidden")}else{if(r<e){u.css("visibility","hidden")}else{if(this.host.css("visibility")=="visible"){u.css("visibility","inherit")}}}this._setElementPosition(h,b,0);this._setElementPosition(u,b+v,0);this._setElementPosition(t,2+b+v+j,0)}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxPanel","",{});a.extend(a.jqx._jqxPanel.prototype,{defineInstance:function(){this.width=null;this.height=null;this.disabled=false;this.scrollBarSize=15;this.sizeMode="fixed";this.autoUpdate=false;this.autoUpdateInterval=500;this.touchMode="auto";this.horizontalScrollBarMax=null;this.verticalScrollBarMax=null;this.events=["layout",]},createInstance:function(e){var i=this;this.host.addClass(this.toThemeProperty("jqx-panel"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));var d=a("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelWrapper' tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; overflow: hidden; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' tabIndex=0 style='-webkit-appearance: none; outline: none; border: none; padding: 0px; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");var b=this.host.css("height");var h=this.host.css("width");if(this.width==null){this.width=h}if(this.height==null){this.height=b}this.host.wrapInner(d);var f=this.host.find("#verticalScrollBar");f[0].id=this.element.id+"verticalScrollBar";this.vScrollBar=f.jqxScrollBar({vertical:true,theme:this.theme});var j=this.host.find("#horizontalScrollBar");j[0].id=this.element.id+"horizontalScrollBar";this.hScrollBar=j.jqxScrollBar({vertical:false,theme:this.theme});this.wrapper=this.host.find("#panelWrapper");this.wrapper[0].id=this.wrapper[0].id+this.element.id;this.content=this.host.find("#panelContent");this.content.addClass(this.toThemeProperty("jqx-widget-content"));if(a.browser.msie){}this.content[0].id=this.content[0].id+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","visible");this.hScrollBar.css("visibility","visible");this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;var g=this;this.propertyChangeMap.disabled=function(k,m,l,n){g.vScrollBar.jqxScrollBar({disabled:g.disabled});g.hScrollBar.jqxScrollBar({disabled:g.disabled})};this.vScrollBar.jqxScrollBar({disabled:this.disabled});this.hScrollBar.jqxScrollBar({disabled:this.disabled});this._addHandlers();this._arrange();a(window).resize(function(){i._arrange()});this.contentWidth=g.content[0].scrollWidth;this.contentHeight=g.content[0].scrollHeight;if(this.autoUpdate){g._autoUpdate()}this.propertyChangeMap.autoUpdate=function(k,m,l,n){if(g.autoUpdate){g._autoUpdate()}else{clearInterval(g.autoUpdateId);g.autoUpdateId=null}};a(window).bind("unload",function(){if(g.autoUpdateId!=null){clearInterval(g.autoUpdateId);g.autoUpdateId=null;g.destroy()}});if(this.touchMode==true){a.jqx.mobile.setMobileSimulator(this.element)}var c=this.isTouchDevice();if(c){a.jqx.mobile.touchScroll(this.element,i.vScrollInstance.max,function(m,l){if(i.vScrollBar.css("visibility")=="visible"){var k=i.vScrollInstance.value;i.vScrollInstance.setPosition(k+l)}if(i.hScrollBar.css("visibility")=="visible"){var k=i.hScrollInstance.value;i.hScrollInstance.setPosition(k+m)}})}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}return b},append:function(b){if(b!=null){this.content.append(b);this._arrange()}},prepend:function(b){if(b!=null){this.content.prepend(b);this._arrange()}},clearcontent:function(){this.content.text("");this.content.children().remove();this._arrange()},remove:function(b){if(b!=null){a(b).remove();this._arrange()}},_autoUpdate:function(){var b=this;this.autoUpdateId=setInterval(function(){var d=b.content[0].scrollWidth;var c=b.content[0].scrollHeight;var e=false;if(b.contentWidth!=d){b.contentWidth=d;e=true}if(b.contentHeight!=c){b.contentHeight=c;e=true}if(e){b._arrange()}},this.autoUpdateInterval)},_addHandlers:function(){var b=this;this.addHandler(this.vScrollBar,"valuechanged",function(c){b._render(b)});this.addHandler(this.hScrollBar,"valuechanged",function(c){b._render(b)});this.addHandler(this.host,"mousewheel",function(c){b.wheel(c,b)});this.addHandler(this.content,"mouseleave",function(c){b.focused=false});this.addHandler(this.content,"focus",function(c){b.focused=true});this.addHandler(this.content,"blur",function(c){b.focused=false});this.addHandler(this.content,"mouseenter",function(c){b.focused=true})},_removeHandlers:function(){var b=this;this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.content,"mouseenter")},wheel:function(d,c){var e=0;if(d.originalEvent&&a.browser.msie&&d.originalEvent.wheelDelta){e=d.originalEvent.wheelDelta/120}if(!d){d=window.event}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(!b){if(d.preventDefault){d.preventDefault()}}if(!b){return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var b=this.vScrollInstance;if(b.value+b.largestep<=b.max){b.setPosition(b.value+b.largestep)}else{b.setPosition(b.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var b=this.vScrollInstance;if(b.value-b.largestep>=b.min){b.setPosition(b.value-b.largestep)}else{b.setPosition(b.min)}},_handleDelta:function(d){if(this.focused){var c=this.vScrollInstance.value;if(d<0){this.scrollDown()}else{this.scrollUp()}var b=this.vScrollInstance.value;if(c!=b){return false}}return true},_render:function(c){if(c==undefined){c=this}var b=c.vScrollInstance.value;var d=c.hScrollInstance.value;c.content.css({left:-d,top:-b})},scrollTo:function(c,b){if(c==undefined||b==undefined){return}this.vScrollInstance.setPosition(b);this.hScrollInstance.setPosition(c)},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_arrange:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}if(this.width!=null&&this.width.toString().indexOf("auto")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("auto")!=-1){this.host.height(this.height)}this.content.css("margin-right","0px");var o=null;var l=null;if(a.browser.msie&&a.browser.version<10){var q=parseInt(this.content.css("left"));this.content.css("left",0)}var m=parseInt(this.content[0].scrollWidth);a.each(this.content.children(),function(){m=Math.max(m,a(this).outerWidth())});if(a.browser.msie&&a.browser.version<10){this.content.css("left",q)}if(m<parseInt(this.host.width())){m=parseInt(this.host.width())}var p=parseInt(this.content[0].scrollHeight);if(this.sizeMode=="wrap"){this.host.width(m);this.host.height(p);this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");return}var g=4+parseInt(this.scrollBarSize);var s=g+p-parseInt(this.host.height());var h=g+m-parseInt(this.host.width());if(this.horizontalScrollBarMax!=undefined){h=this.horizontalScrollBarMax}if(this.verticalScrollBarMax!=undefined){s=this.verticalScrollBarMax}var c=0;if(s>g){if(h<=0){s=p-parseInt(this.host.height())}this.vScrollBar.jqxScrollBar({max:s});this.vScrollBar.css("visibility","visible")}else{this.vScrollBar.jqxScrollBar("setPosition",0);this.vScrollBar.css("visibility","hidden")}if(h>g+c){if(s<=0&&this.horizontalScrollBarMax==undefined){h=m-parseInt(this.host.width())}if(a.browser.msie&&a.browser.version>=8){if(h-10<=g+c){this.hScrollBar.css("visibility","hidden");this.hScrollBar.jqxScrollBar("setPosition",0)}else{this.hScrollBar.jqxScrollBar({max:h});this.hScrollBar.css("visibility","visible")}}else{if(a.browser.msie&&a.browser.version<8){if(h-20<=g+c){this.hScrollBar.css("visibility","hidden");this.hScrollBar.jqxScrollBar("setPosition",0)}else{this.hScrollBar.jqxScrollBar({max:h});this.hScrollBar.css("visibility","visible")}}else{this.hScrollBar.jqxScrollBar({max:h});this.hScrollBar.css("visibility","visible")}}}else{this.hScrollBar.css("visibility","hidden");this.hScrollBar.jqxScrollBar("setPosition",0);if(this.vScrollBar.css("visibility")=="visible"){var r=this;r.content.css("margin-right",g)}}if(this.width!=null&&this.width.toString().indexOf("px")!=-1){o=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){o=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){l=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){l=this.height}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){o=this.host.width()}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){l=this.host.height()}var d=this.host.css("border-width");if(d==null){d=0}if(o!=null){o=parseInt(o);this.host.width(this.width)}if(l!=null){l=parseInt(l);this.host.height(this.height)}var b=this.scrollBarSize;if(isNaN(b)){b=parseInt(b);if(isNaN(b)){b="17px"}else{b=b+"px"}}b=parseInt(b);var j=4;var e=2;var f=0;if(this.vScrollBar.css("visibility")=="visible"){f=b+j}if(this.hScrollBar.css("visibility")=="visible"){e=b+j}this.hScrollBar.height(b);this.hScrollBar.css({top:l-j-b+"px",left:"0px"});this.hScrollBar.width(o-b-j+"px");if(f==0){this.hScrollBar.width(o-2)}if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollBar.width(b)}else{this.vScrollBar.width(0)}this.vScrollBar.height(parseInt(l)-e+"px");this.vScrollBar.css({left:parseInt(o)-parseInt(b)-j+"px",top:"0px"});var i=this.vScrollInstance;i.disabled=this.disabled;i.refresh();var n=this.hScrollInstance;n.disabled=this.disabled;n.refresh();if((this.vScrollBar.css("visibility")=="visible")&&(this.hScrollBar.css("visibility")=="visible")){this.bottomRight.css("visibility","visible");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(b)+3);this.bottomRight.height(parseInt(b)+3)}else{this.bottomRight.css("visibility","hidden")}this._raiseevent(0);var k=this;if(this.sizeMode=="horizontalwrap"){this.host.width(m);this.vScrollBar.css({left:this.host.width()-parseInt(b)-j+"px",top:"0px"});this.hScrollBar.css("visibility","hidden")}else{if(this.sizeMode=="verticalwrap"){this.host.height(p);if(this.hScrollBar.css("visibility")=="visible"){p+=20;this.host.height(p)}this.hScrollBar.css({top:p-j-b+"px",left:"0px"});this.vScrollBar.css("visibility","hidden")}}},destroy:function(){this._removeHandlers();a(window).unbind("unload")},_raiseevent:function(g,d,f){if(this.isInitialized!=undefined&&this.isInitialized==true){var c=this.events[g];var e=new jQuery.Event(c);e.previousValue=d;e.currentValue=f;e.owner=this;var b=this.host.trigger(e);return b}},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this.hScrollInstance.value=0;this._arrange();this._render()},propertyChangedHandler:function(c,d,b,e){if(!this.isInitialized){return}if(!c.updating){if(d=="scrollBarSize"||d=="width"||d=="height"){this._arrange()}}if(d=="theme"){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-panel"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.vScrollBar.jqxScrollBar({theme:this.theme});this.hScrollBar.jqxScrollBar({theme:this.theme});this.bottomRight.removeClass();this.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright"));this.content.removeClass();this.content.addClass(this.toThemeProperty("jqx-widget-content"))}},refresh:function(){}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxTooltip","",{});a.extend(a.jqx._jqxTooltip.prototype,{defineInstance:function(){this.header="Header";this.content="jqxTooltip";if(this.width==undefined){this.width=null}if(this.height==undefined){this.height=null}this.location="bottom-right",this.horizontalOffset=0;this.verticalOffset=0;this.enableAnimation=true;this.animationShowDuration=450,this.animationHideDuration=250,this.animationHideDelay=4000,this.animationShowDelay=100,this.showHtml=false;this.staysOpen=false;this.isOpen=false;this.disabled=false;this.events=["shown","closed"]},createInstance:function(b){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}this.elements=new Array();this.index=0},destroy:function(){this.host.removeClass("jqx-tooltip jqx-rc-all")},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;if(f==0){this.isOpen=true}if(f==1){this.isOpen=false}var e=new jQuery.Event(d);e.owner=this;var b=this.host.trigger(e);return b},close:function(c){var b=this;if(c==undefined||c==null){a.each(this.elements,function(){var e=a.data(this.element[0],"Tooltip");if(e==undefined){e=a.data(b,"Tooltip")}if(e!=null){if(b.enableAnimation){e.stop().fadeOut(this.animationHideDuration,function(){a(this).remove()})}else{e.remove()}b._raiseEvent(1);a.data(this,"Tooltip",null)}})}else{var d=a.data(c,"Tooltip");if(d==undefined){d=a.data(this,"Tooltip")}if(d==undefined&&c!=null){d=a(document.body).find("#Tooltip"+c.id)}if(d!=null){if(this.enableAnimation){d.stop().fadeOut(this.animationHideDuration,function(){a(this).remove()})}else{d.remove()}this._raiseEvent(1);a.data(c,"Tooltip",null)}}},open:function(){var d=Array.prototype.slice.call(arguments,0);var c=null;if(d.length>0){c=a(d[0])}else{return}var o="Tooltip";if(d.length>1){o=d[1]}var k=0;var f=0;if(d.length>2){k=d[2]}if(d.length>3){f=d[3]}var j=false;for(loopIndex=0;loopIndex<this.elements.length;loopIndex++){if(this.elements[loopIndex].element[0]==c[0]){j=true;break}}var e={element:c,header:"",content:o};var g=a.data(c[0],"Tooltip");if(!g){g=a("<div><table><tr><td/></tr></table></div>");a(g.find("table")[0]).addClass(this.toThemeProperty("jqx-tooltip-table"));a(g.find("td")[0]).addClass(this.toThemeProperty("jqx-tooltip-content"));a(g.find("td")[0]).addClass(this.toThemeProperty("jqx-fill-state-normal"));g.css({position:"absolute",zIndex:100000});g[0].id="Tooltip"+c[0].id;a.data(c[0],"Tooltip",g);a.data(document.body,"jqxOpenedTooltip",g)}g.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);g.find("."+this.toThemeProperty("jqx-tooltip-content",true))[this.showHtml?"html":"text"](o);var i=c.offset();var b=a(window).scrollTop();var p=a(window).scrollLeft();var s=a.jqx.mobile.isSafariMobileBrowser();if(s){i={left:i.left-p,top:i.top-b}}var q=parseInt(g[0].offsetWidth);var n=parseInt(g[0].offsetHeight);var r=parseInt(c[0].offsetWidth);var l=parseInt(c[0].offsetHeight);var h={position:i,width:q,heigth:n,elementWidth:r,elementHeight:l};a.data(c[0],"TooltipBounds",h);switch(this.location){case"bottom-right":g.css({top:i.top+l,left:i.left+r});break;case"bottom":g.css({top:i.top+l,left:i.left+r/2-q/2});break;case"top":g.css({top:i.top-n,left:i.left+r/2-q/2});break;case"bottom-left":g.css({top:i.top+l,left:i.left-q});break;case"top-left":g.css({top:i.top-n,left:i.left-q});break;case"top-right":g.css({top:i.top-n,left:i.left+r});break;case"right":g.css({top:i.top+l/2-n/2,left:i.left+r});break;case"left":g.css({top:i.top+l/2-n/2,left:i.left-q});break;case"absolute":g.css({top:parseInt(this.verticalOffset),left:parseInt(this.horizontalOffset)});break;case"relative":g.css({top:parseInt(this.verticalOffset)+parseInt(i.top),left:parseInt(this.horizontalOffset)+parseInt(i.left)});break}if(this.enableAnimation){g.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:1},this.animationShowDuration)}else{g.css({visibility:"visible"})}var m=this;setTimeout(function(){if(t==undefined||t==null){var t=a.data(c[0],"Tooltip");if(t==undefined){t=a.data(document.body,"jqxOpenedTooltip")}}if(t!=undefined&&!m.staysOpen){if(m.enableAnimation){t.stop().fadeOut(m.animationHideDuration,function(){a(this).remove()})}else{t.remove()}m._raiseEvent(1)}else{m.close()}},m.animationHideDelay);this._raiseEvent(0)},add:function(c,d,g){if(c==null||c==undefined){return}var b=this;if(c[0]==undefined){c=a(c)}var e=false;if(c[0]!=null){a.each(this.elements,function(){if(this.element[0]==c[0]){e=true;return false}})}if(e){return}var f={element:c,header:g,content:d,canDisplay:true,index:this.index,timer:null};this.elements[this.index]=f;this.timer=null;var c=this.elements[this.index];this.index++;this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(this.isTouchDevice){a(c.element).bind("click",function(){var h=a.data(c.element[0],"Tooltip");if(h!=undefined){b.close(c.element[0])}else{b._open(b,c)}});return}a(c.element).bind("mouseleave",function(){b._close(b,c)});a(c.element).bind("mouseenter",function(h){b._open(b,c)})},_close:function(b,c){if(c.timer!=null){window.clearTimeout(c.timer)}var d=a.data(c.element[0],"Tooltip");if(d!=undefined&&!b.staysOpen){c.canDisplay=false;if(this.enableAnimation){d.stop().fadeOut(this.animationHideDuration,function(){a(this).remove()})}else{d.remove()}c.canDisplay=true;a(c.element).stop(true,true);b._raiseEvent(1)}},_open:function(b,c){if(c.timer!=null){window.clearTimeout(c.timer)}c.timer=window.setTimeout(function(){var l=c.header!=undefined&&c.content!=undefined&&c.header!=null&&c.content!=null&&c.header.length>0&&c.content.length>0;var i=this;var o=a.data(c.element[0],"Tooltip");if(b.disabled){return false}if(!c.canDisplay){return false}if(o!=null&&b.staysOpen){return false}if(!o){if(l){o=a("<div><table><tr><td/></tr><tr><td/></tr></table></div>")}else{o=a("<div><table><tr><td/></tr></table></div>")}if(o.find("td").length>1){a(o.find("td")[0]).addClass(b.toThemeProperty("jqx-tooltip-header"));a(o.find("td")[1]).addClass(b.toThemeProperty("jqx-tooltip-content"));a(o.find("td")[0]).addClass(b.toThemeProperty("jqx-fill-state-normal"));a(o.find("td")[1]).addClass(b.toThemeProperty("jqx-fill-state-normal"))}else{if(o.find("td").length>0){a(o.find("td")[0]).addClass(b.toThemeProperty("jqx-tooltip-content"));a(o.find("td")[0]).addClass(b.toThemeProperty("jqx-fill-state-normal"))}}a(o.find("table")[0]).addClass(b.toThemeProperty("jqx-tooltip-table"));a(o.find("table")[0]).addClass(b.toThemeProperty("jqx-rc-all"));a(o.find("table")[0]).addClass(b.toThemeProperty("jqx-widget"));o.css({position:"absolute",zIndex:100000});a.data(c.element[0],"Tooltip",o)}o.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);if(l){o.find("."+b.toThemeProperty("jqx-tooltip-header",true))[b.showHtml?"html":"text"](c.header)}o.find("."+b.toThemeProperty("jqx-tooltip-content",true))[b.showHtml?"html":"text"](c.content);var e=c.element.offset();var d=a(window).scrollTop();var f=a(window).scrollLeft();var j=a.jqx.mobile.isSafariMobileBrowser();if(j){e={left:e.left-f,top:e.top-d}}var g=parseInt(o[0].offsetWidth);var n=parseInt(o[0].offsetHeight);var k=parseInt(c.element[0].offsetWidth);var h=parseInt(c.element[0].offsetHeight);var m={position:e,width:g,heigth:n,elementWidth:k,elementHeight:h};a.data(c.element[0],"TooltipBounds",m);switch(b.location){case"bottom-right":o.css({top:e.top+h,left:e.left+k});break;case"bottom":o.css({top:e.top+h,left:e.left+k/2-g/2});break;case"top":o.css({top:e.top-n,left:e.left+k/2-g/2});break;case"bottom-left":o.css({top:e.top+h,left:e.left-g});break;case"top-left":o.css({top:e.top-n,left:e.left-g});break;case"top-right":o.css({top:e.top-n,left:e.left+k});break;case"right":o.css({top:e.top+h/2-n/2,left:e.left+k});break;case"left":o.css({top:e.top+h/2-n/2,left:e.left-g});break;case"absolute":o.css({top:parseInt(b.verticalOffset),left:parseInt(b.horizontalOffset)});break;case"relative":o.css({top:parseInt(b.verticalOffset)+parseInt(e.top),left:parseInt(b.horizontalOffset)+parseInt(e.left)});break}a.each(b.elements,function(){if(this.element[0]!=c.element[0]){var p=a.data(this.element[0],"Tooltip");if(p!=null){p.remove()}}});if(b.enableAnimation){o.css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:1},b.animationShowDuration)}else{o.css({visibility:"visible"})}setTimeout(function(){var p=a.data(c.element[0],"Tooltip");if(p!=undefined&&!b.staysOpen){if(b.enableAnimation){p.stop().fadeOut(b.animationHideDuration,function(){a(this).remove()})}else{p.remove()}b._raiseEvent(1)}},b.animationHideDelay);b._raiseEvent(0)},b.animationShowDelay)},hasTooltip:function(b){var c=false;a.each(this.elements,function(){var d=this;if(d.element[0]==b[0]){c=true;return false}});return c},remove:function(d){if(d==undefined||d==null){return}if(d[0]==undefined){d=a(d)}this.close();var b=this;var c=0;var f=false;a.each(this.elements,function(){var g=this;if(g.element[0]==d[0]){a.data(g.element[0],"Tooltip",null);f=true;return false}c++});if(f){this.elements.splice(c,1);this.index--}if(d.element!=null){if(d.element[0]!=null){var e=a.data(d.element[0],"Tooltip")}a(d.element).unbind("mouseenter");a(d.element).unbind("mouseleave")}else{d.unbind("mouseenter");d.unbind("mouseleave")}},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxCalendar","",{});a.extend(a.jqx._jqxCalendar.prototype,{defineInstance:function(){if(this.disabled==undefined){this.disabled=false}if(this.multipleMonthRows==undefined){this.multipleMonthRows=1}if(this.multipleMonthColumns==undefined){this.multipleMonthColumns=1}if(this.minDate==undefined){this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(1);this.minDate._setMinutes(1);this.minDate._setSeconds(1);this.minDate._setMilliseconds(1)}if(this.maxDate==undefined){this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(1);this.maxDate._setMinutes(1);this.maxDate._setSeconds(1);this.maxDate._setMilliseconds(1)}if(this.stepMonths==undefined){this.stepMonths=1}if(this.width==undefined){this.width=null}if(this.height==undefined){this.height=null}if(this.value==undefined){this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(1);this.value._setMinutes(1);this.value._setSeconds(1);this.value._setMilliseconds(1)}if(this.firstDayOfWeek==undefined){this.firstDayOfWeek=0}if(this.showWeekNumbers==undefined){this.showWeekNumbers=false}if(this.showDayNames==undefined){this.showDayNames=true}if(this.enableWeekend==undefined){this.enableWeekend=false}if(this.enableOtherMonthDays==undefined){this.enableOtherMonthDays=true}if(this.showOtherMonthDays==undefined){this.showOtherMonthDays=true}if(this.rowHeaderWidth==undefined){this.rowHeaderWidth=25}if(this.columnHeaderHeight==undefined){this.columnHeaderHeight=20}if(this.titleHeight==undefined){this.titleHeight=25}if(this.dayNameFormat==undefined){this.dayNameFormat="firstTwoLetters"}if(this.titleFormat==undefined){this.titleFormat="MMMM yyyy"}if(this.readOnly==undefined){this.readOnly=false}if(this.culture==undefined){this.culture="default"}if(this.enableFastNavigation==undefined){this.enableFastNavigation=true}if(this.enableHover==undefined){this.enableHover=true}if(this.enableAutoNavigation==undefined){this.enableAutoNavigation=true}if(this.enableTooltips==undefined){this.enableTooltips=false}if(this.backText==undefined){this.backText="Back"}if(this.forwardText==undefined){this.forwardText="Forward"}if(this.specialDates==undefined){this.specialDates=new Array()}this.height=null;this.events=["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected"]},createInstance:function(d){this.setCalendarSize();var h=this.element.id;var g=this;this.propertyChangeMap.width=function(k,m,l,n){g.setCalendarSize()};this.propertyChangeMap.height=function(k,m,l,n){g.setCalendarSize()};this.host.attr("tabIndex",0);this.host.css("outline","none");this.host.addClass(this.toThemeProperty("jqx-calendar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.addHandler(a(a(this.element)[0]),"keydown",function(l){var k=true;if(g._handleKey!=undefined){k=g._handleKey(l)}return k});var c=false;var f=this;this.render();var b=false;if(g.width!=null&&g.width.toString().indexOf("%")!=-1){b=true}if(g.height!=null&&g.height.toString().indexOf("%")!=-1){b=true}a(window).bind("resize.calendar"+this.element.id,function(){var k=f.host.find("#View1"+g.element.id);if(!c){c=true;f.render()}else{f.refreshTitle(k)}if(b){if(g.refreshTimer){clearTimeout(g.refreshTimer)}g.refreshTimer=setTimeout(function(){g.refresh()},1)}});if(b){setInterval(function(){var l=g.host.width();var k=g.host.height();if(g._lastWidth!=l||g._lastHeight!=k){g.refresh()}g._lastWidth=l;g._lastHeight=k},100)}var e="View1";this.propertyChangeMap.disabled=function(k,m,l,n){if(n){k.host.addClass(g.toThemeProperty("jqx-fill-state-disabled"))}else{k.host.removeClass(g.toThemeProperty("jqx-fill-state-disabled"))}g.refreshControl()}},setCalendarSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}},_handleKey:function(b){if(this.readOnly){return true}var m=b.keyCode;var g=this.getSelectedDate();if(g==undefined){return true}if(b.altKey){return true}var d=new a.jqx._jqxDateTimeInput.getDateTime(g);var c=this.getViewStart();var f=this.getViewEnd();var k=a.data(this.element,"View1"+this.element.id);if(k==undefined||k==null){return true}if(m==38){d._addDays(-7);if(d.dateTime<c){var h=this.navigateBackward();if(!h){return false}}this.selectDate(d.dateTime,"key");for(i=0;i<k.cells.length;i++){var l=k.cells[i];var e=l.dateTime.dateTime;if(l.isOtherMonth&&l.isSelected&&e<=d.dateTime){this.navigateBackward();this.selectDate(d.dateTime,"key");break}}return false}else{if(m==40){d._addDays(7);if(d.dateTime>f){var h=this.navigateForward();if(!h){return false}}this.selectDate(d.dateTime,"key");for(i=0;i<k.cells.length;i++){var l=k.cells[i];var e=l.dateTime.dateTime;if(l.isOtherMonth&&l.isSelected&&e>=d.dateTime){this.navigateForward();this.selectDate(d.dateTime,"key");break}}return false}}if(m==37){d._addDays(-1);if(d.dateTime<c){var h=this.navigateBackward();if(!h){return false}}this.selectDate(d.dateTime,"key");for(i=0;i<k.cells.length;i++){var l=k.cells[i];var e=l.dateTime.dateTime;if(l.isOtherMonth&&l.isSelected&&e<=d.dateTime){if(d.dateTime<this.getMinDate()||d.dateTime>this.getMaxDate()){return}this.navigateBackward();this.selectDate(d.dateTime,"key");break}}return false}else{if(m==39){d._addDays(1);if(d.dateTime>f){var h=this.navigateForward();if(!h){return false}}this.selectDate(d.dateTime,"key");for(i=0;i<k.cells.length;i++){var l=k.cells[i];var e=l.dateTime.dateTime;if(l.isOtherMonth&&l.isSelected&&e>=d.dateTime){if(d.dateTime<this.getMinDate()||d.dateTime>this.getMaxDate()){return}this.navigateForward();this.selectDate(d.dateTime,"key");break}}return false}}return true},render:function(){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var b=this._renderSingleCalendar("View1"+this.element.id);this.host.append(b)}else{}},addSpecialDate:function(b,c,d){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var e=this.specialDates.length;this.specialDates[e]={Date:b,Class:c,Tooltip:d};this.refreshControl()}},refresh:function(b){if(!b){this.render()}},refreshControl:function(){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){this.refreshSingleCalendar("View1"+this.element.id,null)}},getViewStart:function(){var c=this.getVisibleDate();var b=this.getFirstDayOfWeek(c);return b.dateTime},getViewEnd:function(){var c=this.getViewStart();var b=new a.jqx._jqxDateTimeInput.getDateTime(c);b._addDays(41);return b.dateTime},refreshSingleCalendar:function(e,d){var f=this.host.find("#"+e);var c=this.getVisibleDate();var b=this.getFirstDayOfWeek(c);this.refreshTitle(f);this.refreshCalendarCells(f,b,e);this.refreshRowHeader(f,e)},refreshRowHeader:function(l,g){if(!this.showWeekNumbers){return}var h=this.getVisibleDate();var c=this.getFirstDayOfWeek(h);var f=c.dayOfWeek;var r=this.getWeekOfYear(c);var m=l.find("#rowHeader");m.width(this.rowHeaderWidth);var d=c;var q=new Array();for(i=0;i<6;i++){var e=r.toString();var p=new a.jqx._jqxCalendar.cell(d.dateTime);var k=i+1;var o=m.find("#headerCell"+k);p.element=o;p.row=i;p.column=0;var b=o.find("#headerCellContent"+k);b.addClass(this.toThemeProperty("jqx-calendar-row-cell"));b[0].innerHTML=r;q[i]=p;d=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d._addWeeks(1)));r=this.getWeekOfYear(d)}var n=a.data(this.element,l[0].id);n.rowCells=q;this._refreshOtherMonthRows(n,g)},_refreshOtherMonthRows:function(e,d){if(this.showOtherMonthDays){return}this._displayLastRow(true,d);this._displayFirstRow(true,d);var c=false;var f=false;for(i=0;i<e.cells.length;i++){var b=e.cells[i];if(b.isVisible&&i<7){c=true}else{if(b.isVisible&&i>=e.cells.length-7){f=true}}}if(!c){this._displayFirstRow(false,d)}if(!f){this._displayLastRow(false,d)}},_displayLastRow:function(b,c){var g=this.host.find("#"+c);var f=g.find("#calendarRowHeader"+g[0].id);var d=f.find("#headerCellContent6");var e=g.find("#cellsTable"+g[0].id).find("#row6");if(b){d.css("display","block");e.css("display","table-row")}else{d.css("display","none");e.css("display","none")}},_displayFirstRow:function(b,c){var e=this.host.find("#"+c);var d=e.find("#calendarRowHeader"+e[0].id);var f=d.find("#headerCellContent1");var g=e.find("#cellsTable"+e[0].id).find("#row1");if(b){f.css("display","block");g.css("display","table-row")}else{f.css("display","none");g.css("display","none")}},_renderSingleCalendar:function(h,r){var o=this.host.find("#"+h.toString());if(o!=null){o.remove()}var n=a("<div id='"+h.toString()+"'></div>");var k=this.getVisibleDate();var d=this.getFirstDayOfWeek(k);var f=new a.jqx._jqxDateTimeInput.getDateTime(d.dateTime);f._addMonths(1);var q=a.jqx._jqxCalendar.monthView(d,f,null,null,null,n);if(r==undefined||r==null){this.host.append(n);if(this.height!=undefined&&!isNaN(this.height)){n.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){n.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){n.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){n.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){n.width("100%")}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){n.height("100%")}}else{r.append(n)}a.data(this.element,h,q);var p=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){p=this.host.height()-this.titleHeight}if(this.rowHeaderWidth<0){this.rowHeaderWidth=0}if(this.columnHeaderHeight<0){this.columnHeaderHeight=0}if(this.titleHeight<0){this.titleHeight=0}var c=this.rowHeaderWidth;var e=this.columnHeaderHeight;if(!this.showWeekNumbers){c=0}if(!this.showDayNames){e=0}var s=a("<table style='border-collapse: collapse; margin: 0; padding: 0; width: 100%; height: 100%;' cellspacing='0' cellpadding='0'><tr id='calendarTitle' width='100%' height='"+this.titleHeight+"'><td NOWRAP id='leftNavigationArrow'></td><td align='center' NOWRAP id='calendarTitleHeader'></td><td NOWRAP id='rightNavigationArrow'></td></tr><tr id='calendarHeader' height='"+e+"'><td id='selectCell' width='"+c+"'></td><td colspan='2' style='padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr id='calendarContent'><td id='calendarRowHeader' valign='top' height='"+p+"' width='"+c+"'></td><td valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+p+"'></td></tr><tr style='display: none;' id='calendarFooter'><td style='display: none;' id='todayButton'></td><td style='display: none;' colspan='2' id=doneButton></td></tr></table>");n.append(s);n.find("#calendarTitle")[0].id="calendarTitle"+h;n.find("#leftNavigationArrow")[0].id="leftNavigationArrow"+h;n.find("#calendarTitleHeader")[0].id="calendarTitleHeader"+h;n.find("#rightNavigationArrow")[0].id="rightNavigationArrow"+h;n.find("#cellsTable")[0].id="cellsTable"+h;n.find("#calendarRowHeader")[0].id="calendarRowHeader"+h;n.find("#calendarFooter")[0].id="calendarFooter"+h;n.find("#todayButton")[0].id="todayButton"+h;n.find("#doneButton")[0].id="doneButton"+h;n.find("#selectCell")[0].id="selectCell"+h;n.find("#calendarColumnHeader")[0].id="calendarColumnHeader"+h;n.find("table").css({padding:0,margin:0,border:"none"});n.find("td").css({padding:0,margin:0,border:"none"});n.find("tr").addClass(this.toThemeProperty("jqx-reset"));n.addClass(this.toThemeProperty("jqx-widget-content"));var b=n.find("#selectCell"+h);b.addClass(this.toThemeProperty("jqx-reset"));b.addClass(this.toThemeProperty("jqx-calendar-top-left-header"));if(this.showWeekNumbers){this._renderRowHeader(n)}else{var g=n.find("#cellsTable"+h);g[0].colSpan=3;var l=n.find("#calendarColumnHeader"+h);l[0].colSpan=3;var m=n.find("#calendarRowHeader"+h);m.css("display","none");var b=n.find("#selectCell"+h);b.css("display","none")}if(this.showDayNames){this.renderColumnHeader(n)}if(r==undefined||r==null){this.renderTitle(n)}this.renderCalendarCells(n,d,h);this._refreshOtherMonthRows(q,h);n.find("tbody").css({border:"none",background:"transparent"});return n},renderTitle:function(m){if(a.global==null||a.global==undefined){throw"jquery.global.js is not loaded."}a.global.preferCulture(this.culture);var b=a("<div style='background-color: transparent; margin: 0; padding: 0; border: none; float: left;' ></div>");var h=a("<div style='background-color: transparent; margin: 0; padding: 0; border: none; float: right;'></div>");var g=m.find("#calendarTitle"+m[0].id);g.addClass(this.toThemeProperty("jqx-reset"));g.addClass(this.toThemeProperty("jqx-widget-header"));g.addClass(this.toThemeProperty("jqx-calendar-title-header"));if(a.browser.msie&&a.browser.version<8){if(g.find("td").css("background-color")!="transparent"){var r=g.css("background-color");g.find("td").css("background-color",r)}if(g.find("td").css("background-image")!="transparent"){var p=g.css("background-image");var n=g.css("background-repeat");var t=g.css("background-position");g.find("td").css("background-image",p);g.find("td").css("background-repeat",n);g.find("td").css("background-position","left center scroll")}}else{g.find("td").css("background-color","transparent")}if(this.disabled){g.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled"))}b.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));b.addClass(this.toThemeProperty("icon-arrow-left"));var k=m.find("#leftNavigationArrow"+m[0].id).append(b);b.height(this.titleHeight);h.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));h.addClass(this.toThemeProperty("icon-arrow-right"));var e=m.find("#rightNavigationArrow"+m[0].id).append(h);h.height(this.titleHeight);if(this.rowHeaderWidth>=25){h.width(this.rowHeaderWidth);b.width(this.rowHeaderWidth)}else{h.width(25);b.width(25)}if(this.enableTooltips&&this.tooltip!=null){this.tooltip.theme=this.theme;this.tooltip.add(k,this.backText);this.tooltip.add(e,this.forwardText)}var c=m.find("#calendarTitleHeader"+m[0].id);var q=a.global.format(this.value.dateTime,this.titleFormat,this.culture);var l=a("<div style='background: transparent; margin: 0; padding: 0; border: none;' id='titleContent'>"+q+"</div>");c.append(l);l.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));var f=parseInt(b.width());var s=m.width()-2*f;var o=c.find("#titleContent").width(s);a.data(b,"navigateLeft",this);a.data(h,"navigateRight",this);var d=a.jqx.mobile.isTouchDevice();if(!this.disabled){this.addHandler(b,"mousedown",function(v){a.data(b,"navigateLeftRepeat",true);var u=a.data(b,"navigateLeft");if(u.enableFastNavigation&&!d){u.startRepeat(u,b,true,250)}u.navigateBackward();return u._raiseEvent(0,v)});this.addHandler(b,"mouseup",function(u){a.data(b,"navigateLeftRepeat",false)});this.addHandler(b,"mouseleave",function(u){a.data(b,"navigateLeftRepeat",false)});this.addHandler(h,"mousedown",function(v){a.data(h,"navigateRightRepeat",true);var u=a.data(h,"navigateRight");if(u.enableFastNavigation&&!d){u.startRepeat(u,h,false,250)}u.navigateForward();return u._raiseEvent(1,v)});this.addHandler(h,"mouseup",function(u){a.data(h,"navigateRightRepeat",false)});this.addHandler(h,"mouseleave",function(u){a.data(h,"navigateRightRepeat",false)})}},refreshTitle:function(f){if(a.global==null||a.global==undefined){throw"jquery.global.js is not loaded."}a.global.preferCulture(this.culture);var k=a.global.format(this.value.dateTime,this.titleFormat,this.culture);var c=f.find("#calendarTitleHeader"+f[0].id);var g=c.find("#titleContent");var e=a("<div style='background: transparent; margin: 0; padding: 0; border: none;' id='titleContent'>"+k+"</div>");c.append(e);e.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));if(g!=null){g.remove()}var b=this.host.find(".jqx-calendar-title-navigation");var d=parseInt(b.width());var l=f.width()-2*d;var h=c.find("#titleContent").width(l)},startRepeat:function(d,b,f,e){var c=window.setTimeout(function(){var g=a.data(b,"navigateLeftRepeat");if(!f){g=a.data(b,"navigateRightRepeat")}if(g){if(e<25){e=25}if(f){d.navigateBackward();d.startRepeat(d,b,true,e-25)}else{d.navigateForward();c=d.startRepeat(d,b,false,e-25)}}else{window.clearTimeout(c);return}},e)},navigateForward:function(d){if(d==undefined||d==null){d=this.stepMonths}var b=this.value.day;var e=this.value.month;if(e+d<=12){var c=this.value._daysInMonth(this.value.year,this.value.month+d);if(b>c){b=c}}return this.setDate(new Date(this.value.year,this.value.month-1+d,b))},navigateBackward:function(e){if(e==undefined||e==null){e=this.stepMonths}var b=this.value.day;var f=this.value.month;if(f-e>=1){var d=this.value._daysInMonth(this.value.year,this.value.month-e);if(b>d){b=d}}var c=new Date(this.value.year,this.value.month-1-e,b);return this.setDate(c)},refreshCalendarCells:function(n,d,f){var c=n.find("#cellsTable"+n[0].id);var h=c.find("#cellTable"+f.toString());var e=d;var t=new Array();var g=0;var o=new a.jqx._jqxDateTimeInput.getDateTime(new Date());for(i=0;i<6;i++){for(j=0;j<7;j++){var p=i+1;var m=j+1;var l="#cell"+p+m;var s=new a.jqx._jqxCalendar.cell(e.dateTime);var r=h.find(l);s.element=r;s.row=i;s.column=j;s.isVisible=true;s.isOtherMonth=false;s.isToday=false;s.isWeekend=false;s.isHighlighted=false;s.isSelected=false;if(e.month!=this.value.month){s.isOtherMonth=true;s.isVisible=this.showOtherMonthDays}if(e.month==o.month&&e.day==o.day&&e.year==o.year){s.isToday=true}if(e.isWeekend()){s.isWeekend=true}a.data(this.element,"cellContent"+l.substring(1),s);t[g]=s;g++;var b=r.find("#cellContent"+l.substring(1));if(this.specialDates.length>0){if(this.tooltip!=null){if(this.tooltip.hasTooltip(b)){this.tooltip.remove(b)}}}b[0].innerHTML=e.day;this.applyCellStyle(s,r,b);e=new a.jqx._jqxDateTimeInput.getDateTime(new Date(e._addDays(1)))}}var q=a.data(this.element,n[0].id);if(q!=undefined&&q!=null){q.cells=t}},renderCalendarCells:function(x,m,p){var s=a("<table style='width: 100%; height: 100%;' cellspacing='0' cellpadding='1' id=cellTable"+p.toString()+"><tr id='row1'><td id='cell11'></td><td id='cell12'></td><td id='cell13'></td><td id='cell14'></td><td id='cell15'></td><td id='cell16'></td><td id='cell17'></td></tr><tr id='row2'><td id='cell21'></td><td id='cell22'></td><td id='cell23'></td><td id='cell24'></td><td id='cell25'></td><td id='cell26'></td><td id='cell27'></td></tr><tr id='row3'><td id='cell31'></td><td id='cell32'></td><td id='cell33'></td><td id='cell34'></td><td id='cell35'></td><td id='cell36'></td><td id='cell37'></td></tr><tr id='row4'><td id='cell41'></td><td id='cell42'></td><td id='cell43'></td><td id='cell44'></td><td id='cell45'></td><td id='cell46'></td><td id='cell47'></td></tr><tr id='row5'><td id='cell51'></td><td id='cell52'></td><td id='cell53'></td><td id='cell54'></td><td id='cell55'></td><td id='cell56'></td><td id='cell57'></td></tr><tr id='row6'><td id='cell61'></td><td id='cell62'></td><td id='cell63'></td><td id='cell64'></td><td id='cell65'></td><td id='cell66'></td><td id='cell67'></td></tr></table>");var t=x.find("#cellsTable"+x[0].id);s.find("table").css({background:"none",padding:0,margin:0,border:0});s.find("td").css({background:"none",padding:1,margin:0,border:0});s.find("tr").css({background:"none",padding:0,margin:0,border:0});var h=t.find("#cellTable"+p.toString());if(h!=null){h.remove()}t.append(s);s.addClass(this.toThemeProperty("jqx-calendar-view"));var l=m;var b=this.showDayNames?1:0;var g=this.showWeekNumbers?1:0;var e=new Array();var q=0;var r=(x.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){r=(x.width()-2)/7}var v=new a.jqx._jqxDateTimeInput.getDateTime(new Date());for(i=0;i<6;i++){for(j=0;j<7;j++){var f=i+1;var u=j+1;var o="#cell"+f+u;var c=new a.jqx._jqxCalendar.cell(l.dateTime);var n=s.find(o);c.isVisible=true;if(l.month!=this.value.month){c.isOtherMonth=true;c.isVisible=this.showOtherMonthDays}if(l.month==v.month&&l.day==v.day&&l.year==v.year){c.isToday=true}if(l.isWeekend()){c.isWeekend=true}c.element=n;c.row=b;c.column=g;if(c.isVisible){var d="<div id='cellContent"+o.substring(1)+"'>"+l.day+"</div>";n.append(d);n.width(r)}else{var d="<div id='cellContent"+o.substring(1)+"'>"+l.day+"</div>";n.append(d);n.width(r)}l=new a.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)));a.data(n,o,this);a.data(this.element,"cellContent"+o.substring(1),c);var y=this;this.addHandler(n,"mousedown",function(C){var A=a.data(n,o);if(!A.readOnly&&!y.disabled){var B=a(C.target);var z=a.data(y.element,B[0].id);var k=A._raiseEvent(3,C);if(z!=null&&z!=undefined){A.selectDate(z.dateTime.dateTime,"mouse");if(z.isOtherMonth&&A.enableAutoNavigation){if(z.row<2){A.navigateBackward()}else{A.navigateForward()}A.selectDate(z.dateTime.dateTime,"mouse")}}return k}});if(!y.disabled){this.addHandler(n,"mouseup",function(z){var k=a.data(n,o);if(!k.readOnly){return k._raiseEvent(4,z)}});this.addHandler(n,"mouseover",function(B){var z=a.data(n,o);if(!z.readOnly){var A=a(B.target);var k=a.data(y.element,A[0].id);if(k!=null&&k!=undefined){k.isHighlighted=true;z.applyCellStyle(k,k.element,A)}}});this.addHandler(n,"mouseout",function(B){var z=a.data(n,o);if(!z.readOnly){var A=a(B.target);var k=a.data(y.element,A[0].id);if(k!=null&&k!=undefined){k.isHighlighted=false;z.applyCellStyle(k,k.element,A)}}})}g++;e[q]=c;q++}g=0;b++}var w=a.data(this.element,x[0].id);if(w!=undefined&&w!=null){w.cells=e}this.applyCellStyles()},setMaxDate:function(b){this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b)},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(b){this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b)},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},setDate:function(b){if(b<this.getMinDate()||b>this.getMaxDate()){return false}this.value._setYear(b.getFullYear());this.value._setDay(b.getDate());this.value._setMonth(b.getMonth()+1);this.refreshControl();this._raiseEvent("2");return true},getDate:function(){if(this.value==undefined){return new Date()}return this.value.dateTime},selectDate:function(c,d){if(d==null||d==undefined){d="none"}var e=a.data(this.element,"View1"+this.element.id);if(e==undefined||e==null){return}var b=this;a.each(e.cells,function(){var f=this;var g=f.dateTime;if(g.day==c.getDate()&&g.month==(1+c.getMonth())&&g.year==c.getFullYear()&&f.isSelected){return}if(f.isSelected){b._raiseEvent("6",{selectionType:d})}f.isSelected=false;if(g.day==c.getDate()&&g.month==(1+c.getMonth())&&g.year==c.getFullYear()){f.isSelected=true;f.element.focus();if(!f.isOtherMonth){b.value._setMonth(c.getMonth()+1);b.value._setDay(c.getDate());b.value._setYear(c.getFullYear());b._raiseEvent("2");b._raiseEvent("5",{selectionType:d})}}});this.applyCellStyles()},getSelectedDate:function(){var c=a.data(this.element,"View1"+this.element.id);if(c==undefined||c==null){return}for(i=0;i<c.cells.length;i++){var b=c.cells[i];var d=b.dateTime.dateTime;if(b.isSelected){return d}}},getSelectedCell:function(){var c=a.data(this.element,"View1"+this.element.id);if(c==undefined||c==null){return}for(i=0;i<c.cells.length;i++){var b=c.cells[i];var d=b.dateTime.dateTime;if(b.isSelected){return b}}},applyCellStyle:function(b,c,e){var d=this;e.removeClass(this.toThemeProperty("jqx-fill-state-hover"));e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));e.removeClass(this.toThemeProperty("jqx-calendar-cell"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-othermonth"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-weekend"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-hidden"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-today"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-hover"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-selected"));e.removeClass(this.toThemeProperty("jqx-calendar-cell-disabled"));e.removeClass(this.toThemeProperty("jqx-rc-all"));e.addClass(this.toThemeProperty("jqx-rc-all"));if(this.disabled){e.addClass(this.toThemeProperty("jqx-calendar-cell-disabled"));e.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(b.isOtherMonth&&this.enableOtherMonthDays&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-othermonth"))}if(b.isWeekend&&this.enableWeekend&&b.isVisible&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-weekend"))}if(!b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-hidden"))}else{e.addClass(this.toThemeProperty("jqx-calendar-cell"))}if(b.isSelected&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-selected"));e.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}if(b.isHighlighted&&b.isVisible&&this.enableHover){e.addClass(this.toThemeProperty("jqx-calendar-cell-hover"));e.addClass(this.toThemeProperty("jqx-fill-state-hover"))}if(b.isToday&&b.isVisible){e.addClass(this.toThemeProperty("jqx-calendar-cell-today"))}if(this.specialDates.length>0){var f=this;a.each(this.specialDates,function(){if(this.Class!=undefined&&this.Class!=null&&this.Class!=""){e.removeClass(this.Class)}else{e.removeClass(d.toThemeProperty("jqx-calendar-cell-specialDate"))}if(b.dateTime._equalDate(this.Date)){if(b.tooltip==null&&this.Tooltip!=null&&f.tooltip!=null){b.tooltip=this.Tooltip;f.tooltip.remove(e);f.tooltip.theme=f.theme;f.tooltip.add(e,this.Tooltip)}e.removeClass(d.toThemeProperty("jqx-calendar-cell-othermonth"));e.removeClass(d.toThemeProperty("jqx-calendar-cell-weekend"));if(this.Class==undefined||this.Class==""){e.addClass(d.toThemeProperty("jqx-calendar-cell-specialDate"));return false}else{e.addClass(this.Class);return false}}})}},applyCellStyles:function(){var e=a.data(this.element,"View1"+this.element.id);if(e==undefined||e==null){return}for(i=0;i<e.cells.length;i++){var b=e.cells[i];var c=a(b.element);var d=c.find("#cellContent"+c[0].id);this.applyCellStyle(b,c,d)}},getWeekOfYear:function(c){var b=c.dayOfYear(c.dateTime)-1;var d=c.dayOfWeek-(b%7);var e=((d-this.firstDayOfWeek)+14)%7;return Math.ceil((((b+e)/7)+1))},renderColumnHeader:function(x){if(!this.showDayNames){return}var d=this.getVisibleDate();var k=this.getFirstDayOfWeek(d);var o=k.dayOfWeek;var y=this.getWeekOfYear(k);if(a.global==null||a.global==undefined){throw"jquery.global.js is not loaded."}a.global.preferCulture(this.culture);var s=this.firstDayOfWeek;var w=a.global.culture.calendar.days.names;var t=a("<table style='border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1' id='columnHeader'><tr id='columnHeader'><td id='columnCell1'></td><td id='columnCell2'></td><td id='columnCell3'></td><td id='columnCell4'></td><td id='columnCell5'></td><td id='columnCell6'></td><td id='columnCell7'></td></tr></table>");t.find("table").addClass(this.toThemeProperty("jqx-reset"));t.find("tr").addClass(this.toThemeProperty("jqx-reset"));t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"});t.addClass(this.toThemeProperty("jqx-reset"));t.addClass(this.toThemeProperty("jqx-calendar-column-header"));var g=x.find("#calendarColumnHeader"+x[0].id);var m=g.find("#columnHeader");if(m!=null){m.remove()}g.append(t);var p=new Array();var h=k;var q=(x.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){q=(x.width()-2)/7}if(a.jqx._jqxTooltip!=null&&a.jqx._jqxTooltip!=undefined){var u=g.jqxTooltip();this.tooltip=a.data(u[0],"jqxTooltip").instance;this.tooltip.location="relative";this.tooltip.verticalOffset=30}for(i=0;i<7;i++){var f=w[s];switch(this.dayNameFormat){case"default":f=a.global.culture.calendar.days.namesAbbr[s];break;case"shortest":f=a.global.culture.calendar.days.namesShort[s];break;case"firstTwoLetters":f=f.substring(0,2);break;case"firstLetter":f=f.substring(0,1);break}var b=new a.jqx._jqxCalendar.cell(h.dateTime);var n=i+1;var l=t.find("#columnCell"+n);var r=i;if(this.enableTooltips&&this.tooltip!=null){this.tooltip.add(l,w[s])}if(s>=6){s=0}else{s++}i=r;b.element=l;b.row=0;b.column=i+1;var e=this._textwidth(f);var c="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+n+"'>"+f+"</div>";l.append(c);l.find("#columnCell"+n).addClass(this.toThemeProperty("jqx-calendar-column-cell"));l.width(q);if(this.disabled){l.find("#columnCell"+n).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled"))}if(e>0&&q>0){while(e>l.width()){if(f.length==0){break}f=f.substring(0,f.length-1);l.find("#columnCell"+n).html(f);e=this._textwidth(f)}}p[i]=b;h=new a.jqx._jqxDateTimeInput.getDateTime(new Date(h._addDays(1)))}if(parseInt(g.width())>parseInt(this.host.width())){g.width(this.host.width())}var v=a.data(this.element,x[0].id);v.columnCells=p},_textwidth:function(d){var c=a("<span>"+d+"</span>");c.addClass(this.toThemeProperty("jqx-calendar-column-cell"));a(this.host).append(c);var b=c.width();c.remove();return b},_textheight:function(d){var c=a("<span>"+d+"</span>");a(this.host).append(c);var b=c.height();c.remove();return b},_renderRowHeader:function(l){var g=this.getVisibleDate();var c=this.getFirstDayOfWeek(g);var f=c.dayOfWeek;var r=this.getWeekOfYear(c);var m=a("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1' id='rowHeader'><tr id='rowHeader1'><td id='headerCell1'></td></tr><tr id='rowHeader2'><td id='headerCell2'/></tr><tr id='rowHeader3'><td id='headerCell3'/></tr><tr id='rowHeader4'><td id='headerCell4'/></tr><tr id='rowHeader5'><td id='headerCell5'/></tr><tr id='rowHeader6'><td id='headerCell6'/></tr></table>");m.find("table").addClass(this.toThemeProperty("jqx-reset"));m.find("td").addClass(this.toThemeProperty("jqx-reset"));m.find("tr").addClass(this.toThemeProperty("jqx-reset"));m.addClass(this.toThemeProperty("jqx-calendar-row-header"));m.width(this.rowHeaderWidth);var h=l.find("#rowHeader");if(h!=null){h.remove()}l.find("#calendarRowHeader"+l[0].id).append(m);var d=c;var q=new Array();for(i=0;i<6;i++){var e=r.toString();var p=new a.jqx._jqxCalendar.cell(d.dateTime);var k=i+1;var o=m.find("#headerCell"+k);p.element=o;p.row=i;p.column=0;var b="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+k+"'>"+e+"</div>";o.append(b);o.find("#headerCellContent"+k).addClass(this.toThemeProperty("jqx-calendar-row-cell"));q[i]=p;d=new a.jqx._jqxDateTimeInput.getDateTime(new Date(d._addWeeks(1)));r=this.getWeekOfYear(d)}var n=a.data(this.element,l[0].id);n.rowCells=q},getFirstDayOfWeek:function(e){var d=e;if(this.firstDayOfWeek<0||this.firstDayOfWeek>6){this.firstDayOfWeek=6}var c=d.dayOfWeek-this.firstDayOfWeek;if(c<=0){c+=7}var b=a.jqx._jqxDateTimeInput.getDateTime(d._addDays(-c));return b},getVisibleDate:function(){var c=new a.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));if(c<this.minDate){c=this.minDate}if(c>this.maxDate){this.visibleDate=this.maxDate}var d=c.day;var b=a.jqx._jqxDateTimeInput.getDateTime(c._addDays(-d+1));c=b;return c},destroy:function(){this.host.removeClass()},_raiseEvent:function(g,c){if(c==undefined){c={owner:null}}var d=this.events[g];var e=c?c:{};e.owner=this;var f=new jQuery.Event(d);f.owner=this;f.args=e;if(g==0||g==1||g==2||g==3||g==4||g==5||g==6){f.args.date=this.getDate();f.args.selectedDate=this.getSelectedDate()}var b=this.host.trigger(f);if(g==0||g==1){b=false}return b},propertyChangedHandler:function(b,c,h,f){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="width"||c=="height"){var g=this.host.find("#View1"+this.element.id);if(g.length>0){this.setCalendarSize();if(this.height!=undefined&&!isNaN(this.height)){g.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){g.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){g.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){g.width(this.width)}}var e=this.host.height()-this.titleHeight-this.columnHeaderHeight;var d="View1"+this.element.id;g.find("#cellsTable"+d).height(e);g.find("#calendarRowHeader"+d).height(e);this.refreshControl()}return}else{if(c=="theme"){a.jqx.utilities.setTheme(h,f,this.host)}else{this.render()}}}})})(jQuery);(function(a){a.jqx._jqxCalendar.cell=function(c){var b={dateTime:new a.jqx._jqxDateTimeInput.getDateTime(c),isToday:false,isWeekend:false,isOtherMonth:false,isVisible:true,isSelected:false,isHighlighted:false,element:null,row:-1,column:-1,tooltip:null};return b};a.jqx._jqxCalendar.monthView=function(c,h,d,b,f,e){var g={start:c,end:h,cells:d,rowCells:b,columnCells:f,element:e};return g}})(jQuery);(function(a){a.jqx.jqxWidget("jqxDateTimeInput","",{});a.extend(a.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){if(this.value==undefined){this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date())}if(this.minDate==undefined){this.minDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(1);this.minDate._setMinutes(1);this.minDate._setSeconds(1);this.minDate._setMilliseconds(1)}if(this.maxDate==undefined){this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(new Date());this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(1);this.maxDate._setMinutes(1);this.maxDate._setSeconds(1);this.maxDate._setMilliseconds(1)}this.cookies=false;this.cookieoptions=null;if(this.formatString==undefined){this.formatString="dd/MM/yyyy"}if(this.width==undefined){this.width=null}if(this.height==undefined){this.height=null}if(this.textAlign==undefined){this.textAlign="left"}if(this.readonly==undefined){this.readonly=false}if(this.culture==undefined){this.culture="default"}this.activeEditor=this.activeEditor||null;if(this.showCalendarButton==undefined){this.showCalendarButton=true}if(this.showDelay==undefined){this.showDelay=350}if(this.hideDelay==undefined){this.hideDelay=400}if(this.closeCalendarAfterSelection==undefined){this.closeCalendarAfterSelection=true}this.isEditing=false;this.enableBrowserBoundsDetection=false;this.enableAbsoluteSelection=false;this.disabled=false;this.buttonSize=18;this.animationType="default";this.dropDownWidth="200px";this.dropDownHeight="200px";this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","show","hide"]},createInstance:function(l){this.element.innerHTML="";this.host.attr({role:"dateTimeInput"});input=this;this.element.innerHTML="";var d=this.createID();var j=this.createID();var b=a("<div style='overflow: hidden; border: 0px;'><div id='dateTimeWrapper' style='float: none; position: relative; width: 100%; height: 100%;'><div id='dateTimeContent"+d+"' style='position: relative; overflow: hidden; float: left;'/><div id='dateTimeButton"+j+"' style='position: relative; float: right;'/></div></div>");this._setSize();if(this.width==null){this.width=this.host.width();this.host.width(this.width)}this.host.append(b);this.dateTimeWrapper=this.host.find("#dateTimeWrapper");this.inputElement=this.host.find("#dateTimeContent"+d);this.calendarElement=this.host.find("#dateTimeButton"+j);this.dateTimeInput=a("<input autocomplete='off' style='position: relative; border: none; margin: 0; padding: 0;' id='inputElement' class='jqx-input-content' type='textarea'/>").appendTo(this.inputElement);this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content"));this.inputElement.addClass(this.toThemeProperty("jqx-input"));this.inputElement.addClass(this.toThemeProperty("jqx-widget-content"));this.inputElement.addClass(this.toThemeProperty("jqx-rc-all"));this.inputElement.height(this.host.height());this.calendarButton=a("<div style='padding: 0px; margin: 0px; top: 0; font-size: 3px; position: relative;' class='jqx-input-button-header'><div style='position: relative; font-size: 3px;' class='jqx-input-button-innerheader'></div></div><div style='padding: 0px; margin: 0px; top: 0; position: relative;' class='jqx-input-button-content'/>").appendTo(this.calendarElement);this.calendarButtonContent=this.host.find(".jqx-input-button-content");this.calendarButtonHeader=this.host.find(".jqx-input-button-header");this.calendarButtonInnerHeader=this.host.find(".jqx-input-button-innerheader");this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-input-button-content"));this.calendarButtonContent.addClass(this.toThemeProperty("jqx-input-button-content"));this.calendarButtonContent.removeClass(this.toThemeProperty("jqx-widget-content"));this.calendarButtonContent.addClass(this.toThemeProperty("jqx-widget-content"));this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-input-button-header"));this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-input-button-header"));this.calendarButtonHeader.removeClass(this.toThemeProperty("jqx-widget-header"));this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-widget-header"));this.calendarButtonInnerHeader.removeClass(this.toThemeProperty("jqx-input-button-innerHeader"));this.calendarButtonInnerHeader.addClass(this.toThemeProperty("jqx-input-button-innerHeader"));var m=this;this._arrange();this.addHandler(this.host,"loadContent",function(e){m._arrange()});if(this.showCalendarButton){this.calendarButton.css("display","block")}else{this.calendarButton.css("display","none")}if(a.jqx._jqxCalendar!=null&&a.jqx._jqxCalendar!=undefined){try{var h="calendar"+this.element.id;var g=a(a.find("#"+h));if(g.length>0){g.remove()}var c=a("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+this.element.id+"'><div id='innerCalendar"+this.element.id+"'></div></div>");c.appendTo(document.body);this.container=c;this.calendarContainer=a(a.find("#innerCalendar"+this.element.id)).jqxCalendar({width:this.dropDownWidth,height:this.dropDownHeight,theme:this.theme});this.calendarContainer.css({position:"absolute",zIndex:100000,top:0,left:0});this.calendar=a.data(this.calendarContainer[0],"jqxCalendar").instance;this.calendar.render();c.height(parseInt(this.calendarContainer.height())+25);c.width(parseInt(this.calendarContainer.width())+25);if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(k){}}if(a.global==null||a.global==undefined){throw"jquery.global.js is not loaded."}a.global.preferCulture(this.culture);this.selectedText="";this._addHandlers();this.self=this;this.oldValue=this.getDate();this.items=new Array();this.editors=new Array();if(this.value==null){this.value=a.jqx._jqxDateTimeInput.getDateTime(new Date())}this.calendarButtonContent.html("<div style='line-height: 16px;  color: inherit; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>");this._loadItems();this._applyArrayExtension();this.editorText="";if(this.readonly==true){this.dateTimeInput.css("readonly",this.readonly)}this.dateTimeInput.css("text-align",this.textAlign);this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.propertyChangeMap.disabled=function(e,p,o,q){if(m.disabled){m.host.addClass(m.toThemeProperty("jqx-input-disabled"));m.dateTimeInput.addClass(m.toThemeProperty("jqx-input-disabled"))}else{m.host.removeClass(m.toThemeProperty("jqx-input-disabled"));m.dateTimeInput.removeClass(m.toThemeProperty("jqx-input-disabled"))}};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-input-disabled"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-disabled"))}if(this.host.parents("form").length>0){this.host.parents("form").bind("reset",function(){setTimeout(function(){m.setDate(new Date())},10)})}if(this.cookies){var f=a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id);if(f!=null){this.setDate(new Date(f))}}if(a.browser.msie&&a.browser.version<8){if(this.host.parents(".jqx-window").length>0){var n=this.host.parents(".jqx-window").css("z-index");c.css("z-index",n+10);this.calendarContainer.css("z-index",n+10)}}},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var e=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){e=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){e=true;this.host.height(this.height)}if(e){var c=this;if(this.calendarContainer){this.refresh(false);var b=this.host.width();if(this.dropDownWidth!="auto"){b=this.dropDownWidth}this.calendarContainer.jqxCalendar({width:b});this.container.width(parseInt(b)+25)}var d=function(){if(c.calendarContainer){c._arrange();if(c.dropDownWidth=="auto"){var f=c.host.width();c.calendarContainer.jqxCalendar({width:f});c.container.width(parseInt(f)+25)}}};a(window).resize(function(){d()});setInterval(function(){var g=c.host.width();var f=c.host.height();if(c._lastWidth!=g||c._lastHeight!=f){d()}c._lastWidth=g;c._lastHeight=f},100)}},_arrange:function(){var c=parseInt(this.host.width());var k=parseInt(this.host.height());var h=this.buttonSize;var e=3;this.calendarButtonHeader.width(h);this.calendarButtonContent.height(h-e);this.calendarButtonContent.width(h);var g=parseInt(this.inputElement.outerHeight())-parseInt(this.inputElement.height());g=0;var b=c-parseInt(this.calendarButton.outerWidth())-1*e;if(b>0){this.inputElement.width(b+"px")}this.dateTimeInput.width(b-e+"px");this.dateTimeInput.css("left",0);this.dateTimeInput.css("top",0);this.inputElement.css("left",0);this.inputElement.css("top",0);var j=parseInt(this.calendarButtonHeader.outerWidth())/2-parseInt(this.calendarButtonInnerHeader.outerWidth())/2;this.calendarButtonInnerHeader.css("left",j);var l=parseInt(this.calendarButtonContent.outerHeight())+parseInt(this.calendarButtonHeader.outerHeight());var f=parseInt(this.inputElement.outerHeight())/2-l/2;this.calendarElement.css("top",parseInt(f)+"px");var d=parseInt(this.inputElement.height())/2-parseInt(this.dateTimeInput.outerHeight())/2;this.dateTimeInput.css("margin","0px");this.dateTimeInput.css("padding","0px");this.dateTimeInput.css("top",parseInt(d))},_removeHandlers:function(){var b=this;this.removeHandler(a(document),"mousedown."+this.element.id);this.removeHandler(this.dateTimeInput,"keydown."+this.element.id);this.removeHandler(this.dateTimeInput,"blur");this.removeHandler(this.dateTimeInput,"focus");this.removeHandler(this.calendarButton,"mousedown");this.removeHandler(this.dateTimeInput,"mousedown");this.removeHandler(this.dateTimeInput,"mouseup");this.removeHandler(this.dateTimeInput,"keydown");this.removeHandler(this.dateTimeInput,"keyup");this.removeHandler(this.dateTimeInput,"keypress");if(this.calendarContainer!=null){this.removeHandler(this.calendarContainer,"cellSelected");this.removeHandler(this.calendarContainer,"cellMouseDown")}},isOpened:function(){var c=this;var b=a.data(document.body,"openedJQXCalendar");if(b!=null&&b==c.calendarContainer){return true}return false},wheel:function(d,c){var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(!b){if(d.preventDefault){d.preventDefault()}d.returnValue=false;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(b){if(b<0){this.spinDown()}else{this.spinUp()}return false},_addHandlers:function(){var e=this.element.id;var c=this.element;var d=this;this.addHandler(this.host,"mousewheel",function(f){d.wheel(f,d)});this.addHandler(a(document),"mousedown."+this.element.id,this._closeOpenedCalendar);if(window.frameElement){if(window.top!=null){var b=function(f){if(d.container.css("display")!="none"){}};if(window.top.document.addEventListener){window.top.document.addEventListener("mousedown",b,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmousedown",b)}}}}this.addHandler(this.dateTimeInput,"keydown."+this.element.id,function(h){var g=a.data(document.body,"openedJQXCalendar");if(g!=null&&g==d.calendarContainer){var f=d.handleCalendarKey(h);return f}});if(this.calendarContainer!=null){this.addHandler(this.calendarContainer,"keydown",function(f){if(f.keyCode==13){d.hideCalendar("selected");d.dateTimeInput.focus();return true}else{if(f.keyCode==27){d.hideCalendar();d.dateTimeInput.focus();return true}}if(f.keyCode==115){if(d.isOpened()){d.hideCalendar();d.dateTimeInput.focus();return false}else{if(!d.isOpened()){d.showCalendar();d.dateTimeInput.focus();return false}}}if(f.altKey){if(f.keyCode==38){if(d.isOpened()){d.hideCalendar();d.dateTimeInput.focus();return false}}else{if(f.keyCode==40){if(!d.isOpened()){d.showCalendar();d.dateTimeInput.focus();return false}}}}});this.addHandler(this.calendarContainer,"cellSelected",function(g){if(d.closeCalendarAfterSelection){var f=a.data(document.body,"openedJQXCalendarValue");if(g.args.selectionType=="mouse"){d.hideCalendar("selected")}}});this.addHandler(this.calendarContainer,"cellMouseDown",function(f){if(d.closeCalendarAfterSelection){a.data(document.body,"openedJQXCalendarValue",new a.jqx._jqxDateTimeInput.getDateTime(d.calendar.value.dateTime))}})}this.addHandler(this.dateTimeInput,"blur",function(){if(d.value!=null){d.isEditing=false;d._validateValue();d._updateText();d.inputElement.removeClass(d.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this.dateTimeInput,"focus",function(){if(d.value!=null){var f=d._selection();d.isEditing=true;d._validateValue();d._updateText();d._setSelectionStart(f.start);d._selectGroup(-1);d.inputElement.addClass(d.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this.calendarButton,"mousedown",function(g){var h=d.container;var f=h.css("display")=="block";if(!d.disabled){if(f){d.hideCalendar()}else{d.showCalendar()}return false}});this.addHandler(this.dateTimeInput,"mousedown",function(f){return d._raiseEvent(2,f)});this.addHandler(this.dateTimeInput,"mouseup",function(f){return d._raiseEvent(3,f)});this.addHandler(this.dateTimeInput,"keydown",function(f){return d._raiseEvent(4,f)});this.addHandler(this.dateTimeInput,"keyup",function(f){return d._raiseEvent(5,f)});this.addHandler(this.dateTimeInput,"keypress",function(f){return d._raiseEvent(6,f)})},createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;return"dateTimeInput"+b},setMaxDate:function(b){if(b==null){return}this.maxDate=a.jqx._jqxDateTimeInput.getDateTime(b);if(this.calendar!=null){this.calendar.setMaxDate(b)}},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(b){if(b==null){return}this.minDate=a.jqx._jqxDateTimeInput.getDateTime(b);if(this.calendar!=null){this.calendar.setMinDate(b)}},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="culture"){this._loadItems();if(this.calendar!=null){this.calendar.culture=d;this.calendar.render()}}else{if(c=="formatString"){this._loadItems()}}if(c=="theme"){if(this.dateTimeInput){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-widget"));this.dateTimeInput.removeClass();this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-content"));this.dateTimeInput.addClass(this.toThemeProperty("jqx-widget-content"));this.inputElement.removeClass();this.inputElement.addClass(this.toThemeProperty("jqx-input"));this.inputElement.addClass(this.toThemeProperty("jqx-widget-content"));this.inputElement.addClass(this.toThemeProperty("jqx-rc-all"));this.calendarButtonContent.removeClass();this.calendarButtonContent.addClass(this.toThemeProperty("jqx-input-button-content"));this.calendarButtonContent.addClass(this.toThemeProperty("jqx-widget-content"));this.calendarButtonHeader.removeClass();this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-input-button-header"));this.calendarButtonHeader.addClass(this.toThemeProperty("jqx-widget-header"));this.calendarButtonInnerHeader.removeClass();this.calendarButtonInnerHeader.addClass(this.toThemeProperty("jqx-input-button-innerHeader"));this.calendarContainer.jqxCalendar({theme:d})}}if(c=="width"||c=="height"){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}this._arrange()}this._setOption(c,d);if(c=="dropDownWidth"||c=="dropDownHeight"){this.calendarContainer.jqxCalendar({width:this.dropDownWidth,height:this.dropDownHeight});this.calendar.render();this.container.height(this.calendarContainer.height());this.container.width(this.calendarContainer.width())}},setDate:function(b){if(b==null||b=="null"||b=="undefined"){this.value=null;this._refreshValue();return}if(b<this.getMinDate()||b>this.getMaxDate()){return}if(this.value==null){this.value=new a.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}this.value._setYear(b.getFullYear());this.value._setDay(b.getDate());this.value._setMonth(b.getMonth()+1);this.value._setHours(b.getHours());this.value._setMinutes(b.getMinutes());this.value._setSeconds(b.getSeconds());this.value._setMilliseconds(b.getMilliseconds());this._refreshValue();if(this.cookies){if(this.value!=null){a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}this._raiseEvent("0",b)},getDate:function(){if(this.value==undefined){return new Date()}return this.value.dateTime},_validateValue:function(){var b=false;for(i=0;i<this.items.length;i++){var c=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":if(c<0){c=0}else{if(c>1){c=1}}break;case"Character":break;case"Day":if(c<1){c=1}else{if(c>31){c=31}}break;case"FORMAT_hh":case"FORMAT_HH":if(c<0){c=0}else{if(c>23){c=23}}break;case"Millisecond":if(c<0){c=0}else{if(c>99){c=99}}break;case"Minute":if(c<0){c=0}else{if(c>59){c=59}}break;case"Month":if(c<1){c=1}else{if(c>12){c=12}}break;case"ReadOnly":break;case"Second":if(c<0){c=0}else{if(c>59){c=59}}break;case"Year":if(c<this.minDate.year){c=this.minDate.year}else{if(c>this.maxDate.year){c=this.maxDate.year}}break}if(this.editors[i].value!=c){this.editors[i].value=c;b=true}}this.updateValue();if(this.value!=null){if(this.value.dateTime>this.maxDate.dateTime){this._internalSetValue(this.maxDate);this._updateEditorsValue()}else{if(this.value.dateTime<this.minDate.dateTime){this._internalSetValue(this.minDate);this._updateEditorsValue()}}}},spinUp:function(){var d=this.value;if(d==null){return}if(this.activeEditor!=null){var b=this.editors.indexOf(this.activeEditor);if(this.items[b].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var c=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=c}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var e=this.editors.indexOf(this.activeEditor);if(e>=0){this._selectGroup(e)}},spinDown:function(){var d=this.value;if(d==null){return}if(this.activeEditor!=null){var b=this.editors.indexOf(this.activeEditor);if(this.items[b].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var c=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=c}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var e=this.editors.indexOf(this.activeEditor);if(e>=0){this._selectGroup(e)}},_passKeyToCalendar:function(c){if(c.keyCode==13){this.hideCalendar("selected");return true}else{if(c.keyCode==27){var e=this.calendarContainer;var d=this.calendar;var f=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;d.setDate(this.value.dateTime);d.selectDate(this.value.dateTime);this.closeCalendarAfterSelection=f;this.hideCalendar()}}var f=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;var b=this.calendar._handleKey(c);this.closeCalendarAfterSelection=f;return b},handleCalendarKey:function(j){var c=a(j.target);var e=a.data(document.body,"openedJQXCalendar");if(e!=null){if(e.length>0){var h=e[0].id.toString();var d=h.toString().substring(13);var g=a(document).find("#"+d);var f=a.data(g[0],"jqxDateTimeInput").instance;var b=f._passKeyToCalendar(j);return b}}return true},_findPos:function(c){if(c==null){return}while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}var b=a(c).offset();return[b.left,b.top]},testOffset:function(d,h,f){var g=d.outerWidth();var c=d.outerHeight();var e=document.documentElement.clientWidth+a(window).scrollLeft();var b=document.documentElement.clientHeight+a(window).scrollTop();h.left-=0;h.left-=0;h.top-=0;h.left-=Math.min(h.left,(h.left+g>e&&e>g)?Math.abs(h.left+g-e):0);h.top-=Math.min(h.top,(h.top+c>b&&b>c)?Math.abs(c+f):0);return h},show:function(){this.showCalendar()},hide:function(b){this.hideCalendar()},showCalendar:function(){var f=this.calendarContainer;var j=this.calendar;var b=this.container;var l=a(window).scrollTop();var e=a(window).scrollLeft();var k=parseInt(this._findPos(this.inputElement[0])[1])+parseInt(this.inputElement.outerHeight())-1+"px";var d=parseInt(this.host.offset().left)+"px";var o=a.jqx.mobile.isSafariMobileBrowser();if(o!=null&&o){d=a.jqx.mobile.getLeftPos(this.element);k=a.jqx.mobile.getTopPos(this.element)+parseInt(this.inputElement.outerHeight())}this.container.css("left",d);this.container.css("top",k);var c=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;this.isEditing=false;this._validateValue();this._updateText();var m=this.value!=null?this.value.dateTime:new Date();j.setDate(m);j.selectDate(m);this.closeCalendarAfterSelection=c;if(this.enableBrowserBoundsDetection){var g=this.testOffset(f,{left:parseInt(this.container.css("left")),top:parseInt(k)},parseInt(this.inputElement.outerHeight()));this.container.css("top",g.top)}this._raiseEvent(7,f);if(this.animationType=="default"){a.data(document.body,"openedJQXCalendar",f);this.container.css("display","block");var n=f.outerHeight();f.css("margin-top",-n);var h=this;f.animate({"margin-top":0},this.showDelay,function(){var p=a(window).scrollTop();var t=a(window).scrollLeft();var s=parseInt(h._findPos(h.inputElement[0])[1])+parseInt(h.inputElement.outerHeight())-1+"px";var r=parseInt(h.host.offset().left)+"px";var q=a.jqx.mobile.isSafariMobileBrowser();if(q!=null&&q){r=a.jqx.mobile.getLeftPos(h.element);s=a.jqx.mobile.getTopPos(h.element)+parseInt(h.inputElement.outerHeight())}if(parseInt(h.container.css("top"))!=parseInt(s)){h.container.css("top",s)}})}else{this.container.css("display","block");a.data(document.body,"openedJQXCalendar",f)}this.calendarContainer.focus()},hideCalendar:function(e){var d=this.calendarContainer;var c=this.container;a.data(document.body,"openedJQXCalendar",null);if(this.animationType=="default"){var b=d.outerHeight();d.css("margin-top",0);d.animate({"margin-top":-b},this.hideDelay,function(){c.css("display","none")})}else{c.css("display","none")}if(e!=undefined){this._updateSelectedDate()}this._raiseEvent(8,d)},_updateSelectedDate:function(){var f=this.value;if(f==null){f=new a.jqx._jqxDateTimeInput.getDateTime(new Date());f._setHours(0);f._setMinutes(0);f._setSeconds(0);f._setMilliseconds(0)}var b=f.hour;var g=f.minute;var e=f.second;var c=f.millisecond;var d=new a.jqx._jqxDateTimeInput.getDateTime(this.calendar.value.dateTime);d._setHours(b);d._setMinutes(g);d._setSeconds(e);d._setMilliseconds(c);this.setDate(d.dateTime)},_closeOpenedCalendar:function(j){var b=a(j.target);var d=a.data(document.body,"openedJQXCalendar");var h=false;a.each(b.parents(),function(){if(this.className.indexOf("jqx-calendar")!=-1){h=true;return false}if(this.className.indexOf("jqx-input")!=-1){h=true;return false}});if(d!=null&&!h){if(d.length>0){var g=d[0].id.toString();var c=g.toString().substring(13);var f=a(document).find("#"+c);var e=a.data(f[0],"jqxDateTimeInput").instance;e.hideCalendar();a.data(document.body,"openedJQXCalendar",null)}}},_applyArrayExtension:function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length;var d=Number(arguments[1])||0;d=(d<0)?Math.ceil(d):Math.floor(d);if(d<0){d+=b}for(;d<b;d++){if(d in this&&this[d]===c){return d}}return -1}}},_loadItems:function(){if(this.value!=null){this.items=new Array();var c=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(c);this.editors=new Array();for(i=0;i<this.items.length;i++){var b=this.items[i].getDateTimeEditorByItemType(this.value);this.editors[i]=b}}this._updateEditorsValue();this._updateText()},_updateText:function(){var c="";if(this.value!=null){if(this.items.length>=1){c=this.format(this.value,0,this.items.length)}var b=this.dateTimeInput.val();if(b!=c){this._raiseEvent(1,this.value)}}this.dateTimeInput.val(c)},format:function(f,g,e){var b="";for(i=g;i<e;++i){var c=this.items[i].dateParser(f);if(this.isEditing&&this.items[i].type!="ReadOnly"){var d=this.items[i].type=="Day"&&this.items[i].format.length>2;if(this.items[i].type=="FORMAT_AMPM"){d=true}if(!d){c=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions);while(c.length<this.editors[i].maxEditPositions){c="0"+c}}}b+=c}return b},_getFormatValueGroupLength:function(b){for(i=1;i<b.toString().length;++i){if(b.substring(i,i+1)!=b.substring(0,1)){return i}}return b.length},_parseFormatValue:function(h){var c=new Array();var f=h.toString();var e=0;while(f.length>0){var d=this._getFormatValueGroupLength(f);var g=null;switch(f.substring(0,1)){case":":case"/":d=1;g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var b=f.indexOf(f[0],1);g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(1,1+Math.max(1,b-1)),"ReadOnly",this.culture);d=Math.max(1,b+1);break;case"\\":if(f.length>=2){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(1,1),"ReadOnly",this.culture);d=2}break;case"d":case"D":if(d>2){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Day",this.culture)}else{g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Day",this.culture)}break;case"f":case"F":if(d>7){d=7}if(d>3){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"ReadOnly",this.culture)}else{g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Millisecond",this.culture)}break;case"g":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"ReadOnly",this.culture);break;case"h":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"FORMAT_hh",this.culture);break;case"H":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"FORMAT_HH",this.culture);break;case"m":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Minute",this.culture);break;case"M":if(d>4){d=4}g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Month",this.culture);break;case"s":case"S":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Second",this.culture);break;case"t":case"T":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"FORMAT_AMPM",this.culture);break;case"y":case"Y":if(d>1){g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"Year",this.culture)}else{d=1;g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture)}break;case"z":g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,d),"ReadOnly",this.culture);break;default:d=1;g=a.jqx._jqxDateTimeInput.DateTimeFormatItem._create(f.substring(0,1),"ReadOnly",this.culture);break}c[e]=a.extend(true,{},g);f=f.substring(d);e++}return c},_getFormatValue:function(b){if(b==null||b.length==0){b="d"}if(b.length==1){switch(b.substring(0,1)){case"d":return a.global.culture.calendar.patterns.d;case"D":return a.global.culture.calendar.patterns.D;case"t":return a.global.culture.calendar.patterns.t;case"T":return a.global.culture.calendar.patterns.T;case"f":return a.global.culture.calendar.patterns.f;case"F":return a.global.culture.calendar.patterns.F;case"M":return a.global.culture.calendar.patterns.M;case"Y":return a.global.culture.calendar.patterns.Y;case"S":return a.global.culture.calendar.patterns.S}}if(b.length==2&&b.substring(0,1)=="%"){b=b.substring(1)}return b},_updateEditorsValue:function(){var g=this.value;if(g==null){return}var e=g.year;var c=g.day;var b=g.hour;var f=g.millisecond;var d=g.second;var j=g.minute;var h=g.month;if(this.items==null){return}for(i=0;i<this.items.length;i++){switch(this.items[i].type){case"FORMAT_AMPM":this.editors[i].value=0;break;case"Day":this.editors[i].value=c;break;case"FORMAT_hh":this.editors[i].value=b;break;case"FORMAT_HH":this.editors[i].value=b;break;case"Millisecond":this.editors[i].value=f;break;case"Minute":this.editors[i].value=j;break;case"Month":this.editors[i].value=h;break;case"Second":this.editors[i].value=d;break;case"Year":this.editors[i].value=e;break}}},updateValue:function(){if(this.isEditing){return}var j=0;var n=1;var u=1;var g=0;var b=0;var B=0;var p=0;var A=1;var e=0;var h=false;var m=false;var v=false;var o=new Array();var c=null;var s=0;for(i=0;i<this.items.length;i++){switch(this.items[i].type){case"FORMAT_AMPM":e=this.editors[i].value;c=this.editors[i];break;case"Character":break;case"Day":if(this.items[i].format.length<4){u=this.editors[i].value;o[s++]=this.editors[i];if(u==0){u=1}v=true}break;case"FORMAT_hh":var x=this.editors[i];g=x.value;break;case"FORMAT_HH":g=this.editors[i].value;break;case"Millisecond":b=this.editors[i].value;break;case"Minute":p=this.editors[i].value;break;case"Month":A=this.editors[i].value;m=true;if(A==0){A=1}break;case"ReadOnly":break;case"Second":B=this.editors[i].value;break;case"Year":h=true;n=this.editors[i].value;var z=this.editors[i].getDateTimeItem().format;if(z.length<3){var r="1900";if(r.Length==4){var q=""+r[0]+r[1];var w;w=parseInt(q);n=n+(w*100)}}if(n==0){n=1}break}}var y=this.value!=null?new Date(this.value.dateTime):null;if(n>0&&A>0&&u>0&&p>=0&&g>=0&&B>=0&&b>=0){var C=this.value;if(!h){n=C.year}if(!m){A=C.month}if(!v){u=C.day}try{if(A>12){A=12}if(A<1){A=1}if(C._daysInMonth(n,A)<=u){u=C._daysInMonth(n,A);if(o!=null&&o.length>0){for(i=0;i<o.length;i++){o[i].value=u}}}if(c!=null){c.value=g<12?0:1}this.value._setYear(parseInt(n));this.value._setDay(u);this.value._setMonth(A);this.value._setHours(g);this.value._setMinutes(p);this.value._setSeconds(B);this.value._setMilliseconds(b)}catch(f){this.value=C}if(y!=null){var t=this.value.dateTime.getFullYear()==y.getFullYear()&&this.value.dateTime.getDate()==y.getDate()&&this.value.dateTime.getMonth()==y.getMonth()&&this.value.dateTime.getHours()==y.getHours()&&this.value.dateTime.getMinutes()==y.getMinutes()&&this.value.dateTime.getSeconds()==y.getSeconds();if(!t){this._raiseEvent("0",this.value.dateTime);if(this.cookies){if(this.value!=null){a.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}}this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'>"+this.value.day+"</b></div>")}else{this.calendarButtonContent.html("<div style='line-height: 16px; background: transparent; margin: 0; border: 0; padding: 0px; text-align: center; vertical-align: middle;'><b style='border: 0; padding: 0px; margin: 0px; background: transparent;'></b></div>")}}var d=this.editors.indexOf(this.activeEditor);var l=this.items[d]},_internalSetValue:function(b){this.value._setYear(parseInt(b.year));this.value._setDay(b.day);this.value._setMonth(b.month);this.value._setHours(b.hour);this.value._setMinutes(b.minute);this.value._setSeconds(b.second);this.value._setMilliseconds(b.milisecond)},_raiseEvent:function(c,j){var h=this.events[c];var d={};d.owner=this;if(j==null){j=new Date()}var g=j.charCode?j.charCode:j.keyCode?j.keyCode:0;var k=true;var f=this.readonly;var b=new jQuery.Event(h);b.owner=this;b.args=d;b.args.date=this.getDate();if(this.host.css("display")=="none"){return true}if(c!=2&&c!=3){k=this.host.trigger(b)}var e=this;if(!f){if(c==2&&!this.disabled){setTimeout(function(){e.isEditing=true;e._selectGroup(-1)},25)}}if(c==4){if(f||this.disabled){return false}k=this._handleKeyDown(j,g)}else{if(c==5){if(f||this.disabled){return false}}else{if(c==6){if(f||this.disabled){return false}k=this._handleKeyPress(j,g)}}}return k},_doLeftKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var b=this.activeEditor;var d=false;var e=this.editors.indexOf(this.activeEditor);var c=e;if(this.enableAbsoluteSelection){if(e>=0&&this.activeEditor.positions>0){this.activeEditor.positions--;this._selectGroup(e);return}}while(e>0){this.activeEditor=this.editors[--e];this._selectGroup(e);if(this.items[e].type!="ReadOnly"){d=true;break}}if(!d){if(c>=0){this.activeEditor=this.editors[c]}}if(this.activeEditor!=null&&b!=this.activeEditor){if(this.items[e].type!="ReadOnly"){if(this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}}if(this.activeEditor!=b){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor))}}},_doRightKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var b=this.activeEditor;var d=false;var e=this.editors.indexOf(this.activeEditor);var c=e;if(this.enableAbsoluteSelection){if(e>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1){this.activeEditor.positions++;this._selectGroup(e);return}}while(e<=this.editors.length-2){this.activeEditor=this.editors[++e];this._selectGroup(e);if(this.items[e].type!="ReadOnly"){if(this.items[e].type=="Day"&&this.items[e].format.length>2){break}if(this.items[e].type=="FORMAT_AMPM"){break}d=true;break}}if(!d){if(c>=0){this.activeEditor=this.editors[c]}}if(this.activeEditor!=null&&this.activeEditor!=b){if(this.items[e].type!="ReadOnly"){this.activeEditor.positions=0}}if(this.activeEditor!=b){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor))}}},_saveSelectedText:function(){var b=this._selection();var d="";var c=this.dateTimeInput.val();if(b.start>0||b.length>0){for(i=b.start;i<b.end;i++){d+=c[i]}}window.clipboardData.setData("Text",d);return d},_selectWithAdvancePattern:function(){var f=this.editors.indexOf(this.activeEditor);var g=false;if(this.items[f].type!="ReadOnly"&&this.items[f].type!="Format_AMPM"){g=true}if(!g){return}var d=this.activeEditor;if(d!=null){var e=d.positions==d.maxEditPositions;if(e){this.editorText="";var c=d.value;var b=false;switch(this.items[f].type){case"FORMAT_AMPM":if(c<0){c=0}else{if(c>1){c=1}}break;case"Character":break;case"Day":if(c<1){c=1}else{if(c>31){c=31}}break;case"FORMAT_hh":case"FORMAT_HH":if(c<0){c=0}else{if(c>23){c=23}}break;case"Millisecond":if(c<0){c=0}else{if(c>99){c=99}}break;case"Minute":if(c<0){c=0}else{if(c>59){c=59}}break;case"Month":if(c<1){c=1}else{if(c>12){c=12}}break;case"ReadOnly":break;case"Second":if(c<0){c=0}else{if(c>59){c=59}}break;case"Year":if(c<this.minDate.year){c=this.minDate.year}else{if(c>this.maxDate.year){c=this.maxDate.year}}break}if(d.value!=c){b=true}if(!b){this.isEditing=false;this._validateValue();this._updateText();this.isEditing=true;this._doRightKey();return true}return false}}},_handleKeyPress:function(j,n){var m=this._selection();var b=this;if((j.ctrlKey&&n==97)||(j.ctrlKey&&n==65)){return true}if(n==8){if(m.start>0){b._setSelectionStart(m.start)}return false}if(n==46){if(m.start<this.items.length){b._setSelectionStart(m.start)}return false}if(m.start>=0){var d=String.fromCharCode(n);var k=parseInt(d);if(!isNaN(k)){if(this.container.css("display")=="block"){this.hideCalendar()}this.updateValue();this._updateText();var g=false;var h=this.editors.indexOf(this.activeEditor);var c=null;this.isEditing=true;if(h.type!="ReadOnly"&&h.type!="FORMAT_AMPM"){c=this.activeEditor}if(c!=null&&c.positions==0){this.editorText=""}if(this.activeEditor==null){this.activeEditor=this.editors[0]}this.activeEditor.insert(d);if(c!=null&&this.editorText.length>=c.maxEditPositions){this.editorText=""}this.editorText+=d;var o=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var f=this._getLastEditableEditorIndex();if(this.editors.indexOf(this.activeEditor)==f&&o&&this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}g=true;this.updateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return false}}var l=this._isSpecialKey(n);return l},_getLastEditableEditorIndex:function(){var b=0;var c=this;for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--){if(this.items[itemIndex].type!="ReadOnly"){return itemIndex}}return -1},_handleKeyDown:function(h,b){if(h.keyCode==115){if(this.isOpened()){this.hideCalendar();return false}else{if(!this.isOpened()){this.showCalendar();return false}}}if(h.altKey){if(h.keyCode==38){if(this.isOpened()){this.hideCalendar();return false}}else{if(h.keyCode==40){if(!this.isOpened()){this.showCalendar();return false}}}}if(this.isOpened()){return}var f=this._selection();if((h.ctrlKey&&b==99)||(h.ctrlKey&&b==67)){this._saveSelectedText(h);return false}if((h.ctrlKey&&b==122)||(h.ctrlKey&&b==90)){return false}if((h.ctrlKey&&b==118)||(h.ctrlKey&&b==86)||(h.shiftKey&&b==45)){return false}if(b==8||b==46){if(this.activeEditor!=null){var j=this.editors.indexOf(this.activeEditor);if(this.activeEditor.positions>=0){var d=a.global.format(Number(this.activeEditor.value),"d"+this.activeEditor.maxEditPositions,this.culture);tmp=d;tmp=tmp.substring(0,this.activeEditor.positions)+"0"+tmp.substring(this.activeEditor.positions+1);if(parseInt(tmp)<this.activeEditor.minValue){tmp=a.global.format(Number(this.activeEditor.minValue),"d"+this.activeEditor.maxEditPositions,this.culture)}if(this.enableAbsoluteSelection){this.activeEditor.value=tmp}else{this.activeEditor.value=this.activeEditor.minValue}this._validateValue();this._updateText();if(b==8){var c=this;if(this.enableAbsoluteSelection&&this.activeEditor.positions>0){setTimeout(function(){c.activeEditor.positions=c.activeEditor.positions-1;c._selectGroup(j)},10)}else{setTimeout(function(){c._doLeftKey()},10)}}else{this._selectGroup(j)}}else{this._doLeftKey()}}return false}if(b==38){this.spinUp();return false}else{if(b==40){this.spinDown();return false}}if(b==37){this._doLeftKey();return false}else{if(b==39){this._doRightKey();return false}}var g=this._isSpecialKey(b);if(!a.browser.mozilla){return true}return g},_isSpecialKey:function(b){if(b!=8&&b!=9&&b!=13&&b!=35&&b!=36&&b!=37&&b!=39&&b!=27&&b!=46){return false}return true},_selection:function(){if("selectionStart" in this.dateTimeInput[0]){var f=this.dateTimeInput[0];var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value}}else{var c=document.selection.createRange();if(c==null){return{start:0,end:f.value.length,length:0}}var b=this.dateTimeInput[0].createTextRange();var d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);var g=c.text.length;return{start:d.text.length,end:d.text.length+c.text.length,length:g,text:c.text}}},_selectGroup:function(j){if(this.host.css("display")=="none"){return}var l=this._selection();var e="";var b="";var c=null;for(i=0;i<this.items.length;i++){b=this.items[i].dateParser(this.value);if(this.isEditing&&this.items[i].type!="ReadOnly"){var h=this.items[i].type=="Day"&&this.items[i].format.length>2;if(this.items[i].type=="FORMAT_AMPM"){h=true}if(!h){b=this.items[i].dateParserInEditMode(new Number(this.editors[i].value),"d"+this.editors[i].maxEditPositions);while(b.length<this.editors[i].maxEditPositions){b="0"+b}}}e+=b;if(this.items[i].type=="ReadOnly"){continue}if(this.items[i].type=="Day"&&this.items[i].format.length>2){continue}if(this.items[i].type=="FORMAT_AMPM"){continue}if(j!=undefined&&j!=-1){if(i>=j){var k=e.length-b.length;var d=b.length;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(b))&&this.isEditing&&j!=-1){d=1;k+=this.editors[i].positions}}if(k==this.dateTimeInput.val().length){k--}this._setSelection(k,k+d);c=this.editors[i];this.activeEditor=c;break}}else{if(e.length>=l.start){c=this.editors[i];this.activeEditor=c;var k=e.length-b.length;var d=1;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(b))&&this.isEditing&&j!=-1){d=1;k+=this.editors[i].positions}}else{d=b.length}this._setSelection(k,k+d);break}}}if(i<this.items.length&&j==-1){if(this.items[i].type!="ReadOnly"){this.activeEditor.positions=0}}var g=this._selection();if(g.length==0){if(g.start>0){var f=this._getLastEditableEditorIndex();if(f>=0){this._selectGroup(f)}}}},_getLastEditableEditorIndex:function(){var b=-1;for(i=0;i<this.editors.length;i++){if(this.items[i].type=="ReadOnly"){continue}if(this.items[i].type=="Day"&&this.items[i].format.length>2){continue}if(this.items[i].type=="FORMAT_AMPM"){continue}b=i}return b},_setSelection:function(d,b){if("selectionStart" in this.dateTimeInput[0]){this.dateTimeInput[0].setSelectionRange(d,b)}else{var c=this.dateTimeInput[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",d);c.select()}},_setSelectionStart:function(b){this._setSelection(b,b)},destroy:function(){this.host.removeClass("jqx-rc-all");this._removeHandlers();this.dateTimeInput.remove();this.host.remove()},refresh:function(b){if(!b){this._arrange()}},_setOption:function(b,c){if(b==="value"){if(c==null){this.value=c;this._refreshValue()}else{if(!this.value._equalDate(c.dateTime)){this.value=c;this._refreshValue()}}}if(b=="maxDate"){this.calendar.maxDate=c}if(b=="minDate"){this.calendar.minDate=c}if(b=="showCalendarButton"){if(c){this.calendarButton.css("display","block")}else{this.calendarButton.css("display","none")}}if(b=="disabled"){this.dateTimeInput.attr("disabled",c)}if(b=="readonly"){this.readonly=c;this.dateTimeInput.css("readonly",c)}if(b=="textAlign"){this.dateTimeInput.css("text-align",c);this.textAlign=c}if(b=="width"){this.width=c;this.width=parseInt(this.width);this._arrange()}else{if(b=="height"){this.height=c;this.height=parseInt(this.height);this._arrange()}}},_refreshValue:function(){this._updateEditorsValue();this.updateValue();this._validateValue();this._updateText()}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.DateTimeFormatItem={};a.extend(a.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(d,c,b){this.format=d;this.type=c;this.culture=b;return this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(b){if(b==null){return""}var c=a.global.format(b.dateTime,this.format.length==1?"%"+this.format:this.format,this.culture);return c},dateParserInEditMode:function(d,c){if(d==null){return""}var b=a.global.format(d.toString(),c.length==1?"%"+c:c,this.culture);return b},getDateTimeEditorByItemType:function(q){switch(this.type){case"FORMAT_AMPM":var h=a.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,q.hour/12,a.global.culture.calendar.AM[0],a.global.culture.calendar.PM[0],this);var o=a.extend({},h);return o;case"Character":return null;case"Day":var p=q.year;var n=q.month;var c;if(this.format.length==3){c=a.global.culture.calendar.days.namesAbbr}else{if(this.format.length>3){c=a.global.culture.calendar.days.names}else{c=null}}var e=q.day;if(c!=null){e=q.dayOfWeek+1}var d=a.jqx._jqxDateTimeInput.DateEditor._createDayEditor(q,q.day,1,q._daysInMonth(p,n),this.format.length==1?1:2,2,c,this);var o=a.extend({},d);return o;case"FORMAT_hh":var s=q.hour%12;if(s==0){s=12}var l=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(s,0,23,this.format.length==1?1:2,2,this);var o=a.extend({},l);return o;case"FORMAT_HH":var r=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(q.hour,0,23,this.format.length==1?1:2,2,this);var o=a.extend({},r);return o;case"Millisecond":var m=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(q.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this);var o=a.extend({},m);return o;case"Minute":var g=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(q.minute,0,59,this.format.length==1?1:2,2,this);var o=a.extend({},g);return o;case"Month":var j;if(this.format.length==3){j=a.global.culture.calendar.months.namesAbbr}else{if(this.format.length>3){j=a.global.culture.calendar.months.names}else{j=null}}var b=a.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(q.month,this.format.length==2?2:1,j,this);var o=a.extend({},b);return o;case"ReadOnly":return a.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,q.day,this);case"Second":var f=a.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(q.second,0,59,this.format.length==1?1:2,2,this);var o=a.extend({},f);return o;case"Year":var k=a.jqx._jqxDateTimeInput.DateEditor._createYearEditor(q.year,this.format.length,this);var o=a.extend({},k);return o}return null},getDateTimeWithOffset:function(e,k){if(e==null||k==null){throw"Invalid arguments"}var h=k.hour;var d=k.minute;var j=k.second;var l=k.day();var c=k.month();var f=k.year();var m=k;var b=k;switch(this.type){case"FORMAT_AMPM":h=12*(e-h/12);break;case"Day":l=e-l;if(l!=e){if(e==29&&c==2){b=m;while(!DateTime._isLeapYear(b.year)){b=b._addYears(1)}b=b._addDays(e-b.day)}else{b=m._addMonths(1-m.month);b=b._addDays(e-m.day)}}break;case"FORMAT_hh":var g=e==12?0:e;m=m._addHours(g-(m.hour%12));break;case"FORMAT_HH":m=m._addHours(e-m.hour);break;case"Millisecond":m=m._addMilliseconds(e*this._itemValue()-m.millisecond);break;case"Minute":m=m._addMinutes(e-m.minute);break;case"Month":b=m._addMonths(e-m.month);if(e==2&&m.day==29&&m.day!=b.day){b=m;while(!m.IsLeapYear(b.year)){b=b._addYears(1)}b=b._addMonths(e-b.month)}m=b;break;case"ReadOnly":break;case"Second":m=m._addSeconds(e-m.second);break;case"Year":if(e==0){e=1}m=m._addYears(e-k.year);break}return m}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.DateEditor=a.extend(a.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:false,handleDays:false,handleMonths:false,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},initializeFields:function(e,f,b,d,c){this.minValue=e;this.maxValue=f;this.minEditPositions=b;this.maxEditPositions=d;this.updateActiveEditor(e);this.item=c},_createYearEditor:function(d,c,b){a.jqx._jqxDateTimeInput.DateEditor=a.extend(true,{},this);this.initializeFields(c<=4?0:0,c<4?99:9999,(c==2)?2:1,c>3?4:2,b);this.initializeYearEditor(d,c,b.culture);this.handleYears=true;return this},initializeYearEditor:function(d,c,e){this.formatValueLength=c;this.dateTimeFormatInfo=e;var b=d;b=Math.min(b,9999);b=Math.max(b,1);b=this.formatValueLength<4?b%100:b;this.updateActiveEditor(b);this.value=b},updateActiveEditor:function(b){this.value=b;this.positions=0},_createDayEditor:function(h,b,f,g,j,d,c,e){a.jqx._jqxDateTimeInput.DateEditor=a.extend(true,{},this);this.initializeFields(f,g,1,d,e);this.currentValue=h;this.value=b;this.days=c;this.handleDays=true;return this},getDayOfWeek:function(b){if(typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return b},defaultTextValue:function(){var d=this.value;var e=this.minEditPositions;var b=e;var c=a.global.format(this.value,"d"+b,"");return c},textValue:function(){if(this.handleDays){if(this.days==null){return this.defaultTextValue()}else{var b=(this.value%7)+1;b=this.getDayOfWeek(b);return this.days[b]}}else{if(this.handleMonths){if(this.dateTimeMonths==null||this.value<1||this.value>12){return this.defaultTextValue()}else{return this.dateTimeMonths[this.value-1]}}}return this.defaultTextValue()},defaultInsertString:function(c){if(c==null){return this.deleteValue()}if(c.length==0){return this.deleteValue()}var g=c.substring(0,1);if(isNaN(g)){return}var e=true;var d;var b=1;var f=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);d=f;if(this.positions>=this.maxEditPositions){this.positions=0}d=d.substring(0,this.positions)+g+d.substring(this.positions+1);d=this.setValueByString(d,b);return true},setValueByString:function(d,b){d=this.fixValueString(d);var c=new Number(d);this.value=c;this.positions+=b;return d},fixValueString:function(b){if(b.length>this.maxEditPositions){b=b.substring(b.length-this.maxEditPositions)}return b},initializeValueString:function(c){var b;b="";if(this.hasDigits()){b=c}return b},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},insert:function(b){if(this.handleDays){if(this.days!=null){var c=false;c=this.insertLongString(b,c);if(c){return c}c=this.insertShortString(b,c);if(c){return c}}if(this.value==1&&this.lastDayInput!=null&&this.lastDayInput.toString().length>0&&this.lastDayInput.toString()=="0"){this.value=0}this.lastDayInput=b;return this.defaultInsertString(b)}else{if(this.handleMonths){if(this.dateTimeMonths!=null){var c=false;c=this.insertLongString2(b,c);if(c){return c}c=this.insertShortString2(b,c);if(c){return c}}}}return this.defaultInsertString(b)},insertShortString:function(d,e){if(d.length==1){for(i=0;i<6;++i){var c=(this.value+i)%7+1;var b=this.days[c-1];if(b.substring(0,1)==d){this.updateActiveEditor(c);e=true;return e}}}return e},insertLongString:function(c,d){if(c.length>0){for(i=0;i<6;++i){var b=(this.value+i)%7+1;if(this.days[b-1]==c){this.updateActiveEditor(b);d=true;return d}}}return d},_createMonthEditor:function(d,c,b,e){a.jqx._jqxDateTimeInput.DateEditor=a.extend(true,{},this);this.initializeFields(1,12,c,2,e);this.dateTimeMonths=b;this.value=d;if(this.dateTimeMonths!=null&&this.dateTimeMonths[12]!=null&&this.dateTimeMonths[12].length>0){this.dateTimeMonths=null}this.handleMonths=true;return this},insertLongString2:function(b,c){if(b.length>0){for(i=0;i<11;++i){month=(this.value+i)%12+1;if(this.dateTimeMonths[month-1]==b){this.updateActiveEditor(month);c=true;return c}}}return c},insertShortString2:function(c,d){if(c.length==1){for(i=0;i<11;++i){var e=(this.value+i)%12+1;var b=this.dateTimeMonths[e-1];if(b.substring(0,1)==c){this.updateActiveEditor(e);d=true;return d}}}return d},correctMaximumValue:function(b){if(b>this.maxValue){b=this.minValue}return b},correctMinimumValue:function(b){if(b<this.minValue){b=this.maxValue}return b},increaseValue:function(e){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)+1;if(f>9){f=0}if(!e){var b=this.value+1;b=this.correctMaximumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},decreaseValue:function(e){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)-1;if(f<0){f=9}if(!e){var b=this.value-1;b=this.correctMinimumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.NumberEditor={};a.extend(a.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},_createNumberEditor:function(f,e,g,b,d,c){a.jqx._jqxDateTimeInput.NumberEditor=a.extend(true,{},this);this.initializeFields(e,g,b,d,c);return this},initializeFields:function(e,f,b,d,c){this.minValue=e;this.maxValue=f;this.minEditPositions=b;this.maxEditPositions=d;this.updateActiveEditor(e);this.item=c},updateActiveEditor:function(b){this.value=b;this.positions=0},getDayOfWeek:function(b){if(typeof this.currentValue==a.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return b},textValue:function(){var d=this.value;var e=this.minEditPositions;var b=e;var c=a.global.format(this.value,"d"+b,"");return c},insert:function(c){if(c==null){return this.deleteValue()}if(c.length==0){return this.deleteValue()}var g=c.substring(0,1);if(isNaN(g)){return}var e=true;var d;var b=1;var f=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);d=f;if(this.positions>=this.maxEditPositions){this.positions=0}d=d.substring(0,this.positions)+g+d.substring(this.positions+1);d=this.setValueByString(d,b);return true},setValueByString:function(d,b){d=this.fixValueString(d);var c=new Number(d);this.value=c;this.positions+=b;return d},fixValueString:function(b){if(b.length>this.maxEditPositions){b=b.substring(b.length-this.maxEditPositions)}return b},initializeValueString:function(c){var b;b="";if(this.hasDigits()){b=c}return b},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},correctMaximumValue:function(b){if(b>this.maxValue){b=this.minValue}return b},correctMinimumValue:function(b){if(b<this.minValue){b=this.maxValue}return b},increaseValue:function(e){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)+1;if(f>9){f=0}if(!e){var b=this.value+1;b=this.correctMaximumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},decreaseValue:function(e){var c=a.global.format(Number(this.value),"d"+this.maxEditPositions,this.culture);var f=c.toString()[this.positions];f=parseInt(f)-1;if(f<0){f=9}if(!e){var b=this.value-1;b=this.correctMinimumValue(b);this.updateActiveEditor(b);return true}var d=c.substring(0,this.positions)+f+c.substring(this.positions+1);if(d!=this.value||this.hasDigits()){this.updateActiveEditor(d);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.DisabledEditor={};a.extend(a.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(f,c,e,b,d){this.format=f;this.value=-1;this.item=d;return this},textValue:function(){return""},insert:function(b){return false},deleteValue:function(){return false},increaseValue:function(){return false},decreaseValue:function(){return false},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.AmPmEditor={};a.extend(a.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(f,c,e,b,d){this.format=f;this.value=c;this.amString=e;this.pmString=b;this.item=d;if(e==b){this.amString="<"+e;this.pmString=">"+b}return this},textValue:function(){var b=this.amString;if(this.value!=0){b=this.pmString}if(this.format.length==1&&b.length>1){b=b.substring(0,1)}return b},insert:function(f){var d=f.toString();if(d.Length==0){return this.deleteValue()}var c=false;if(this.amString.Length>0&&this.pmString.Length>0){var g=amString[0];var b=d[0];var e=pmString[0];if(g.toString()==b.toString()){this.value=0;c=true}else{if(e.toString()==b.toString()){this.value=1;c=true}}}else{if(this.pmString.Length>0){this.value=1;c=true}else{if(this.amString.Length>0){this.value=0;c=true}}}return c},deleteValue:function(){var b=true;if(this.amString.Length==0&&this.pmString.Length!=0){if(this.value==0){return false}this.value=0}else{if(this.value==1){return false}this.value=1}return b},increaseValue:function(){this.value=1-this.value;return true},decreaseValue:function(){this.increaseValue();return true},getDateTimeItem:function(){return this.item}})})(jQuery);(function(a){a.jqx._jqxDateTimeInput.getDateTime=function(c){var b={dateTime:new Date(c),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976000000000,millisPerDay:86400000,millisPerHour:3600000,millisPerMinute:60000,millisPerSecond:1000,minTicks:0,minValue:0,ticksPerDay:864000000000,ticksPerHour:36000000000,ticksPerMillisecond:10000,ticksPerMinute:600000000,ticksPerSecond:10000000,hour:c.getHours(),minute:c.getMinutes(),day:c.getDate(),second:c.getSeconds(),month:1+c.getMonth(),year:c.getFullYear(),millisecond:c.getMilliseconds(),dayOfWeek:c.getDay(),isWeekend:function(d){if(d==undefined||d==null){d=this.dateTime}var e=d.getDay()%6==0;return e},dayOfYear:function(e){if(e==undefined||e==null){e=this.dateTime}var d=new Date(e.getFullYear(),0,1);return Math.ceil((e-d)/86400000)},_setDay:function(d){if(d==undefined||d==null){d=0}this.dateTime.setDate(d);this.day=this.dateTime.getDate()},_setMonth:function(d){if(d==undefined||d==null){d=0}this.dateTime.setMonth(d-1);this.month=1+this.dateTime.getMonth()},_setYear:function(d){if(d==undefined||d==null){d=0}this.dateTime.setFullYear(d);this.year=this.dateTime.getFullYear()},_setHours:function(d){if(d==undefined||d==null){d=0}this.dateTime.setHours(d);this.hour=this.dateTime.getHours()},_setMinutes:function(d){if(d==undefined||d==null){d=0}this.dateTime.setMinutes(d);this.minute=this.dateTime.getMinutes()},_setSeconds:function(d){if(d==undefined||d==null){d=0}this.dateTime.setSeconds(d);this.second=this.dateTime.getSeconds()},_setMilliseconds:function(d){if(d==undefined||d==null){d=0}this.dateTime.setMilliseconds(d);this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var d=this.dateTime;d.setDate(d.getDate()+e);return d},_addWeeks:function(e){var d=this.dateTime;d.setDate(d.getDate()+7*e);return d},_addMonths:function(e){var d=this.dateTime;d.setMonth(d.getMonth()+e);return d},_addYears:function(e){var d=this.dateTime;d.setFullYear(d.getFullYear()+e);return d},_addHours:function(e){var d=this.dateTime;d.setHours(d.getHours()+e);return d},_addMinutes:function(e){var d=this.dateTime;d.setMinutes(d.getMinutes()+e);return d},_addSeconds:function(e){var d=this.dateTime;d.setSeconds(d.getSeconds()+e);return d},_addMilliseconds:function(e){var d=this.dateTime;d.setMilliseconds(d.getMilliseconds()+e);return d},_isLeapYear:function(d){if((d<1)||(d>9999)){throw"invalid year"}if((d%4)!=0){return false}if((d%100)==0){return((d%400)==0)}return true},_dateToTicks:function(f,h,e){if(((f>=1)&&(f<=9999))&&((h>=1)&&(h<=12))){var d=this._isLeapYear(f)?this.daysToMonth366:this.daysToMonth365;if((e>=1)&&(e<=(d[h]-d[h-1]))){var f=f-1;var g=((((((f*365)+(f/4))-(f/100))+(f/400))+d[h-1])+e)-1;return(g*864000000000)}}},_daysInMonth:function(e,f){if((f<1)||(f>12)){throw ("Invalid month.")}var d=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return(d[f]-d[f-1])},_timeToTicks:function(d,g,e){var f=((d*3600)+(g*60))+e;return(f*10000000)},_equalDate:function(d){if(this.year==d.getFullYear()&&this.day==d.getDate()&&this.month==d.getMonth()+1){return true}return false}};return b}})(jQuery);(function(a){a.jqx.jqxWidget("jqxChart","",{});a.extend(a.jqx._jqxChart.prototype,{createInstance:function(d){if(!a.jqx.dataAdapter){throw"jqxdata.js is not loaded";return}this._refreshOnDownloadComlete();this._internalRefresh();var c=this;this.host.bind("mousemove",function(f){if(this.enabled==false){return}f.preventDefault();var e=f.pageX||f.clientX||f.screenX;var h=f.pageY||f.clientY||f.screenY;var g=c.host.position();e-=g.left;h-=g.top;c.onmousemove(e,h)});if(this.element.style){var b=false;if(this.element.style.width!=null){b|=this.element.style.width.toString().indexOf("%")!=-1}if(this.element.style.height!=null){b|=this.element.style.height.toString().indexOf("%")!=-1}if(b){a(window).resize(function(){if(c.timer){clearTimeout(c.timer)}var e=a.browser.msie?200:1;c.timer=setTimeout(function(){var f=c.enableAnimations;c.enableAnimations=false;c.refresh();c.enableAnimations=f},e)})}}},_refreshOnDownloadComlete:function(){if(this.source instanceof a.jqx.dataAdapter){var c=this;var d=this.source._options;if(d==undefined||(d!=undefined&&!d.autoBind)){this.source.autoSync=false;this.source.dataBind()}if(this.source.records.length==0){var b=function(){if(c.ready){c.ready()}c.refresh()};this.source.unbindDownloadComplete(this.element.id);this.source.bindDownloadComplete(this.element.id,b)}else{if(c.ready){c.ready()}}this.source.unbindBindingUpdate(this.element.id);this.source.bindBindingUpdate(this.element.id,function(){c.refresh()})}},defineInstance:function(){this.source=new Array();this.seriesGroups=new Array();this.categoryAxis={}},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"){this._refreshOnDownloadComlete()}this.refresh()},_internalRefresh:function(){this.host.empty();this._renderData=new Array();var c=null;if(document.createElementNS){c=new a.jqx.svgRenderer()}else{c=new a.jqx.vmlRenderer();this._isVML=true}if(!c.init(this.host)){return}this.renderer=c;var b=this.renderer.getRect();this._render({x:1,y:1,width:b.width,height:b.height})},refresh:function(){this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","column","stackedcolumn","stackedcolumn100","pie","scatter","bubble"],_render:function(e){this.renderer.clear();if(this._getDataLen()==0){return}this._buildStats();var u=this.padding||{left:5,top:5,right:5,bottom:5};var l=this.renderer.rect(e.x,e.y,e.width-1,e.height-1);this.renderer.setAttr(l,"fill",this.background||"white");this.renderer.setAttrs(l,{"stroke-width":1,stroke:this.borderColor||"#888888"});var I={x:u.left,y:u.top,width:e.width-u.left-u.right,height:e.height-u.top-u.bottom};this._paddedRect=I;var b=this.titlePadding||{left:2,top:2,right:2,bottom:2};if(this.title&&this.title.length>0){var J=this.toThemeProperty("jqx-chart-title-text",null);var v=this.renderer.measureText(this.title,0,{"class":J});this.renderer.text(this.title,I.x+b.left,I.y+b.top,I.width-(b.left+b.right),v.height,0,{"class":J},true,"center","center");I.y+=v.height;I.height-=v.height}if(this.description&&this.description.length>0){var j=this.toThemeProperty("jqx-chart-title-description",null);var v=this.renderer.measureText(this.description,0,{"class":j});this.renderer.text(this.description,I.x+b.left,I.y+b.top,I.width-(b.left+b.right),v.height,0,{"class":j},true,"center","center");I.y+=v.height;I.height-=v.height}if(this.title||this.description){I.y+=(b.bottom+b.top);I.height-=(b.bottom+b.top)}var q={x:I.x,y:I.y,width:I.width,height:I.height};var f=0;var m=[];for(var D=0;D<this.seriesGroups.length;D++){var A=this.seriesGroups[D].valueAxis;if(!A){if(this.seriesGroups[D].type=="pie"){m.push(0);continue}throw"seriesGroup["+D+"] is missing valueAxis definition"}var s=A.axisSize;if(!s||s=="auto"){s=this._renderValueAxis(D,{x:0,y:q.y,width:q.width,height:q.height},true).width}if(D>0&&s>0){f+=5}m.push(s);f+=s}this._plotRect=q;var n=this.categoryAxis.axisSize;if(!n||n=="auto"){var t=this._renderCategoryAxis({x:0,y:0,width:10000000,height:0},true);n=t.height}var G=(this.showLegend!=false);var z=!G||this.legendLayout?{width:0,height:0}:this._renderLegend(I,true);if(I.height<n+z.height||I.width<f){return}q.height-=n+z.height;q.x+=f;q.width-=f;var C=this._isPieOnlySeries();if(!C){var d=this.categoryAxis.tickMarksColor||"#888888";if(f==0){var p=a.jqx._ptrnd(q.x);var k=this.renderer.line(p,a.jqx._ptrnd(q.y),p,a.jqx._ptrnd(q.y+q.height+5),{stroke:d,"stroke-width":1})}this._renderCategoryAxis({x:q.x,y:q.y+q.height,width:q.width,height:n},false,q)}if(G){var p=q.x+a.jqx._ptrnd((q.width-z.width)/2);var o=q.y+q.height+n;var s=q.width;var E=z.height;if(this.legendLayout){p=this.legendLayout.left||p;o=this.legendLayout.top||o;s=this.legendLayout.width||s;E=this.legendLayout.height||E}if(p+s>I.x+I.width){s=I.x+I.width-p}if(o+E>I.y+I.height){E=I.y+I.height-o}this._renderLegend({x:p,y:o,width:s,height:E})}this._hasHorizontalLines=false;if(!C){var L=q.x-f;for(var D=0;D<this.seriesGroups.length;D++){var s=m[D];if(D>0&&s>0){L+=5}this._renderValueAxis(D,{x:L,y:q.y,width:s,height:q.height},false);this._hasHorizontalLines=this._hasHorizontalLines||this._renderHorizontalGridLines(D,q);L+=s}}if(q.width<=0||q.height<=0){return}this._plotRect={x:q.x,y:q.y,width:q.width,height:q.height};var F=this.renderer.beginGroup();var H=this.renderer.createClipRect({x:q.x,y:q.y,width:q.width,height:q.height});this.renderer.setClip(F,H);for(var D=0;D<this.seriesGroups.length;D++){var K=this.seriesGroups[D];var B=false;for(var r in this._seriesTypes){if(this._seriesTypes[r]==K.type){B=true;break}}if(!B){throw'jqxChart: invalid series type "'+K.type+'"';continue}if(K.type.indexOf("column")!=-1){this._renderColumnSeries(D,q)}else{if(K.type.indexOf("pie")!=-1){this._renderPieSeries(D,q)}else{if(K.type.indexOf("line")!=-1||K.type.indexOf("area")!=-1){this._renderLineSeries(D,q)}else{if(K.type=="scatter"||K.type=="bubble"){this._renderScatterSeries(D,q)}}}}}this.renderer.endGroup();this._plotGroup=this.renderer._activeParent();if(this.enabled==false){var c=this.renderer.rect(e.x,e.y,e.width,e.height);this.renderer.setAttrs(c,{fill:"#777777",opacity:0.5,stroke:"#00FFFFFF"})}},_isPieOnlySeries:function(){if(this.seriesGroups.length==0){return false}for(var b=0;b<this.seriesGroups.length;b++){if(this.seriesGroups[b].type!="pie"){return false}}return true},_renderChartLegend:function(v,c,d,e){var n={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6};var j={width:n.width,height:0};var h=0,g=0;var f=20;var b=0;var o=10;var u=10;var s=0;for(var q=0;q<v.length;q++){var k=v[q].css;if(!k){k=this.toThemeProperty("jqx-chart-legend-text",null)}var l=v[q].text;var m=this.renderer.measureText(l,0,{"class":k});if(m.height>f){f=m.height}if(m.width>s){s=m.width}if(e){if(q!=0){g+=f}if(g>n.height){g=0;h+=s+u;s=m.width;j.width=h+s}}else{if(h!=0){h+=u}if(h+2*o+m.width>n.width&&m.width<n.width){h=0;g+=f;f=20;b=n.width;j.heigh=g+f}}if(!d){var p=v[q].color;var t=this.renderer.rect(n.x+h,n.y+g+o/2,o,o);this.renderer.setAttrs(t,{fill:p,stroke:p,"stroke-width":1});this.renderer.text(l,n.x+h+1.5*o,n.y+g,m.width,f,0,{"class":k},false,"center","center")}if(e){}else{h+=m.width+2*o;if(b<h){b=h}}}if(d){j.height=a.jqx._ptrnd(g+f);j.width=a.jqx._ptrnd(b);return j}},_renderLegend:function(l,j){var b=[];for(var o=0;o<this.seriesGroups.length;o++){var f=this.seriesGroups[o];for(var m=0;m<f.series.length;m++){var p=f.series[m];if(f.type=="pie"){var k=p.colorScheme||f.colorScheme||this.colorScheme;var c=this._getDataLen(o);for(var e=0;e<c;e++){var h=this._getDataValue(e,p.displayText,o);if(!h){h=this._getFormattedValue(o,m,e)}var d=this._getColor(k,m*c+e);b.push({text:h,css:p.displayTextClass,color:d})}continue}var n=p.displayText||p.dataField||"";var d=this._getSeriesColor(o,m);b.push({text:n,css:p.displayTextClass,color:d})}}return this._renderChartLegend(b,l,j,(this.legendLayout&&this.legendLayout.flow=="vertical"))},_renderCategoryAxis:function(d,f,g){var r={width:0,height:0};var e=this.categoryAxis;if(!e){return r}var t=e.text;if(!f){var o=a.jqx._ptrnd(d.y);var z=this.renderer.line(a.jqx._ptrnd(d.x),o,a.jqx._ptrnd(d.x+d.width+1),o,{stroke:B,"stroke-width":1})}var s=e["class"];if(!s){s=this.toThemeProperty("jqx-chart-axis-text",null)}var E=e.textRotationAngle||0;var k=this._calculateXOffsets(undefined,d);var h=k.itemWidth;var v=e.unitInterval;if(isNaN(v)){v=Math.max(1,Math.round(k.rangeLength/10))}var p=0;var H=this.categoryAxis.horizontalTextAlignment;var G=this._isPointSeriesOnly();if(G){p=-h*v/2;H="left"}var j=this.renderer.getRect();var b=j.width-d.x-d.width;var q=0;var A=k.customRange!=false;var l=v;for(var C=k.min;C<=k.max;C+=l,q+=l*h){if(A){value=C}else{value=this._getDataValue(C,this.categoryAxis.dataField)}var t=this._formatValue(value,this.categoryAxis.formatSettings,this.categoryAxis.formatFunction);if(t==undefined){t=!A?value.toString():(C).toString()}var u;if(f||C==k.max||G){u=this.renderer.measureText(t,E,{"class":s});if(u.height>r.height){r.height=u.height}}var w=G?-u.width/2:p;if(this.categoryAxis.textInsideIntervals==true){w=0;H="center"}if(!f&&(!u||q+u.width+w<d.width+b)){this.renderer.text(t,d.x+q+w,d.y+0,(G&&this.categoryAxis.textInsideIntervals!=true)?u.width:h*v,d.height,E,{"class":s},true,H,this.categoryAxis.verticalTextAlignment)}if(C+l>k.max){l=k.max-C;if(l==0){break}}}if(!f){var c=e.showGridLines!=false;var D=e.gridLinesColor||"#888888";var F=e.gridLinesInterval||e.unitInterval;if(isNaN(F)){F=v}for(var C=0;C<k.rangeLength+F;C+=F){if(C>k.rangeLength){C=k.rangeLength}var z=a.jqx._ptrnd(d.x+C*h);if(z<d.x||z>d.x+d.width){continue}if(c||(C==k.rangeLength&&this._hasHorizontalLines)){this.renderer.line(z,a.jqx._ptrnd(g.y),z,a.jqx._ptrnd(g.y+g.height),{stroke:D,"stroke-width":1})}}}var m=e.showTickMarks!=false;if(!f&&m){var B=e.tickMarksColor||"#888888";var n=e.tickMarksInterval||e.unitInterval;if(isNaN(n)){n=v}for(var C=0;C<k.rangeLength+n;C+=n){var z=a.jqx._ptrnd(d.x+C*h);if(z<d.x||z>d.x+d.width){continue}this.renderer.line(z,d.y,z,d.y+4,{stroke:B,"stroke-width":1})}}r.width=a.jqx._rup(r.width);r.height=a.jqx._rup(r.height+5);return r},_renderValueAxis:function(j,c,h){var F=this.seriesGroups[j];var d=F.valueAxis;var s={width:0,height:0};if(this._isPieOnlySeries()){if(h){return s}return}var o=this._stats.seriesGroups[j];if(!o||!o.isValid||false==d.displayValueAxis){if(h){return s}return}var k=d.tickMarksColor||"#888888";var e=F.type.indexOf("stacked")!=-1&&F.type.indexOf("100")!=-1;var m=d.showTickMarks;if(m==undefined){m=true}var q=c.x+c.width;q=a.jqx._ptrnd(q);if(m&&!h){this.renderer.line(q,c.y,q,c.y+c.height+5,{stroke:k,"stroke-width":1})}if(d.description){var l=d.descriptionClass;if(!l){l=this.toThemeProperty("jqx-chart-axis-description",null)}var v=this.renderer.measureText(d.description,-90,{"class":l});if(h){s.width+=v.width+5}else{this.renderer.text(d.description,c.x+2,c.y,c.width-5,c.height,-90,{"class":l},true,"left","center");c.x+=v.width+5;c.width-=v.width+5}}var b=d.dataField;var u=o.intervals;var C=o.min;var z=o.mu;var w=c.height/u;var r=d.itemsClass;if(!r){r=this.toThemeProperty("jqx-chart-axis-text",null)}var n=c.y+c.height-w;var E=d.formatSettings;if(e&&!E){E={sufix:"%"}}var f=0;var G=d.textRotationAngle||0;for(var D=0;D<=u;D++){var A=C+D*z;var t=this._formatNumber(A,E);if(h){var v=this.renderer.measureText(t,G,{"class":r});if(f<v.width){f=v.width}}else{var H=this.renderer.text(t,c.x,n+w/2,c.width-4,w,G,{"class":r},false,"center","center")}n-=w}if(h){s.width+=f+5+(m?3:0);s.height=a.jqx._rup(c.height);s.width=a.jqx._rup(s.width);return s}if(m==undefined||m){var B=c.height/o.tickMarksIntervals;n=c.y;while(n<c.y+c.height){var p=a.jqx._ptrnd(n);this.renderer.line(q-3,p,q,p,{stroke:k,"stroke-width":1});n+=B}}},_renderHorizontalGridLines:function(k,j){var d=this.seriesGroups[k].valueAxis;if(!d||d.showGridLines==false){return false}var b=d.gridLinesColor||d.tickMarksColor||"#888888";var f=this._stats.seriesGroups[k];if(!f||!f.isValid||false==d.displayValueAxis||false==d.showGridLines){return false}var g=f.gridLinesIntervals;var h=j.height/g;var e=j.y;var c=h;while(e<j.y+j.height+1){var i=a.jqx._ptrnd(e);this.renderer.line(a.jqx._ptrnd(j.x),i,a.jqx._ptrnd(j.x+j.width),i,{stroke:b,"stroke-width":1});if(e+c>j.y+j.height){c=j.y+j.height-e}if(c==0){break}e+=c}return true},_buildStats:function(){var E={seriesGroups:new Array()};this._stats=E;for(var A=0;A<this.seriesGroups.length;A++){var n=this.seriesGroups[A];E.seriesGroups[A]={};var d=E.seriesGroups[A];d.isValid=true;var b=n.valueAxis!=undefined;var o=-1!=n.type.indexOf("stacked");var f=o&&-1!=n.type.indexOf("100");if(f){d.psums=new Array();d.nsums=new Array()}var c=NaN,e=NaN;var C=NaN,F=NaN;var B=n.baselineValue||0;var z=this._getDataLen(A);var l=0;for(var y=0;y<z&&d.isValid;y++){var v=b?n.valueAxis.minValue:0;var x=b?n.valueAxis.maxValue:0;var j=0,k=0;if(typeof(v)!="number"){v=NaN}if(typeof(x)!="number"){x=NaN}for(var t=0;t<n.series.length;t++){var G=this._getDataValueAsNumber(y,n.series[t].dataField,A);if(isNaN(G)){throw"jqxChart: Data source contains invalid value at Index: "+y+", DataField: "+n.series[t].dataField;d.isValid=false;break}if((G>x||isNaN(x))&&((!b||isNaN(n.valueAxis.maxValue))?true:G<=n.valueAxis.maxValue)){x=G}if((G<v||isNaN(v))&&((!b||isNaN(n.valueAxis.minValue))?true:G>=n.valueAxis.minValue)){v=G}if(G>B){j+=G}else{if(G<B){k+=G}}}var r=j-k;if(l<r){l=r}if(f){d.psums[y]=j;d.nsums[y]=k}if(x>e||isNaN(e)){e=x}if(v<c||isNaN(c)){c=v}if(j>C||isNaN(C)){C=j}if(k<F||isNaN(F)){F=k}}if(f){C=C==0?0:Math.max(C,-F);F=F==0?0:Math.min(F,-C)}var u=b?n.valueAxis.unitInterval:0;if(!u){u=o?(C-F)/10:(e-c)/10}var m=b?n.valueAxis.tickMarksInterval||u:0;var D=b?n.valueAxis.gridLinesInterval||u:0;if(c<F){F=c}if(e>C){C=e}var w=a.jqx._rnd(o?F:c,u,false);var q=a.jqx._rnd(o?C:e,u,true);if(f){q=(q>0)?100:0;w=(w<0)?-100:0;u=b?n.valueAxis.unitInterval:10;if(u<=0||u>=100){u=10}if(m<=0||m>=100){m=10}if(D<=0||D>=100){D=10}}if(isNaN(q)||isNaN(w)||isNaN(u)){continue}var h=(q-w)/(u==0?1:u);if(h<1){continue}var p=q-w;d.rmax=o?C:e;d.rmin=o?F:c;d.min=w;d.max=q;d.mu=u;d.maxRange=l;d.intervals=h;d.tickMarksInterval=m;d.tickMarksIntervals=m==0?0:p/m;d.gridLinesInterval=D;d.gridLinesIntervals=D==0?0:p/D;if(p==0){p=1}d.scale=o?(C-F)/p:(e-c)/p}},_getDataLen:function(c){var b=this.source;if(c!=undefined&&c!=-1&&this.seriesGroups[c].source){b=this.seriesGroups[c].source}if(b instanceof a.jqx.dataAdapter){b=b.records}if(b){return b.length}return 0},_getDataValue:function(b,e,d){var c=this.source;if(d!=undefined&&d!=-1){c=this.seriesGroups[d].source||c}if(c instanceof a.jqx.dataAdapter){c=c.records}if(!c||b<0||b>c.length-1){return NaN}return(e&&e!="")?c[b][e]:c[b]},_getDataValueAsNumber:function(b,e,c){var d=this._getDataValue(b,e,c);if(this._isDate(d)){return d.valueOf()}if(typeof(d)!="number"){d=parseFloat(d)}if(typeof(d)!="number"){d=undefined}return d},_renderPieSeries:function(c,D){var m=this._getDataLen(c);var q=this.seriesGroups[c];for(var f=0;f<q.series.length;f++){var J=q.series[f];var p=J.colorScheme||q.colorScheme||this.colorScheme;var g=J.initialAngle||0;var M=g;var K=J.radius||Math.min(D.width,D.height)*0.4;var d=J.centerOffset||0;var I=J.offsetX||D.width/2;var G=J.offsetX||D.height/2;var E=this._getAnimProps(c,f);var v=E.enabled&&m<5000&&this._isVML!=true?E.duration:0;var l=0;var n=0;for(var O=0;O<m;O++){var A=this._getDataValueAsNumber(O,J.dataField,c);if(typeof(A)!="number"){continue}if(A>0){l+=A}else{n+=A}}var k=l-n;if(k==0){k=1}for(var O=0;O<m;O++){var A=this._getDataValueAsNumber(O,J.dataField,c);if(typeof(A)!="number"){continue}var o=Math.round(Math.abs(A)/k*360);if(O+1==m){o=360+g-M}var H=D.x+I;var F=D.y+G;var L=this.renderer.pieslice(H,F,K,M,v>0?M:M+o,d);if(v>0){var r={x:H,y:F,r:K,fromAngle:M,toAngle:M+o,centerOffset:d};var j=this;this._animate(L,undefined,v,function(x,i,y){var s=i.fromAngle+y*(i.toAngle-i.fromAngle);var Q=j.renderer._getPieSlicePath(i.x,i.y,i.r,i.fromAngle,s,i.centerOffset);j.renderer.setAttrs(x,{d:Q})},r)}var B=this._getColor(p,f*m+O);this.renderer.setAttrs(L,{fill:B,stroke:B,"stroke-width":1});var t=M,N=M+o;var z=Math.abs(t-N);var P=z>180?1:0;if(z>360){t=0;N=360}var e=t*Math.PI*2/360;var u=N*Math.PI*2/360;var C=z/2+t;var b=C*Math.PI*2/360;var h=this._showLabel(c,f,O,{x:0,y:0,width:0,height:0},"left","top",true);var w=J.labelRadius||K+Math.max(h.width,h.height);w+=d;var H=D.x+I+w*Math.cos(b)-h.width/2;var F=D.y+G-w*Math.sin(b)-h.height/2;this._showLabel(c,f,O,{x:H,y:F,width:h.width,height:h.height},"left","top");this._installHandlers(L,c,f,O);M+=o}}},_renderColumnSeries:function(e,c){var p=this.seriesGroups[e];if(!p.series||p.series.length==0){return}var q=p.type.indexOf("stacked")!=-1;var d=q&&p.type.indexOf("100")!=-1;var o=this._getDataLen(e);var K=p.columnsGapPercent;if(isNaN(K)||K<0||K>100){K=25}var z=p.seriesGapPercent;if(isNaN(z)||z<0||z>100){z=10}var w=this._calcGroupOffsets(e,c);if(!w||w.xoffsets.length==0){return}for(var A=0;A<p.series.length;A++){var v=p.series[A];var C=v.dataField;var t=this._getColors(e,A,undefined,this._getGroupGradientType(e));var f=v.opacity||p.opacity;if(!f||f<0||f>1){f=1}var B=this._getAnimProps(e,A);var b=B.enabled&&w.xoffsets.length<100?B.duration:0;for(var D=w.xoffsets.first;D<=w.xoffsets.last;D++){var L=this._getDataValueAsNumber(D,C,e);if(typeof(L)!="number"){continue}var G=w.xoffsets.data[D];var F=G+w.xoffsets.itemWidth;var l=(F-G+1);var J=(F-G+1)/(1+K/100);var n=(!q&&p.series.length>1)?(J*z/100)/(p.series.length-1):0;var I=(J-n*(p.series.length-1));if(J<1){J=1}var j=0;if(!q&&p.series.length>1){I/=p.series.length;j=A}var u=G+(l-J)/2+j*(n+I);if(j==p.series.length){I=l-G+J-u}var r=w.offsets[A][D].to;var k=w.offsets[A][D].from;var g=w.baseOffset;var E=k-r;if(Math.abs(E)<1){continue}var m={x:c.x+u,y:E>0?r:k,width:I,height:Math.abs(E)};var H;if(!q){if(b==0){H=this.renderer.rect(m.x,m.y,m.width,m.height)}else{H=this.renderer.rect(m.x,m.y+m.height,m.width,0);if(E>0){this._animate(H,[{key:"y",type:"point",from:m.y+m.height,to:m.y},{key:"height",type:"point",from:0,to:m.height}],b,undefined,undefined)}else{this.renderer.setAttrs(H,{y:m.y});this._animate(H,[{key:"height",type:"point",from:0,to:-E}],b)}}}else{if(b==0){H=this.renderer.rect(m.x,m.y,I,m.height)}else{H=this.renderer.rect(m.x,m.y,0,m.height);this._animate(H,[{key:"width",type:"point",from:0,to:I}],b)}}this.renderer.setAttrs(H,{fill:t.fillColor,"fill-opacity":f,stroke:t.lineColor,"stroke-width":1});this._installHandlers(H,e,A,D);this._showLabel(e,A,D,m)}}},_renderScatterSeries:function(e,d){var j=this.seriesGroups[e];if(!j.series||j.series.length==0){return}var c=j.type=="bubble";var t=this._calcGroupOffsets(e,d);if(!t||t.xoffsets.length==0){return}for(var v=0;v<j.series.length;v++){var m=this._getColors(e,v,undefined,this._getGroupGradientType(e));var o=j.series[v];var A=o.dataField;var f=o.opacity||j.opacity;if(!f||f<0||f>1){f=1}var w=NaN,B=NaN;if(c){for(var C=t.xoffsets.first;C<=t.xoffsets.last;C++){var H=this._getDataValueAsNumber(C,o.radiusDataField,e);if(typeof(H)!="number"){throw"Invalid radiusDataField value at ["+C+"]"}if(isNaN(w)||H<w){w=H}if(isNaN(B)||H>B){B=H}}}var k=o.minRadius;if(isNaN(k)){k=5}var h=o.maxRadius;if(isNaN(h)){k=30}if(k>h){throw"Invalid settings: minRadius must be less than or equal to maxRadius"}var g=o.radius||5;var z=this._getAnimProps(e,v);var b=z.enabled&&t.xoffsets.length<5000?z.duration:0;for(var C=t.xoffsets.first;C<=t.xoffsets.last;C++){var H=this._getDataValueAsNumber(C,A,e);if(typeof(H)!="number"){continue}var E=t.xoffsets.data[C];var D=E+t.xoffsets.itemWidth;var n=E+(D-E)/2;n=a.jqx._ptrnd(d.x+n);var l=t.offsets[v][C].to;var p=g;if(c){var G=this._getDataValueAsNumber(C,o.radiusDataField,e);if(typeof(G)!="number"){continue}p=k+(h-k)*(G-w)/Math.max(1,B-w)}var F=this.renderer.circle(n,l,b==0?p:0);this.renderer.setAttrs(F,{fill:m.fillColor,"fill-opacity":f,stroke:m.lineColor,"stroke-width":1});var u={from:0,to:p};var q=this;if(b>0){this._animate(F,undefined,b,function(r,i,s){q._animR(r,i,s)},u)}this._installHandlers(F,e,v,C)}}},_animR:function(c,b,e){var d=Math.round((b.to-b.from)*e+b.from);if(this._isVML){this.renderer.updateCircle(c,undefined,undefined,d)}else{this.renderer.setAttrs(c,{r:d})}},_showToolTip:function(n,m,r,o,i){if(this.showToolTips==false){return}if(this._toolTipElement&&r==this._toolTipElement.gidx&&o==this._toolTipElement.sidx&&i==this._toolTipElement.iidx){return}this._hideToolTip();if(this._pointMarker){n=parseInt(this.renderer.getAttr(this._pointMarker,"cx"))+5;m=parseInt(this.renderer.getAttr(this._pointMarker,"cy"))-5}var p=this.seriesGroups[r];var j=p.series[o];var b=this._getColors(r,o,i);var q=this._getFormattedValue(r,o,i);var f=this._getDataValue(i,this.categoryAxis.dataField,r);var c=this._formatValue(f,this.categoryAxis.formatSettings,this.categoryAxis.formatFunction);if(p.type!="pie"){q=(j.displayText||j.dataField||"")+", "+c+": "+q}else{q=this._getDataValue(i,j.displayText||j.dataField)+": "+q}var e=j.toolTipClass||p.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null);var d=j.toolTipBackground||p.toolTipBackground||"#FFFFFF";var h=j.toolTipLineColor||p.toolTipLineColor||b.lineColor;var l=this.renderer.measureText(q,0,{"class":e});l.width=l.width+5;l.height=l.height+6;rect=this.renderer.getRect();n=Math.max(n-5,rect.x);m=Math.max(m-l.height,rect.y);if(l.width>rect.width||l.height>rect.height){return}if(n+l.width>rect.x+rect.width){n=rect.x+rect.width-l.width-2}if(m+l.height>rect.y+rect.height){m=rect.y+rect.height-l.height-2}var k=this.renderer.rect(n,m,l.width,l.height);this.renderer.setAttrs(k,{fill:d,"fill-opacity":0,stroke:h,rx:2,ry:2,"stroke-width":1});var g=this.renderer.text(q,n,m,l.width,l.height,0,{"class":e,opacity:0},true,"center","center");this._toolTipElement={box:k,txt:g,sidx:o,gidx:r,iidx:i};this._animate(k,[{key:"fill-opacity",from:0,to:0.8}],200);this._animate(g,[{key:"opacity",from:0,to:1}],500)},_hideToolTip:function(){if(!this._toolTipElement){return}this.renderer.removeElement(this._toolTipElement.box);this.renderer.removeElement(this._toolTipElement.txt);this._toolTipElement=undefined},_showLabel:function(r,n,c,j,f,k,g){var p=this.seriesGroups[r];var b=p.series[n];var i={width:0,height:0};if(!b.showLabels&&!p.showLabels){return i}if(j.width<0||j.height<0){return i}var m=b.labelsAngle||p.labelsAngle||0;var o=b.labelOffset||p.labelAngle||{x:0,y:0};var e=b.labelClass||p.labelClass||this.toThemeProperty("jqx-chart-label-text",null);f=f||"center";k=k||"center";var q=this._getFormattedValue(r,n,c);var l=j.width;var d=j.height;if(l==0||d==0||g){i=this.renderer.measureText(q,m,{"class":e});if(g){return i}l=i.width;d=i.height}var s=this.renderer.text(q,j.x+o.x,j.y+o.y,l,d,m,{},m!=0,f,k);this.renderer.setAttrs(s,{"class":e});if(this._isVML){this.renderer.removeElement(s);this.renderer.getContainer()[0].appendChild(s)}},_getAnimProps:function(j,f){var e=this.seriesGroups[j];var c=e.series[f];var b=this.enableAnimations==true;if(e.enableAnimations){b=e.enableAnimations==true}if(c.enableAnimations){b=c.enableAnimations==true}var i=this.animationDuration;if(isNaN(i)){i=1000}var d=e.animationDuration;if(!isNaN(d)){i=d}var h=c.animationDuration;if(!isNaN(h)){i=h}if(i>5000){i=1000}return{enabled:b,duration:i}},_renderLineSeries:function(e,A){var r=this.seriesGroups[e];if(!r.series||r.series.length==0){return}var l=r.type.indexOf("area")!=-1;var w=r.type.indexOf("stacked")!=-1;var b=w&&r.type.indexOf("100")!=-1;var M=r.type.indexOf("spline")!=-1;var m=r.type.indexOf("step")!=-1;if(m&&M){return}var n=this._getDataLen(e);var K=A.width/n;var q=Math.round(A.width/K);var d=Math.round(n/q);var o=this._calcGroupOffsets(e,A);if(!o||o.xoffsets.length==0){return}var O=this._isPointSeriesOnly();for(var G=r.series.length-1;G>=0;G--){var H=this._getColors(e,G,undefined,this._getGroupGradientType(e));var N=r.series[G].opacity||r.opacity;if(!N||N<0||N>1){N=1}var t=r.series[G].lineWidth||r.lineWidth;if(!t||t=="auto"||isNaN(t)||t<1||t>15){t=l?2:3}var E=[];var z=-1;var j=0;var B=NaN;var p=NaN;var P=NaN;if(o.xoffsets.length<1){continue}var C=this._getAnimProps(e,G);var y=C.enabled&&o.xoffsets.length<5000&&this._isVML!=true?C.duration:0;var D=o.xoffsets.itemWidth/2;if(O){D=0}for(var L=o.xoffsets.first;L<=o.xoffsets.last;L++){var F=o.xoffsets.data[L]+D;if(F==undefined){continue}var h=o.offsets[G][L].to;if(!l&&b){if(h<=A.y){h=A.y+1}if(h>=A.y+A.height){h=A.y+A.height-1}}F=Math.max(F,1);j=F;if(m&&!isNaN(B)&&!isNaN(p)){if(p!=h){E.push({x:a.jqx._ptrnd(A.x+j),y:a.jqx._ptrnd(p)})}}E.push({x:a.jqx._ptrnd(A.x+j),y:a.jqx._ptrnd(h)});B=j;p=h;if(isNaN(P)){P=h}this._showLabel(e,G,L,{x:a.jqx._ptrnd(A.x+j),y:a.jqx._ptrnd(h),width:0,height:0})}var f=o.xoffsets.data[o.xoffsets.first];if(f>0){f+=o.xoffsets.itemWidth/2}var I=o.xoffsets.data[o.xoffsets.last];if(Math.abs(I+o.xoffsets.itemWidth-A.width)<2){I=A.width}else{I+=o.xoffsets.itemWidth/2}f=a.jqx._ptrnd(A.x+f);I=a.jqx._ptrnd(A.x+I);var g=o.baseOffset;P=a.jqx._ptrnd(P);var c=a.jqx._ptrnd(h);var v=this._calculateLine(E,g,y==0?1:0,l);v=this._buildLineCmd(v,f,I,P,c,g,l,M&&E.length>3);var J=this.renderer.path(v,{"stroke-width":t,stroke:H.lineColor,"fill-opacity":N,fill:l?H.fillColor:"none"});this._installHandlers(J,e,G);if(y>0){var u={pointsArray:E,left:f,right:I,pyStart:P,pyEnd:c,yBase:g,isArea:l,isSpline:M};var k=this;this._animate(J,undefined,y,function(x,i,Q){var R=k._calculateLine(i.pointsArray,i.yBase,Q,i.isArea);var s=i.pointsArray.length;if(!i.isArea){s=Math.round(s*Q)}R=k._buildLineCmd(R,i.left,i.right,i.pyStart,i.pyEnd,i.yBase,i.isArea,s>3&&i.isSpline);k.renderer.setAttrs(x,{d:R})},u)}}},_calculateLine:function(h,d,e,g){var f="";var c=h.length;if(!g){c=Math.round(c*e)}for(var b=0;b<c;b++){if(b>0){f+=" "}var j=h[b].y;if(g){j=a.jqx._ptrnd((j-d)*e+d)}f+=h[b].x+","+j}return f},_buildLineCmd:function(k,g,o,n,b,p,m,d){var f=k;if(d){f=this._getBezierPoints(k)}var l=f.split(" ");var j=l[0].replace("C","");if(m){var e=g+","+n;var h=o+","+b;var c=g+","+p;var i=o+","+p;f="M "+c+" L "+j+(d?"":("L "+j+" "))+f+(d?(" L"+i+" M "+i):(" "+i+" "+c))}else{if(d){f="M "+j+" "+f}else{f="M "+j+" L "+j+" "+f}}return f},_getColors:function(n,k,h,e){var l=this.seriesGroups[n];if(l.type!="pie"){h=undefined}var i=l.series[k].useGradient||l.useGradient;if(i==undefined){i=true}var g;if(!isNaN(h)){var d=this._getDataLen(n);g=this._getColor(l.series[k].colorScheme||l.colorScheme||this.colorScheme,k*d+h)}else{g=this._getSeriesColor(n,k)}var m=a.jqx._adjustColor(g,1.1);var j=a.jqx._adjustColor(g,0.9);var f=a.jqx._adjustColor(m,0.9);var b=g;var c=m;if(i){if(e=="verticalLinearGradient"){b=this.renderer._toLinearGradient(g,true,[[0,1],[100,1.5]]);c=this.renderer._toLinearGradient(m,true,[[0,1],[100,1.5]])}else{if(e=="horizontalLinearGradient"){b=this.renderer._toLinearGradient(g,false,[[0,1],[25,1.1],[50,1.5],[100,1]]);c=this.renderer._toLinearGradient(m,false,[[0,1],[25,1.1],[50,1.5],[100,1]])}}}return{baseColor:g,fillColor:b,lineColor:j,fillSelected:c,lineSelected:f}},_installHandlers:function(d,j,i,c){var b=this;var h=this.seriesGroups[j];var e=this.seriesGroups[j].series[i];var f=h.type.indexOf("line")!=-1||h.type.indexOf("area")!=-1;if(!f){this.renderer.addHandler(d,"mousemove",function(g){g.preventDefault();b._startTooltipTimer(j,i,c)})}this.renderer.addHandler(d,"mouseover",function(g){g.preventDefault();b._select(d,j,i,c);if(f){return}if(isNaN(c)){return}b._raiseEvent("mouseover",h,e,c)});this.renderer.addHandler(d,"mouseout",function(g){g.preventDefault();if(c!=undefined){b._cancelTooltipTimer()}if(f){return}b._unselect();if(isNaN(c)){return}b._raiseEvent("mouseout",h,e,c)});this.renderer.addHandler(d,"click",function(g){g.preventDefault();if(f){return}if(h.type.indexOf("column")!=-1){b._unselect()}if(isNaN(c)){return}b._raiseEvent("click",h,e,c)})},_getHorizontalOffset:function(n,k,h){var j=this._plotRect;var e=this._getDataLen(n);if(e==0){return{index:undefined,x:k}}var m=this._calcGroupOffsets(n,this._plotRect);if(m.xoffsets.length==0){return{index:undefined,x:undefined}}k-=j.x;var b=m.xoffsets.itemWidth/2;if(this._isPointSeriesOnly()){b=0}var g=m.xoffsets.first;var l=m.xoffsets.last;if(k<=m.xoffsets.data[g]){return{index:g,x:m.xoffsets.data[g]+b}}if(k>=m.xoffsets.data[l]){return{index:l,x:m.xoffsets.data[l]+b}}for(var f=g;f<l;f++){var d=m.xoffsets.data[f];var c=m.xoffsets.data[f+1];if(k>d&&k<d+(c-d)/2){return{index:f,x:d+b}}if(k>d+(c-d)/2&&k<c){return{index:Math.min(f+1,l),x:c+b}}}return{index:undefined,x:undefined}},onmousemove:function(l,j){this._mouseX=l;this._mouseY=j;this._hideToolTip();if(!this._selected){return}var k=this._plotRect;var b=this._paddedRect;if(l<b.x||l>b.x+b.width||j<b.y||j>b.y+b.height){this._unselect();return}var n=this._selected.group;var f=this.seriesGroups[n];var p=f.series[this._selected.series];var h=this.seriesGroups[n].type;var k=this._plotRect;if(h.indexOf("line")!=-1||h.indexOf("area")!=-1){var d=this._getHorizontalOffset(n,l,j);var e=d.index;if(e==undefined){return}if(this._selected.item!=e){if(this._selected.item){this._raiseEvent("mouseout",f,p,this._selected.item)}this._selected.item=e;this._raiseEvent("mouseover",f,p,e)}var m=this._calcGroupOffsets(n,k);j=m.offsets[this._selected.series][e].to;l=d.x;j=a.jqx._ptrnd(j);l=a.jqx._ptrnd(k.x+l);if(l<b.x||l>b.x+b.width&&this._pointMarker){this.renderer.removeElement(this._pointMarker);this._pointMarker=undefined;return}l+=1;j-=1;if(!this._pointMarker){this._pointMarker=this.renderer.circle(l,j,4);this._plotGroup.appendChild(this._pointMarker)}var c=this._getSeriesColor(this._selected.group,this._selected.series);var o=a.jqx._adjustColor(c,0.7);this.renderer.setAttrs(this._pointMarker,{fill:c,stroke:o,opacity:1});this.renderer.setAttrs(this._pointMarker,{cx:l,cy:j});this._startTooltipTimer(n,this._selected.series,e)}},_startTooltipTimer:function(h,f,d){this._cancelTooltipTimer();var b=this;var e=b.seriesGroups[h];var c=this.toolTipDelay;if(isNaN(c)||c>10000||c<0){c=500}this._tttimer=setTimeout(function(){b._showToolTip(b._mouseX,b._mouseY-3,h,f,d);b._tttimer=setTimeout(function(){b._hideToolTip()},4000)},c)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(c){var b=this.seriesGroups[c];if(b.type.indexOf("area")!=-1){return"verticalLinearGradient"}else{if(b.type.indexOf("column")!=-1){return"horizontalLinearGradient"}else{if(b.type.indexOf("scatter")!=-1||b.type.indexOf("bubble")!=-1){return"radialGradient"}}}return undefined},_select:function(d,h,f,c){if(this._selected&&this._selected.element!=d){this._unselect()}this._selected={element:d,group:h,series:f,item:c};var e=this.seriesGroups[h];var b=this._getColors(h,f,c,this._getGroupGradientType(h));if(e.type.indexOf("line")!=-1&&e.type.indexOf("area")==-1){b.fillSelected="none"}this.renderer.setAttrs(d,{stroke:b.lineSelected,fill:b.fillSelected})},_unselect:function(){if(this._selected){var h=this._selected.group;var f=this._selected.series;var c=this._selected.item;var e=this.seriesGroups[h];var d=e.series[f];var b=this._getColors(h,f,c,this._getGroupGradientType(h));if(e.type.indexOf("line")!=-1&&e.type.indexOf("area")==-1){b.fillColor="none"}this.renderer.setAttrs(this._selected.element,{stroke:b.lineColor,fill:b.fillColor});if(e.type.indexOf("line")!=-1||e.type.indexOf("area")!=-1&&!isNaN(c)){this._raiseEvent("mouseout",e,d,c)}this._selected=undefined}if(this._pointMarker){this.renderer.removeElement(this._pointMarker);this._pointMarker=undefined}},_raiseEvent:function(e,f,d,b){var c=d[e]||f[e];var g=0;for(;g<this.seriesGroups.length;g++){if(this.seriesGroups[g]==f){break}}if(g==this.seriesGroups.length){return}if(c&&a.isFunction(c)){c({event:e,seriesGroup:f,serie:d,elementIndex:b,elementValue:this._getDataValue(b,d.dataField,g)})}},_calcGroupOffsets:function(f,b){var n=this.seriesGroups[f];if(!n.series||n.series.length==0){return}if(!this._renderData){this._renderData=new Array()}while(this._renderData.length<f+1){this._renderData.push(null)}if(this._renderData[f]!=null){return this._renderData[f]}var z=new Array();var o=n.type.indexOf("stacked")!=-1;var d=o&&n.type.indexOf("100")!=-1;var l=this._getDataLen(f);var B=n.baselineValue||0;var C=this._stats.seriesGroups[f];if(!C||!C.isValid){return}if(B>C.max){B=C.max}if(B<C.min){B=C.min}var u=d?C.maxRange:C.max-C.min;var D=b.height/u;var e=0;if(d){if(C.min*C.max<0){u/=2;e=b.y+b.height-(u+B)*D}else{e=b.y+b.height-B*D}}else{e=b.y+b.height-(B-C.min)*D}var s=new Array();var c=new Array();e=a.jqx._ptrnd(e);var g=(C.min*C.max<0)?b.height/2:b.height;for(var w=0;w<n.series.length;w++){z.push(new Array());for(var x=0;x<l;x++){var E=this._getDataValueAsNumber(x,n.series[w].dataField,f);if(isNaN(E)){continue}if(E>C.rmax){E=C.rmax}if(E<C.rmin){E=C.rmin}var m=(E>B)?s:c;var A=D*(E-B);var r=e;if(o){if(d){var p=(C.psums[x]-C.nsums[x]);if(E>B){A=(C.psums[x]/p)*g;if(C.psums[x]!=0){A*=E/C.psums[x]}}else{A=(C.nsums[x]/p)*g;if(C.nsums[x]!=0){A*=E/C.nsums[x]}}}if(isNaN(m[x])){m[x]=e}r=m[x]}A=Math.abs(A);A=this._isVML?Math.round(A):a.jqx._rup(A);if(w==n.series.length-1&&d){var q=0;for(var v=0;v<w;v++){q+=Math.abs(z[v][x].to-z[v][x].from)}q+=A;if(q<g){if(A>0.5){A=a.jqx._ptrnd(A+g-q)}else{var v=w-1;while(v>=0){var t=Math.abs(z[v][x].to-z[v][x].from);if(t>1){if(z[v][x].from>z[v][x].to){z[v][x].from+=g-q}break}v--}}}}if(E<B){m[x]+=A;z[w].push({from:r+1,to:r+A})}else{m[x]-=A;z[w].push({from:r,to:r-A})}}}var A=D*Math.max(C.min,B);this._renderData[f]={baseOffset:e,offsets:z};this._renderData[f].xoffsets=this._calculateXOffsets(f,b);return this._renderData[f]},_isPointSeriesOnly:function(){for(var b=0;b<this.seriesGroups.length;b++){var c=this.seriesGroups[b];if(c.type.indexOf("line")==-1&&c.type.indexOf("area")==-1){return false}}return true},_calculateXOffsets:function(s,o){var d=this._getCategoryAxis(s);var l=new Array();var c=this._getDataLen(s);var m=this._castAsNumber(d.minValue);var b=this._castAsNumber(d.maxValue);var f=m,n=b;if(isNaN(f)||isNaN(n)){for(var g=0;g<c;g++){var q=this._getDataValue(g,d.dataField,s);q=this._castAsNumber(q);if(isNaN(q)){continue}if(q<f||isNaN(f)){f=q}if(q>n||isNaN(n)){n=q}}}f=m||f;n=b||n;var e=(d.maxValue!=undefined)||(d.minValue!=undefined);if(e&&(isNaN(n)||isNaN(f))){e=false;throw"Invalid min/max category values"}if(!e){f=0;n=c}var j=e?n-f+1:n-f;if(this._isPointSeriesOnly()){j--}if(j==0){j=1}var k=this._plotRect.width/j;var h=-1,r=-1;for(var g=0;g<c;g++){if(!e){l.push(a.jqx._ptrnd((g-f)/j*o.width));if(h==-1){h=g}if(r==-1||r<g){r=g}continue}var q=this._getDataValue(g,d.dataField,s);q=this._castAsNumber(q);if(isNaN(q)||q<f||q>n){l.push(-1);continue}var p=a.jqx._ptrnd((q-f)/j*this._plotRect.width);l.push(p);if(h==-1){h=g}if(r==-1||r<g){r=g}}return{data:l,first:h,last:r,length:r==-1?0:r-h+1,itemWidth:k,rangeLength:j,min:f,max:n,customRange:e}},_getCategoryAxis:function(b){if(b==undefined||this.seriesGroups.length<=b){return this.categoryAxis}return this.seriesGroups[b].categoryAxis||this.categoryAxis},_getSeriesColor:function(l,c){var e=this.seriesGroups[l];var m=e.series[c];if(m.color){return m.color}var k=0;for(var d=0;d<=l;d++){for(var b in this.seriesGroups[d].series){if(d==l&&b==c){break}else{k++}}}var h=this.colorScheme;if(e.colorScheme){h=e.colorScheme;sidex=c}if(h){for(var d=0;d<this.colorSchemes.length;d++){var f=this.colorSchemes[d];if(f.name==h){while(k>f.colors.length){k-=f.colors.length;if(++d>=this.colorSchemes.length){d=0}f=this.colorSchemes[d]}return f.colors[k%f.colors.length]}}}return"#222222"},_getColor:function(c,e){for(var f=0;f<this.colorSchemes.length;f++){if(c==this.colorSchemes[f].name){break}}var d=0;while(d<=e){if(f==this.colorSchemes.length){f=0}var b=this.colorSchemes[f].colors.length;if(d+b<=e){d+=b;f++}else{return this.colorSchemes[f].colors[e-d]}}},colorSchemes:[{name:"scheme01",colors:["#4572A7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#2F2933","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]}],_formatValue:function(c,f,b){if(c==undefined){return""}if(this._isObject(c)&&!b){return""}if(b){if(!a.isFunction(b)){return c.toString()}try{return b(c)}catch(d){return d.message}}if(this._isNumber(c)){return this._formatNumber(c,f)}if(this._isDate(c)){return this._formatDate(c,f)}return c.toString()},_getFormattedValue:function(k,e,b,c,d){var h=this.seriesGroups[k];var m=h.series[e];var l="";var f=c,i=d;if(!i){i=m.formatFunction||h.formatFunction}if(!f){f=m.formatSettings||h.formatSettings}if(!m.formatFunction&&m.formatSettings){i=undefined}var j=this._getDataValue(b,m.dataField,k);if(j){l=this._formatValue(j,f,i)}return l||""},_castAsNumber:function(c){if(c instanceof Date&&!isNaN(c)){return c.valueOf()}if(typeof(c)=="string"){var b=new Date(c);if(b instanceof Date&&!isNaN(b)){c=b.valueOf()}else{c=parseFloat(c)}}return c},_isNumber:function(b){if(typeof(b)=="string"){if(b.indexOf(":")!=-1||b.indexOf("/")!=-1||b.indexOf("-")>0){return false}b=parseFloat(b)}return typeof b==="number"&&isFinite(b)},_isDate:function(b){return b instanceof Date},_isBoolean:function(b){return typeof b==="boolean"},_isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},_formatDate:function(c,b){return c.toString()},_formatNumber:function(n,e){if(!this._isNumber(n)){return n}e=e||{};var q=e.decimalSeparator||".";var o=e.thousandsSeparator||"";var m=e.prefix||"";var p=e.sufix||"";var h=e.decimalPlaces||((n*100!=parseInt(n)*100)?2:0);var l=e.negativeWithBrackets||false;var g=(n<0);if(g&&l){n*=-1}var d=n.toString();var b;var k=Math.pow(10,h);d=(Math.round(n*k)/k).toString();if(isNaN(d)){d=""}b=d.lastIndexOf(".");if(h>0){if(b<0){d+=q;b=d.length-1}else{if(q!=="."){d=d.replace(".",q)}}while((d.length-1-b)<h){d+="0"}}b=d.lastIndexOf(q);b=(b>-1)?b:d.length;var f=d.substring(b);var c=0;for(var j=b;j>0;j--,c++){if((c%3===0)&&(j!==b)&&(!g||(j>1)||(g&&l))){f=o+f}f=d.charAt(j-1)+f}d=f;if(g&&l){d="("+d+")"}return m+d+p},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:false},_getBezierPoints:function(e){var h=[];var f=e.split(" ");for(var d=0;d<f.length;d++){var j=f[d].split(",");h.push({x:parseFloat(j[0]),y:parseFloat(j[1])})}var k="";for(var d=0;d<h.length-1;d++){var b=[];if(0==d){b.push(h[d]);b.push(h[d]);b.push(h[d+1]);b.push(h[d+2])}else{if(h.length-2==d){b.push(h[d-1]);b.push(h[d]);b.push(h[d+1]);b.push(h[d+1])}else{b.push(h[d-1]);b.push(h[d]);b.push(h[d+1]);b.push(h[d+2])}}var c=[];var g=9;c.push({x:b[1].x,y:b[1].y});c.push({x:((-b[0].x+g*b[1].x+b[2].x)/g),y:((-b[0].y+g*b[1].y+b[2].y)/g)});c.push({x:((b[1].x+g*b[2].x-b[3].x)/g),y:((b[1].y+g*b[2].y-b[3].y)/g)});c.push({x:b[2].x,y:b[2].y});k+="C"+a.jqx._ptrnd(c[1].x)+","+a.jqx._ptrnd(c[1].y)+" "+a.jqx._ptrnd(c[2].x)+","+a.jqx._ptrnd(c[2].y)+" "+a.jqx._ptrnd(c[3].x)+","+a.jqx._ptrnd(c[3].y)+" "}return k},_animTickInt:50,_animate:function(d,c,f,e,b,h){if(!this._animList){this._animList=[];this._animTicks=0}var g=this._animTicks+Math.round(f/this._animTickInt);if(h==undefined){h="easeInOutSine"}this._animList.push({key:d,properties:c,startTick:this._animTicks,endTick:g,fn:e,context:b,easing:h});this._enableAnimTimer()},_enableAnimTimer:function(){if(!this._animtimer){var b=this;this._animtimer=setTimeout(function(){b._runAnimation()},this._animTickInt)}},_runAnimation:function(){if(this._animList){this._animTicks++;var m=[];for(var k=0;k<this._animList.length;k++){var n=this._animList[k];if(n.endTick>this._animTicks){m.push(n)}var b=(this._animTicks-n.startTick)*this._animTickInt;var e=(n.endTick-n.startTick)*this._animTickInt;var l=b/e;var d=l;if(n.easing){d=jQuery.easing[n.easing](l,b,0,1,e)}if(l>1){l=1}if(n.fn){n.fn(n.key,n.context,d);continue}var g={};for(var h=0;h<n.properties.length;h++){var c=n.properties[h];var f=0;if(l==1){f=c.to}else{f=d*(c.to-c.from)+c.from}g[c.key]=f}this.renderer.setAttrs(n.key,g)}this._animList=m}this._animtimer=null;this._enableAnimTimer()}});a.jqx._adjustColor=function(d,b){var e=a.jqx.cssToRgb(d);var d="#";for(var f=0;f<3;f++){var g=Math.round(b*e[f]);if(g>255){g=255}else{if(g<=0){g=0}}g=a.jqx.decToHex(g);if(g.toString().length==1){d+="0"}d+=g}return d.toUpperCase()};a.jqx.decToHex=function(b){return b.toString(16)},a.jqx.hexToDec=function(b){return parseInt(b,16)};a.jqx.rgbToHex=function(e,d,c){return[a.jqx.decToHex(e),a.jqx.decToHex(d),a.jqx.decToHex(c)]};a.jqx.hexToRgb=function(c,d,b){return[a.jqx.hexToDec(c),a.jqx.hexToDec(d),a.jqx.hexToDec(b)]};a.jqx.cssToRgb=function(b){if(b.indexOf("rgb")<=-1){return a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7))}return b.substring(4,b.length-1).split(",")};a.jqx._ptrnd=function(c){if(!document.createElementNS){if(Math.round(c)==c){return c}return a.jqx._rnd(c,1,false)}if(Math.abs(Math.round(c)-c)==0.5){return c}var b=a.jqx._rnd(c,1,false);return b-0.5;var b=a.jqx._rnd(c,1,false);if(!document.createElementNS){return b}return b-0.5};a.jqx._rup=function(c){var b=Math.round(c);if(c>b){b++}return b};a.jqx._rnd=function(c,e,d){if(isNaN(c)){return c}var b=c-c%e;if(c==b){return b}if(d){if(c>b){b+=e}}else{if(b>c){b-=e}}return b};a.jqx.svgRenderer=function(){};a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(f){var d="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td class='chartContainer'></td></tr></table>";f.append(d);this.host=f;var b=f.find(".chartContainer");b[0].style.width=f.width()+"px";b[0].style.height=f.height()+"px";var h;try{var c=document.createElementNS(this._svgns,"svg");c.setAttribute("id","svgChart");c.setAttribute("version","1.1");c.setAttribute("width","100%");c.setAttribute("height","100%");b[0].appendChild(c);this.canvas=c}catch(g){return false}this._id=new Date().getTime();this.clear();this._layout();this._runLayoutFix();return true},_runLayoutFix:function(){var b=this;this._fixLayout()},_fixLayout:function(){var g=a(this.canvas).position();var d=(parseFloat(g.left)==parseInt(g.left));var b=(parseFloat(g.top)==parseInt(g.top));if(a.browser.msie){var d=true,b=true;var e=this.host;var c=0,f=0;while(e&&e.position&&e[0].parentNode){var h=e.position();c+=parseFloat(h.left)-parseInt(h.left);f+=parseFloat(h.top)-parseInt(h.top);e=e.parent()}d=parseFloat(c)==parseInt(c);b=parseFloat(f)==parseInt(f)}if(!d){this.host.find("#tdLeft")[0].style.width="0.5px"}if(!b){this.host.find("#tdTop")[0].style.height="0.5px"}},_layout:function(){var c=a(this.canvas).offset();var b=this.host.find(".chartContainer");this._width=Math.max(a.jqx._rup(this.host.width())-1,0);this._height=Math.max(a.jqx._rup(this.host.height())-1,0);b[0].style.width=this._width;b[0].style.height=this._height;this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var b=this.host.find(".chartContainer");return b},clear:function(){while(this.canvas.childElementCount>0){this.canvas.removeChild(this.canvas.firstElementChild)}this._defs=document.createElementNS(this._svgns,"defs");this._gradients={};this.canvas.appendChild(this._defs)},removeElement:function(c){if(c!=undefined){try{if(c.parentNode){c.parentNode.removeChild(c)}else{this.canvas.removeChild(c)}}catch(b){}}},_openGroups:[],beginGroup:function(){var b=this._activeParent();var c=document.createElementNS(this._svgns,"g");b.appendChild(c);this._openGroups.push(c);return c},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(d){var e=document.createElementNS(this._svgns,"clipPath");var b=document.createElementNS(this._svgns,"rect");this.setAttrs(b,{x:d.x,y:d.y,width:d.width,height:d.height});this._clipId=this._clipId||0;e.id="cl"+this._id+"_"+(++this._clipId).toString();e.appendChild(b);this._defs.appendChild(e);return e},setClip:function(c,b){return this.setAttr(c,"clip-path","url(#"+b.id+")")},_clipId:0,addHandler:function(b,d,c){b["on"+d]=c},shape:function(b,e){var c=document.createElementNS(this._svgns,b);if(!c){return undefined}for(var d in e){c.setAttribute(d,e[d])}this._activeParent().appendChild(c);return c},measureText:function(k,c,d){var f=document.createElementNS(this._svgns,"text");this.setAttrs(f,d);f.appendChild(f.ownerDocument.createTextNode(k));var j=this._activeParent();j.appendChild(f);var l=f.getBBox();var g=a.jqx._rup(l.width);var b=a.jqx._rup(l.height);j.removeChild(f);if(c==0){return{width:g,height:b}}var h=c*Math.PI*2/360;var e=Math.abs(g*Math.sin(h)-b*Math.cos(h));var i=Math.abs(g*Math.cos(h)+b*Math.sin(h));return{width:a.jqx._rup(i),height:a.jqx._rup(e)}},text:function(o,l,k,s,q,z,B,A,n,g){var r;if(!n){n="center"}if(!g){g="center"}if(A){r=this.beginGroup();var e=this.createClipRect({x:a.jqx._rup(l),y:a.jqx._rup(k),width:a.jqx._rup(s),height:a.jqx._rup(q)});this.setClip(r,e)}var p=document.createElementNS(this._svgns,"text");this.setAttrs(p,B);p.appendChild(p.ownerDocument.createTextNode(o));var j=this._activeParent();j.appendChild(p);var b=p.getBBox();j.removeChild(p);var C=b.width;var i=b.height*0.6;var m=s||0;var u=q||0;if(!z||z==0){if(n=="center"){l+=(m-C)/2}else{if(n=="right"){l+=(m-C)}}k+=i;if(g=="center"){k+=(u-i)/2}else{if(g=="bottom"){k+=u-i}}if(!s){s=C}if(!q){q=i}this.setAttrs(p,{x:a.jqx._rup(l),y:a.jqx._rup(k),width:a.jqx._rup(s),height:a.jqx._rup(q),cursor:"default"});j.appendChild(p);this.endGroup();return p}var f=z*Math.PI*2/360;var d=Math.abs(C*Math.sin(f)-i*Math.cos(f));var v=Math.abs(C*Math.cos(f)+i*Math.sin(f));if(n=="center"){l+=(m-v)/2}else{if(n=="right"){l+=(m-v)}}if(g=="center"){k=k+(u-d)/2}else{if(g=="bottom"){k=k+u-d}}if(z<0){k+=d}l+=v;l=a.jqx._rup(l);k=a.jqx._rup(k);var t=this.shape("g",{transform:"translate("+l+","+k+")"});var c=this.shape("g",{transform:"rotate("+z+")"});t.appendChild(c);c.appendChild(p);j.appendChild(t);this.endGroup();return t},line:function(d,f,c,e,g){var b=this.shape("line",{x1:d,y1:f,x2:c,y2:e});this.setAttrs(b,g)},path:function(c,d){var b=this.shape("path");b.setAttribute("d",c);if(d){this.setAttrs(b,d)}return b},rect:function(b,g,c,e,f){b=a.jqx._ptrnd(b);g=a.jqx._ptrnd(g);c=a.jqx._rup(c);e=a.jqx._rup(e);var d=this.shape("rect",{x:b,y:g,width:c,height:e});if(f){this.setAttrs(d,f)}return d},circle:function(b,d,c){return this.shape("circle",{cx:b,cy:d,r:c})},_getPieSlicePath:function(p,m,b,j,f,n){if(!b){b=1}var q=Math.abs(j-f);var k=q>180?1:0;if(q>360){j=0;f=360}var d=j*Math.PI*2/360;var i=f*Math.PI*2/360;if(n!=0){var g=q/2+j;var h=g*Math.PI*2/360;offsetX=n*Math.cos(h);offsetY=n*Math.sin(h);p+=offsetX;m-=offsetY}var e=p+b*Math.cos(d);var c=p+b*Math.cos(i);var o=m-b*Math.sin(d);var l=m-b*Math.sin(i);var s="M "+c+","+l;s+="  "+c+","+l+" a"+b+","+b;s+=" 0 "+k+",1 "+(e-c)+","+(o-l);s+=" L"+p+","+m+" Z";return s},pieslice:function(i,g,b,e,c,h,d){var f=this._getPieSlicePath(i,g,b,c,h);var j=this.shape("path");j.setAttribute("d",f);if(d){this.setAttrs(j,d)}return j},setAttrs:function(b,d){if(!b||!d){return}for(var c in d){b.setAttribute(c,d[c])}},setAttr:function(c,b,d){if(!c){return}c.setAttribute(b,d)},getAttr:function(c,b){return c.getAttribute(b)},_gradients:{},_toLinearGradient:function(e,g,h){var c="grd"+e.replace("#","")+(g?"v":"h");var b="url(#"+c+")";if(this._gradients[b]){return b}var d=document.createElementNS(this._svgns,"linearGradient");this.setAttrs(d,{x1:"0%",y1:"0%",x2:g?"0%":"100%",y2:g?"100%":"0%",id:c});for(var f in h){var j=document.createElementNS(this._svgns,"stop");var i="stop-color:"+a.jqx._adjustColor(e,h[f][1]);this.setAttrs(j,{offset:h[f][0]+"%",style:i});d.appendChild(j)}this._defs.appendChild(d);this._gradients[b]=true;return b}};a.jqx.vmlRenderer=function(){};a.jqx.vmlRenderer.prototype={init:function(e){var d="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";e.append(d);this.host=e;var b=e.find(".chartContainer");b[0].style.width=e.width()+"px";b[0].style.height=e.height()+"px";if(a.browser.msie&&parseInt(a.browser.version)<9&&(document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1)){var c=true;if(document.namespaces.length>0){if(document.namespaces[0].name=="v"&&document.namespaces[0].urn=="urn:schemas-microsoft-com:vml"){c=false}}if(c){document.namespaces.add("v","urn:schemas-microsoft-com:vml")}this._ie8mode=true}else{var c=true;if(document.namespaces.length>0){if(document.namespaces[0].name=="v"&&document.namespaces[0].urn=="urn:schemas-microsoft-com:vml"){c=false}}if(c){document.namespaces.add("v","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"}}this.canvas=b[0];this._width=Math.max(a.jqx._rup(b.width()),0);this._height=Math.max(a.jqx._rup(b.height()),0);b[0].style.width=this._width+2;b[0].style.height=this._height+2;this._id=new Date().getTime();this.clear();return true},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var b=this.host.find(".chartContainer");return b},clear:function(){while(this.canvas.childElementCount>0){this.canvas.removeChild(this.canvas.firstElementChild)}this._gradients={}},removeElement:function(b){if(b!=null){b.parentNode.removeChild(b)}},_openGroups:[],beginGroup:function(){var b=this._activeParent();var c=document.createElement("v:group");c.style.position="absolute";c.coordorigin="0,0";c.coordsize=this._width+","+this._height;c.style.left=0;c.style.top=0;c.style.width=this._width;c.style.height=this._height;b.appendChild(c);this._openGroups.push(c);return c},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(b){var c=document.createElement("div");c.style.height=b.height+"px";c.style.width=b.width+"px";c.style.position="absolute";c.style.left=b.x+"px";c.style.top=b.y+"px";c.style.overflow="hidden";this._clipId=this._clipId||0;c.id="cl"+this._id+"_"+(++this._clipId).toString();this._activeParent().appendChild(c);return c},setClip:function(c,b){b.appendChild(c)},_clipId:0,addHandler:function(b,d,c){a(b).bind(d,c)},measureText:function(m,c,d){var e=document.createElement("v:textbox");var k=document.createElement("span");k.appendChild(document.createTextNode(m));e.appendChild(k);if(d["class"]){k.className=d["class"]}var l=this._activeParent();l.appendChild(e);var g=a(e);var h=a.jqx._rup(g.width());var b=a.jqx._rup(g.height());l.removeChild(e);if(b==0&&a.browser.msie&&parseInt(a.browser.version)<9){var n=g.css("font-size");if(n){b=parseInt(n);if(isNaN(b)){b=0}}}if(c==0){return{width:h,height:b}}var i=c*Math.PI*2/360;var f=Math.abs(h*Math.sin(i)-b*Math.cos(i));var j=Math.abs(h*Math.cos(i)+b*Math.sin(i));return{width:a.jqx._rup(j),height:a.jqx._rup(f)}},text:function(o,l,k,r,p,A,C,B,n,g){var s=C.stroke||"black";var q;if(!n){n="center"}if(!g){g="center"}B=false;if(B){q=this.beginGroup();var e=this.createClipRect({x:a.jqx._rup(l),y:a.jqx._rup(k),width:a.jqx._rup(r),height:a.jqx._rup(p)});this.setClip(q,e)}var b=document.createElement("v:textbox");b.style.position="absolute";var t=document.createElement("span");t.appendChild(document.createTextNode(o));if(C["class"]){t.className=C["class"]}b.appendChild(t);var j=this._activeParent();j.appendChild(b);var D=a(b).width();var i=a(b).height();j.removeChild(b);var m=r||0;var v=p||0;if(!A||A==0){if(n=="center"){l+=(m-D)/2}else{if(n=="right"){l+=(m-D)}}if(g=="center"){k=k+(v-i)/2}else{if(g=="bottom"){k=k+v-i}}if(!r){r=D}if(!p){p=i}if(!q){b.style.left=a.jqx._rup(l);b.style.top=a.jqx._rup(k);b.style.width=a.jqx._rup(r);b.style.height=a.jqx._rup(p)}j.appendChild(b);if(q){this.endGroup();return j}return b}var f=A*Math.PI*2/360;var d=Math.abs(D*Math.sin(f)-i*Math.cos(f));var z=Math.abs(D*Math.cos(f)+i*Math.sin(f));if(n=="center"){l+=(m-z)/2}else{if(n=="right"){l+=(m-z)}}if(g=="center"){k=k+(v-d)/2}else{if(g=="bottom"){k=k+v-d}}l=a.jqx._rup(l);k=a.jqx._rup(k);var u=a.jqx._rup(l+z);var c=a.jqx._rup(k+d);if(Math.abs(A)==90){j.appendChild(b);b.style.left=a.jqx._rup(l);b.style.top=a.jqx._rup(k);b.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";if(q){this.endGroup();return j}return b}return line},shape:function(b,e){var c=document.createElement(this._createElementMarkup(b));if(!c){return undefined}for(var d in e){c.setAttribute(d,e[d])}this._activeParent().appendChild(c);return c},line:function(e,g,d,f,h){var b="M "+e+","+g+" L "+d+","+f+" X E";var c=this.path(b);this.setAttrs(c,h);return c},_createElementMarkup:function(b){var c="<v:"+b+' style=""></v:'+b+">";if(this._ie8mode){c=c.replace('style=""','style="behavior: url(#default#VML);"')}return c},path:function(c,e){var b=document.createElement(this._createElementMarkup("shape"));b.style.position="absolute";b.coordsize=this._width+" "+this._height;b.coordorigin="0 0";b.style.width=parseInt(this._width);b.style.height=parseInt(this._height);b.style.left=0;b.style.top=0;var d=document.createElement(this._createElementMarkup("path"));d.v=c;b.appendChild(d);this._activeParent().appendChild(b);if(e){this.setAttrs(b,e)}return b},rect:function(b,g,c,d,f){b=a.jqx._ptrnd(b);g=a.jqx._ptrnd(g);c=a.jqx._rup(c);d=a.jqx._rup(d);var e=this.shape("rect",f);e.style.position="absolute";e.style.left=b;e.style.top=g;e.style.width=c;e.style.height=d;e.strokeweight=0;return e},circle:function(b,e,d){var c=this.shape("oval");b=a.jqx._ptrnd(b-d);e=a.jqx._ptrnd(e-d);d=a.jqx._rup(d);c.style.position="absolute";c.style.left=b;c.style.top=e;c.style.width=d*2;c.style.height=d*2;return c},updateCircle:function(d,b,e,c){if(b==undefined){b=parseFloat(d.style.left)+parseFloat(d.style.width)/2}if(e==undefined){e=parseFloat(d.style.top)+parseFloat(d.style.height)/2}if(c==undefined){c=parseFloat(d.width)/2}b=a.jqx._ptrnd(b-c);e=a.jqx._ptrnd(e-c);c=a.jqx._rup(c);d.style.left=b;d.style.top=e;d.style.width=c*2;d.style.height=c*2},_getPieSlicePath:function(h,g,k,s,u,b){if(!k){k=1}var j=Math.abs(s-u);var m=j>180?1:0;if(j>360){s=0;u=360}var n=s*Math.PI*2/360;var f=u*Math.PI*2/360;if(b!=0){var i=j/2+s;var t=i*Math.PI*2/360;offsetX=b*Math.cos(t);offsetY=b*Math.sin(t);h+=offsetX;g-=offsetY}var p=a.jqx._ptrnd(h+k*Math.cos(n));var o=a.jqx._ptrnd(h+k*Math.cos(f));var d=a.jqx._ptrnd(g-k*Math.sin(n));var c=a.jqx._ptrnd(g-k*Math.sin(f));h=a.jqx._ptrnd(h);g=a.jqx._ptrnd(g);k=a.jqx._ptrnd(k);var e=Math.round(s*65535);var q=Math.round((u-s)*65536);var l="M"+h+" "+g;l+=" AE "+h+" "+g+" "+k+" "+k+" "+e+" "+q;l+=" X E";return l},pieslice:function(j,h,b,f,c,i,e){var g=this._getPieSlicePath(j,h,b,f,c,i);var d=this.path(g,e);if(e){this.setAttrs(d,e)}return d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"}],_translateParam:function(b){for(var c in this._keymap){if(this._keymap[c].svg==b){return this._keymap[c].vml}}return b},setAttrs:function(c,e){if(!c||!e){return}for(var d in e){var b=this._translateParam(d);if(b=="fillcolor"&&e[d].indexOf("grd")!=-1){c.type=e[d]}else{if(b=="opacity"||b=="fillopacity"){if(c.fill){c.fill.opacity=e[d]}}else{if(b.indexOf("style.")==-1){c[b]=e[d]}else{c.style[b.replace("style.","")]=e[d]}}}}},setAttr:function(d,c,e){var b=this._translateParam(c);d[b]=e},getAttr:function(d,c){var b=this._translateParam(c);if(b=="opacity"||b=="fillopacity"){if(d.fill){return d.fill.opacity}else{return 1}}if(b.indexOf("style.")==-1){return d[b]}return d.style[b.replace("style.","")]},_gradients:{},_toLinearGradient:function(g,i,j){if(this._ie8mode){return g}var d="grd"+g.replace("#","")+(i?"v":"h");var e="#"+d+"";if(this._gradients[e]){return e}var f=document.createElement(this._createElementMarkup("fill"));f.type="gradient";f.method="linear";f.angle=i?0:90;var c="";for(var h in j){if(h>0){c+=", "}c+=j[h][0]+"% "+a.jqx._adjustColor(g,j[h][1])}f.colors=c;var b=document.createElement(this._createElementMarkup("shapetype"));b.appendChild(f);b.id=d;this.canvas.appendChild(b);return e}}})(jQuery);(function(a){a.jqx.jqxWidget("jqxCheckBox","",{});a.extend(a.jqx._jqxCheckBox.prototype,{defineInstance:function(){this.animationShowDelay=300,this.animationHideDelay=300,this.width=null;this.height=null;this.boxSize="13px";this.checked=false;this.hasThreeStates=false;this.disabled=false;this.enableContainerClick=true;this.locked=false;this.groupName="";this.keyboardCheck=true;this.events=["checked","unchecked","indeterminate","change"]},createInstance:function(b){var d=this;this.setSize();this.propertyChangeMap.width=function(e,g,f,h){d.setSize()};this.propertyChangeMap.height=function(e,g,f,h){d.setSize()};this.checkbox=a("<div><div><span></span></div></div>");this.host.attr("tabIndex",0);this.host.prepend(this.checkbox);this.checkMark=a(this.checkbox).find("span");this.box=a(this.checkbox).find("div");this.box.addClass(this.toThemeProperty("jqx-checkbox-default"));this.box.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.box.addClass(this.toThemeProperty("jqx-rc-all"));if(this.disabled){this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled"))}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-checkbox"));if(this.locked){this.host.css("cursor","auto")}var c=this.element.getAttribute("checked");if(c=="checked"||c=="true"||c==true){this.checked=true}this._render();this._addHandlers()},refresh:function(b){if(!b){this.setSize();this._render()}},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}},_addHandlers:function(){var b=this;this.addHandler(this.box,"click",function(c){if(!b.disabled&&!b.enableContainerClick&&!b.locked){b.toggle();if(b.updated){c.owner=b;b.updated(c,b.checked)}c.preventDefault();return false}});this.addHandler(this.host,"keydown",function(c){if(!b.disabled&&!b.locked&&b.keyboardCheck){if(c.keyCode==32){b.toggle();c.preventDefault();return false}}});this.addHandler(this.host,"click",function(c){if(!b.disabled&&b.enableContainerClick&&!b.locked){b.toggle();c.preventDefault();return false}});this.addHandler(this.host,"selectstart",function(c){if(!b.disabled&&b.enableContainerClick){c.preventDefault();return false}});this.addHandler(this.host,"mouseup",function(c){if(!b.disabled&&b.enableContainerClick){c.preventDefault();return false}});this.addHandler(this.host,"focus",function(c){if(!b.disabled&&!b.locked){b.box.addClass(b.toThemeProperty("jqx-checkbox-hover"));b.box.addClass(b.toThemeProperty("jqx-fill-state-focus"));c.preventDefault();b.hovered=true;return false}});this.addHandler(this.host,"blur",function(c){if(!b.disabled&&!b.locked){b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover"));b.box.removeClass(b.toThemeProperty("jqx-fill-state-focus"));c.preventDefault();b.hovered=false;return false}});this.addHandler(this.host,"mouseenter",function(c){if(b.locked){b.host.css("cursor","arrow")}if(!b.disabled&&b.enableContainerClick&&!b.locked){b.box.addClass(b.toThemeProperty("jqx-checkbox-hover"));b.box.addClass(b.toThemeProperty("jqx-fill-state-hover"));c.preventDefault();b.hovered=true;return false}});this.addHandler(this.host,"mouseleave",function(c){if(!b.disabled&&b.enableContainerClick&&!b.locked){b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover"));b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover"));c.preventDefault();b.hovered=false;return false}});this.addHandler(this.box,"mouseenter",function(){if(b.locked){return}if(!b.disabled&&!b.enableContainerClick){b.box.addClass(b.toThemeProperty("jqx-checkbox-hover"));b.box.addClass(b.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.box,"mouseleave",function(){if(!b.disabled&&!b.enableContainerClick){b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover"));b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}})},_removeHandlers:function(){this.removeHandler(this.box,"click");this.removeHandler(this.box,"mouseenter");this.removeHandler(this.box,"mouseleave");this.removeHandler(this.host,"click");this.removeHandler(this.host,"mouseup");this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus")},_render:function(){if(this.boxSize==null){this.boxSize=13}this.box.width(this.boxSize);this.box.height(this.boxSize);this.checkMark.width(this.boxSize);this.checkMark.height(this.boxSize);if(!this.disabled){if(this.enableContainerClick){this.host.css("cursor","pointer")}else{this.host.css("cursor","auto")}}else{this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.updateStates()},check:function(){this.checked=true;var b=this;this.checkMark.removeClass();if(a.browser.msie){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}var c=a.find(this.toThemeProperty(".jqx-checkbox",true));if(this.groupName!=null&&this.groupName.length>0){a.each(c,function(){var d=a(this).jqxCheckBox("groupName");if(d==b.groupName&&this!=b.element){a(this).jqxCheckBox("uncheck")}})}this._raiseEvent("0",true);this._raiseEvent("3",{checked:true})},uncheck:function(){this.checked=false;var b=this;if(a.browser.msie){b.checkMark.removeClass()}else{this.checkMark.css("opacity",1);this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){b.checkMark.removeClass()})}this._raiseEvent("1");this._raiseEvent("3",{checked:false})},indeterminate:function(){this.checked=null;this.checkMark.removeClass();if(a.browser.msie){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}this._raiseEvent("2");this._raiseEvent("3",{checked:null})},toggle:function(){if(this.disabled){return}if(this.locked){return}if(this.groupName!=null&&this.groupName.length>0){if(this.checked!=true){this.checked=true;this.updateStates()}return}if(this.checked==true){this.checked=this.hasThreeStates?null:false}else{this.checked=this.checked!=null}this.updateStates()},updateStates:function(){if(this.checked){this.check()}else{if(this.checked==false){this.uncheck()}else{if(this.checked==null){this.indeterminate()}}}},disable:function(){this.checkMark.removeClass();this.disabled=true;if(this.checked==true){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled"))}else{if(this.checked==null){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"))}}},enable:function(){this.checkMark.removeClass();this.disabled=false},destroy:function(){this._removeHandlers();this.host.removeClass();this.host.remove()},_raiseEvent:function(g,e){var c=this.events[g];var f=new jQuery.Event(c);f.owner=this;f.args=e;try{var b=this.host.trigger(f)}catch(d){}return b},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c==b.enableContainerClick&&!b.disabled&&!b.locked){if(d){b.host.css("cursor","pointer")}else{b.host.css("cursor","auto")}}if(c=="theme"){a.jqx.utilities.setTheme(e,d,b.host)}if(c=="checked"){if(d!=e){switch(d){case true:b.check();break;case false:b.uncheck();break;case null:b.indeterminate();break}}}if(c=="disable"){if(d){b.disable()}else{b.enable()}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxListBox","",{});a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.multiple=false;this.selectedIndex=-1;this.selectedIndexes=new Array();this.source=null;this.scrollBarSize=15;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";this.checkboxes=false;this.hasThreeStates=false;this.autoHeight=false;this.roundedcorners=true;this.touchMode="auto";this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.events=["select","unselect","change","checkchange",]},createInstance:function(c){var b=this;this.host.addClass(this.toThemeProperty("jqx-listbox"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));var g=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);g=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);if(this.host.height()==0){this.host.height(200)}g=true}if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var d=a("<div tabIndex=0 style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div tabIndex=1 style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' tabIndex=2 style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this.host.attr("tabIndex",1);this.host.append(d);var f=this.host.find("#verticalScrollBar"+this.element.id);if(!f.jqxScrollBar){alert("jqxscrollbar.js is not loaded.");return}if(this.touchMode==true){a.jqx.mobile.setMobileSimulator(this.element)}this.vScrollBar=f.jqxScrollBar({vertical:true,theme:this.theme,touchMode:this.touchMode,largestep:parseInt(this.host.height())/2});var e=this.host.find("#horizontalScrollBar"+this.element.id);this.hScrollBar=e.jqxScrollBar({vertical:false,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#listBoxContent");this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","visible");this.hScrollBar.css("visibility","visible");this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;if(this.isTouchDevice()){a.jqx.mobile.touchScroll(this.content,b.vScrollInstance.max,function(l,k){if(b.vScrollBar.css("visibility")=="visible"){var h=b.vScrollInstance.value;b.vScrollInstance.setPosition(h+k);b._lastScroll=new Date()}if(b.hScrollBar.css("visibility")=="visible"){var h=b.hScrollInstance.value;b.hScrollInstance.setPosition(h+l);b._lastScroll=new Date()}})}this.host.addClass("jqx-disableselect");if(g){a(window).resize(function(){b._updateSize()})}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}return b},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this._render(false)},_updateSize:function(){var c=this;var d=c.host.width();var b=c.host.height();if(!c._oldWidth){c._oldWidth=d}if(!c._oldHeight){c._oldHeight=b}setTimeout(function(){if(d!=c._oldWidth){c._updatescrollbars();c._renderItems()}if(b!=c._oldHeight){if(c.items){if(c.items.length>0&&c.virtualItemsCount*c.items[0].height<b){c._render(false)}else{c._updatescrollbars();c._renderItems()}}}c._oldWidth=d;c._oldHeight=b},1)},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"||c=="scrollBarSize"||c=="equalItemsWidth"||c=="checkboxes"){b.clearSelection();b.refresh()}if(!this.updating){if(c=="width"||c=="height"){setTimeout(function(){b.vScrollInstance.value=0;if(c=="width"){if(e!=d){b.host.width(d);b._updatescrollbars();b._renderItems()}}else{if(e!=d){b.host.height(d);if(b.items){if(b.items.length>0&&b.virtualItemsCount*b.items[0].height<d){b._render(false)}else{b._updatescrollbars();b._renderItems()}}}}},1)}}if(c=="theme"){b.hScrollBar.jqxScrollBar({theme:b.theme});b.vScrollBar.jqxScrollBar({theme:b.theme});b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-listbox"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.host.addClass(b.toThemeProperty("jqx-reset"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.refresh()}if(c=="selectedIndex"){b.clearSelection();b.selectIndex(d,true)}if(c=="displayMember"||c=="valueMember"){b.refresh()}if(c=="autoHeight"){b._render()}},loadFromSelect:function(k){if(k==null){return}var c="#"+k;var f=a(c);if(f.length>0){var e=f.find("option");var b=f.find("optgroup");var d=0;var h=-1;var g=new Array();a.each(e,function(){var m=b.find(this).length>0;var o=null;if(this.text!=this.value&&(this.label==null||this.label=="")){this.label=this.text}var n={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};var l=a.browser.msie&&a.browser.version<8;if(l){if(n.value==""&&this.text!=null&&this.text.length>0){n.value=this.text}}if(m){o=b.find(this).parent()[0].label;n.group=o}if(this.selected){h=d}g[d]=n;d++});this.source=g;this.fromSelect=true;this.clearSelection();this.selectedIndex=h;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},refresh:function(){var b=this.host.find("#verticalScrollBar"+this.element.id);if(!b.jqxScrollBar){return}this.visibleItems=new Array();if(a.jqx.dataAdapter&&this.source!=null&&this.source._source){this.databind(this.source);return}this.items=this.loadItems(this.source);this._render()},_render:function(c){this._addItems();this._renderItems();var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(0);if(c==undefined||c){if(this.items!=undefined&&this.items!=null){if(this.selectedIndex>=0&&this.selectedIndex<this.items.length){this.selectIndex(this.selectedIndex);this.ensureVisible(this.selectedIndex)}}}},_createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;while(this.items[b]){b=Math.random()+"";b=b.replace(".","");b=b/1}return"listitem"+b},_hitTest:function(c,e){var d=parseInt(this.vScrollInstance.value);var b=this._searchFirstVisibleIndex(e+d,this.renderedVisibleItems);if(this.renderedVisibleItems[b]!=undefined&&this.renderedVisibleItems[b].isGroup){return null}b=this._searchFirstVisibleIndex(e+d);return this.visibleItems[b];return null},_searchFirstVisibleIndex:function(e,f){if(e==undefined){e=parseInt(this.vScrollInstance.value)}var c=0;if(f==undefined||f==null){f=this.visibleItems}var b=f.length;while(c<=b){mid=parseInt((c+b)/2);var d=f[mid];if(d==undefined){break}if(d.initialTop>e&&d.initialTop+d.height>e){b=mid-1}else{if(d.initialTop<e&&d.initialTop+d.height<e){c=mid+1}else{return mid;break}}}return 0},_renderItems:function(){if(this.items==undefined||this.items.length==0){return}var o=this.vScrollInstance;var x=this.hScrollInstance;var u=parseInt(o.value);var f=parseInt(x.value);var F=this.items.length;var z=parseInt(this.content.width())+parseInt(x.max);var d=parseInt(this.vScrollBar.outerWidth());if(this.vScrollBar.css("visibility")!="visible"){d=0}if(this.hScrollBar.css("visibility")!="visible"){z=parseInt(this.content.width())}var h=this._getVirtualItemsCount();var H=new Array();var n=0;var m=this.host.outerHeight();var D=0;var k=0;var b=0;if(o.value==0||this.visibleItems.length==0){for(indx=0;indx<this.items.length;indx++){var G=this.items[indx];if(G.visible){G.top=-u;G.initialTop=-u;if(!G.isGroup&&G.visible){this.visibleItems[k++]=G;G.visibleIndex=k-1}this.renderedVisibleItems[b++]=G;G.left=-f;var l=G.top+G.height;if(l>=0&&G.top-G.height<=m){H[n++]={index:indx,item:G}}u-=G.height}}}var c=u>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0;var A=0;n=0;var q=this.vScrollInstance.value;var B=0;while(A<100+m){var G=this.renderedVisibleItems[c];if(G==undefined){break}if(G.visible){G.left=-f;var l=G.top+G.height-q;if(l>=0&&G.initialTop-q-G.height<=2*m){H[n++]={index:c,item:G}}}c++;if(G.visible){A+=G.initialTop-q+G.height-A}B++;if(B>this.items.length-1){break}}var K=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item");var t=this.toThemeProperty("jqx-listitem-state-group");var w=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");var J=0;var I=this;for(indx=0;indx<this.visualItems.length;indx++){var E=this.visualItems[indx];var C=function(){var y=E.find("#spanElement");y.css({visibility:"hidden"});y.removeClass();if(I.checkboxes&&I.host.jqxCheckBox){var L=E.find(".chkbox");L.css({visibility:"hidden"})}};if(indx<H.length){var G=H[indx].item;if(G.initialTop-q>=m){C();continue}var v=E.find("#spanElement");if(v.length==0){continue}v.removeClass();v.css({display:"block",visibility:"visible"});if(!G.isGroup&&!this.selectedIndexes[G.index]>=0){v.addClass(K)}else{v.addClass(t)}if(G.disabled||this.disabled){v.addClass(w)}if(this.roundedcorners){v.addClass(this.toThemeProperty("jqx-rc-all"))}if(G.html!=null&&G.html.toString().length>0){v[0].innerHTML=G.html}else{if(G.label!=null||G.value!=null){if(G.label!=null){if(v[0].innerHTML!==G.label){v[0].innerHTML=G.label}}else{if(v[0].innerHTML!==G.value){v[0].innerHTML=G.value}}}}E[0].style.left=G.left+"px";E[0].style.top=G.initialTop-q+"px";G.element=v[0];a.data(v[0],"item",G);if(G.title){v[0].title=G.title}if(this.equalItemsWidth&&!G.isGroup){if(D==0){var e=parseInt(z);var r=parseInt(v.outerWidth())-parseInt(v.width());e-=r;var p=1;if(p!=null){p=parseInt(p)}else{p=0}e-=2*p;D=e;if(this.checkboxes&&this.host.jqxCheckBox){D-=18}}v.width(D);G.width=D}if(this.checkboxes&&this.host.jqxCheckBox&&!G.isGroup){if(J==0){J=(parseInt(E.outerHeight(true))-16)/2;J++}var s=a(E.children()[0]);s[0].item=G;v.css({left:"18px"});s.css("top",J+"px");s.css({display:"block",visibility:"visible"});var g=s.jqxCheckBox("checked");if(g!=G.checked){s.jqxCheckBox({checked:G.checked,disabled:G.disabled})}}if(this.selectedIndexes[G.visibleIndex]>=0&&!G.disabled){v.addClass(this.toThemeProperty("jqx-listitem-state-selected"));v.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}}else{C()}}},_calculateVirtualSize:function(){var d=0;var k=2;var g=0;var f=a("<span></span>");var e=0;var c=this.host.outerHeight();a(document.body).append(f);for(g=0;g<this.items.length;g++){var l=this.items[g];if(l.isGroup&&(l.label==""&&l.html=="")){continue}if(!l.visible){continue}if(this.itemHeight>-1){l.height=this.itemHeight;l.width=this.content.width();k+=this.itemHeight}else{if(!l.isGroup){f.addClass(this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"))}else{f.addClass(this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"))}f.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(this.equalItemsWidth){f.css("float","left")}if(l.html!=null&&l.html.toString().length>0){f.html(l.html)}else{if(l.label!=null||l.value!=null){if(l.label!=null){f.text(l.label)}else{f.text(l.value)}}}var b=f.outerHeight();var h=f.outerWidth();l.height=b;l.width=h;k+=b;d=Math.max(d,h)}if(k<=c){e++}}if(e<10){e=10}f.remove();return{width:d+4,height:k,itemsPerPage:e}},_getVirtualItemsCount:function(){if(this.virtualItemsCount==0){var b=parseInt(this.host.height())/5;if(b>this.items.length){b=this.items.length}return b}else{return this.virtualItemsCount}},_addItems:function(){if(this.items==undefined||this.items.length==0){this.virtualSize={width:0,height:0,itemsPerPage:0};this._updatescrollbars();this.renderedVisibleItems=new Array();if(this.itemswrapper){this.itemswrapper.children().remove()}return}var n=this;var h=0;this.visibleItems=new Array();this.renderedVisibleItems=new Array();this.content.find(".jqx-listitem-state-normal").remove();this.content.find(".jqx-listitem-state-pressed").remove();this.content.find(".jqx-listitem-state-hover").remove();this.content.find(".jqx-listitem-state-disabled").remove();this.content.find(".jqx-listitem-state-group ").remove();this._removeHandlers();this.content[0].innerHTML="";this.itemswrapper=a('<div tabIndex=1 style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>');this.itemswrapper.height(2*this.host.height());this.content.append(this.itemswrapper);var k=this._calculateVirtualSize();var l=k.itemsPerPage*2;if(this.autoHeight){l=this.items.length}this.virtualItemsCount=Math.min(l,this.items.length);var g=this;var f=k.width;this.virtualSize=k;this.itemswrapper.width(Math.max(this.host.width(),17+k.width));for(virtualItemIndex=0;virtualItemIndex<this.virtualItemsCount;virtualItemIndex++){var m=this.items[virtualItemIndex];var b=a("<div style='border: none; tabIndex=0 width:100%; height: 100%; align:left; valign:top; position: absolute;'></div>");var c=a("<span id='spanElement'></span>");b[0].id=n._createID();c.appendTo(b);b.appendTo(this.itemswrapper);if(this.checkboxes&&this.host.jqxCheckBox){var e=a('<div tabIndex=1 style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox"/>');b.css("float","left");c.css("float","left");b.prepend(e);e.jqxCheckBox({checked:m.checked,animationShowDelay:0,animationHideDelay:0,disabled:m.disabled,enableContainerClick:false,keyboardCheck:false,hasThreeStates:this.hasThreeStates,theme:this.theme});m.checkBoxElement=e[0];var d=function(r,q){var o=r.owner.element.item;if(o!=null){var p=r.args;if(q){g.checkIndex(o.index,false)}else{if(q==false){g.uncheckIndex(o.index,false)}else{g.indeterminate(o.index,false)}}}g.focused=true};e.jqxCheckBox("updated",d)}b.height(m.height);b.css("top",h);h+=m.height;this.visualItems[virtualItemIndex]=b}this._addHandlers();this._updatescrollbars();if(a.browser.msie&&a.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true)}},_updatescrollbars:function(){this._arrange();var e=this.virtualSize.height;var c=this.virtualSize.width;var b=this.vScrollInstance;var d=this.hScrollInstance;if(e>this.host.outerHeight()){var f=0;if(c>this.host.outerWidth()){f=this.hScrollBar.outerHeight()+2}b.max=2+parseInt(e)+f-parseInt(this.host.height());this.vScrollBar.css("visibility","visible")}else{this.vScrollBar.css("visibility","hidden")}if(c>this.host.outerWidth()){d.max=parseInt(c)-parseInt(this.content.width())+parseInt(this.hScrollBar.height());this.hScrollBar.css("visibility","visible")}else{this.hScrollBar.css("visibility","hidden")}this.hScrollBar.jqxScrollBar("setPosition",0);this._arrange();if(this.itemswrapper){this.itemswrapper.width(Math.max(this.host.width(),17+c));this.itemswrapper.height(2*this.host.height())}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(b){for(indx=0;indx<this.selectedIndexes.length;indx++){this.selectedIndexes[indx]=-1}this.selectedIndex=-1;if(b==undefined||b==true){this._renderItems()}},unselectIndex:function(b,c){if(isNaN(b)){return}this.selectedIndexes[b]=-1;if(c==undefined||c==true){this._renderItems();this._raiseEvent("1",{index:b,type:type})}this._raiseEvent("2",{index:b,item:this.getItem(b)})},getItem:function(c){if(c==-1||isNaN(c)){return null}var b=null;var d=a.each(this.items,function(){if(this.index==c){b=this;return false}});return b},checkIndex:function(b,c){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(d!=null){var e=a(d.checkBoxElement);d.checked=true;if(c==undefined||c==true){this._renderItems()}}this._raiseEvent(3,{label:d.label,value:d.value,checked:true})},checkAll:function(){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(this.disabled){return}a.each(this.items,function(){this.checked=true});this._renderItems();this._raiseEvent(3,{checked:true})},uncheckAll:function(){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(this.disabled){return}a.each(this.items,function(){this.checked=false});this._renderItems();this._raiseEvent(3,{checked:false})},uncheckIndex:function(b,c){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(d!=null){var e=a(d.checkBoxElement);d.checked=false;if(c==undefined||c==true){this._renderItems()}}this._raiseEvent(3,{label:d.label,value:d.value,checked:false})},indeterminateIndex:function(b,c){if(!this.checkboxes||!this.host.jqxCheckBox){return}if(isNaN(b)){return}if(b<0||b>=this.visibleItems.length){return}if(this.visibleItems[b]!=null&&this.visibleItems[b].disabled){return}if(this.disabled){return}var d=this.getItem(b);if(d!=null){var e=a(d.checkBoxElement);d.checked=null;if(c==undefined||c==true){this._renderItems()}}this._raiseEvent(3,{checked:null})},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},selectIndex:function(c,e,g,d,f){if(isNaN(c)){return}if(c<-1||c>=this.visibleItems.length){return}if(this.visibleItems[c]!=null&&this.visibleItems[c].disabled){return}if(this.disabled){return}if(!this.multiple&&this.selectedIndex==c){return}this.focused=true;var b=false;if(this.selectedIndex!=c){b=true}var h=this.selectedIndex;if(this.selectedIndex==c&&!this.multiple){h=-1}if(f==undefined){f="none"}if(d!=undefined&&d){this._raiseEvent("1",{index:h,type:f,item:this.getItem(h)});this.selectedIndex=c;this.selectedIndexes[h]=-1;this.selectedIndexes[c]=c;this._raiseEvent("0",{index:c,type:f,item:this.getItem(c)})}else{if(this.multiple){if(this.selectedIndexes[c]==undefined||this.selectedIndexes[c]==-1){this.selectedIndexes[c]=c;this.selectedIndex=c;this._raiseEvent("0",{index:c,type:f,item:this.getItem(c)})}else{h=this.selectedIndexes[c];this.selectedIndexes[c]=-1;this.selectedIndex=-1;this._raiseEvent("1",{index:h,type:f,item:this.getItem(h)})}}else{this._raiseEvent("1",{index:h,type:f,item:this.getItem(h)});this.selectedIndex=c;this.selectedIndexes[h]=-1;h=c;this.selectedIndexes[c]=c;this._raiseEvent("0",{index:c,type:f,item:this.getItem(c)})}}if(g==undefined||g==true){this._renderItems()}if(e!=undefined&&e!=null&&e==true){this.ensureVisible(c)}this._raiseEvent("2",{index:c,item:this.getItem(c)});return b},isIndexInView:function(c){if(isNaN(c)){return false}if(c<0||c>=this.items.length){return false}var d=this.vScrollInstance.value;var e=this.visibleItems[this.selectedIndex];if(e==undefined){return true}var b=e.initialTop;var f=e.height;if(b-d<0||b-d+f>=this.host.outerHeight()){return false}return true},_itemsInPage:function(){var b=0;var c=this;a.each(this.items,function(){if((this.initialTop+this.height)>=c.content.height()){return false}b++});return b},_firstItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[0].isGroup){return this._nextItemIndex(0)}else{return 0}}return -1},_lastItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[this.visibleItems.length-1].isGroup){return this._prevItemIndex(this.visibleItems.length-1)}else{return this.visibleItems.length-1}}return -1},_nextItemIndex:function(b){for(indx=b+1;indx<this.visibleItems.length;indx++){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}return -1},_prevItemIndex:function(b){for(indx=b-1;indx>=0;indx--){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}return -1},_getMatches:function(g,d){if(g==undefined||g.length==0){return -1}if(d==undefined){d=0}var b=this.getItems();var f=this;var c=-1;var e=0;a.each(b,function(h){var l="";if(!this.isGroup){if(this.label){l=this.label}else{if(this.value){l=this.value}else{if(this.title){l=this.title}else{l="jqxItem"}}}var k=false;switch(f.searchMode){case"containsignorecase":k=a.jqx.string.containsIgnoreCase(l,g);break;case"contains":k=a.jqx.string.contains(l,g);break;case"equals":k=a.jqx.string.equals(l,g);break;case"equalsignorecase":k=a.jqx.string.equalsIgnoreCase(l,g);break;case"startswith":k=a.jqx.string.startsWith(l,g);break;case"startswithignorecase":k=a.jqx.string.startsWithIgnoreCase(l,g);break;case"endswith":k=a.jqx.string.endsWith(l,g);break;case"endswithignorecase":k=a.jqx.string.endsWithIgnoreCase(l,g);break}if(k&&this.visibleIndex>=d){c=this.visibleIndex;return false}}});return c},findItems:function(e){var b=this.getItems();var d=this;var c=0;var f=new Array();a.each(b,function(g){var k="";if(!this.isGroup){if(this.label){k=this.label}else{if(this.value){k=this.value}else{if(this.title){k=this.title}else{k="jqxItem"}}}var h=false;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(k,e);break;case"contains":h=a.jqx.string.contains(k,e);break;case"equals":h=a.jqx.string.equals(k,e);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(k,e);break;case"startswith":h=a.jqx.string.startsWith(k,e);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(k,e);break;case"endswith":h=a.jqx.string.endsWith(k,e);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(k,e);break}if(h){f[c++]=this}}});return f},_handleKeyDown:function(b){var p=b.keyCode;var q=this;var k=q.selectedIndex;var d=q.selectedIndex;var m=false;if(b.altKey){p=-1}if(q.incrementalSearch){var r=-1;if(!q._searchString){q._searchString=""}if((p==8||p==46)&&q._searchString.length>=1){q._searchString=q._searchString.substr(0,q._searchString.length-1)}var c=String.fromCharCode(p);var l=(!isNaN(parseInt(c)));if((p>=65&&p<=97)||l||p==8||p==32||p==46){if(!b.shiftKey){c=c.toLocaleLowerCase()}var o=1+q.selectedIndex;if(p!=8&&p!=32&&p!=46){if(q._searchString.length>0&&q._searchString.substr(0,1)==c){o=1+q.selectedIndex}else{q._searchString+=c}}if(p==32){q._searchString+=" "}var h=this._getMatches(q._searchString,o);r=h;if(r==q._lastMatchIndex||r==-1){var h=this._getMatches(q._searchString,0);r=h}q._lastMatchIndex=r;if(r>=0){if(q.multiple){q.clearSelection(false)}q.selectIndex(r,false,false,false,"keyboard");var e=q.isIndexInView(r);if(!e){q.ensureVisible(r)}else{q._renderItems()}}}if(q._searchTimer!=undefined){clearTimeout(q._searchTimer)}if(p==27||p==13){q._searchString=""}q._searchTimer=setTimeout(function(){q._searchString=""},q.incrementalSearchDelay);if(r>=0){return}}if(p==33){var g=q._itemsInPage();if(q.selectedIndex-g>=0){if(q.multiple){q.clearSelection(false)}q.selectIndex(d-g,false,false,false,"keyboard")}else{if(q.multiple){q.clearSelection(false)}q.selectIndex(q._firstItemIndex(),false,false,false,"keyboard")}q._searchString=""}if(p==32&&this.checkboxes){var f=this.getItem(k);if(f!=null){if(f.checked==true){f.checked=this.hasThreeStates?null:false}else{f.checked=f.checked!=null}switch(f.checked){case true:this.checkIndex(k);break;case false:this.uncheckIndex(k);break;default:this.indeterminateIndex(k);break}b.preventDefault()}q._searchString=""}if(p==36){if(q.multiple){q.clearSelection(false)}q.selectIndex(q._firstItemIndex(),false,false,false,"keyboard");q._searchString=""}if(p==35){if(q.multiple){q.clearSelection(false)}q.selectIndex(q._lastItemIndex(),false,false,false,"keyboard");q._searchString=""}if(p==34){var g=q._itemsInPage();if(q.selectedIndex+g<q.visibleItems.length){if(q.multiple){q.clearSelection(false)}q.selectIndex(d+g,false,false,false,"keyboard")}else{if(q.multiple){q.clearSelection(false)}q.selectIndex(q._lastItemIndex(),false,false,false,"keyboard")}q._searchString=""}if(p==38){q._searchString="";if(q.selectedIndex>0){var n=q._prevItemIndex(q.selectedIndex);if(n!=q.selectedIndex&&n!=-1){if(q.multiple){q.clearSelection(false)}q.selectIndex(n,false,false,false,"keyboard")}else{return true}}else{return false}}else{if(p==40){q._searchString="";if(q.selectedIndex+1<q.visibleItems.length){var n=q._nextItemIndex(q.selectedIndex);if(n!=q.selectedIndex&&n!=-1){if(q.multiple){q.clearSelection(false)}q.selectIndex(n,false,false,false,"keyboard")}else{return true}}else{return false}}}if(p==35||p==36||p==38||p==40||p==34||p==33){var e=q.isIndexInView(q.selectedIndex);if(!e){q.ensureVisible(q.selectedIndex)}else{q._renderItems()}return false}return true},wheel:function(d,c){if(c.autoHeight){d.returnValue=true;return true}var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(b){if(d.preventDefault){d.preventDefault()}if(d.originalEvent!=null){d.originalEvent.mouseHandled=true}if(d.stopPropagation!=undefined){d.stopPropagation()}}if(b){b=false;d.returnValue=b;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(d){var c=this.vScrollInstance.value;if(d<0){this.scrollDown()}else{this.scrollUp()}var b=this.vScrollInstance.value;if(c!=b){return true}return false},_removeHandlers:function(){var b=this;this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"mousemove");if(a.browser.msie){this.removeHandler(this.content,"selectstart")}},_addHandlers:function(){var k=this;this.focused=false;var l=false;var h=0;var d=null;var h=0;var b=0;var f=new Date();var c=this.isTouchDevice();if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){this.autoUpdateId=setInterval(function(){if(k.host.height()!=k._oldheight||k.host.width()!=k._oldwidth){k._oldwidth=k.host.width();k._oldheight=k.host.height();if(k.items){if(k.items.length>0&&k.virtualItemsCount*k.items[0].height<k._oldheight){k._render(false)}else{k._updatescrollbars();k._renderItems()}}}},100)}this.addHandler(this.vScrollBar,"valuechanged",function(m){k._renderItems()});this.addHandler(this.hScrollBar,"valuechanged",function(){k._renderItems()});this.addHandler(this.host,"mousewheel",function(m){k.wheel(m,k)});this.addHandler(this.host,"keydown",function(m){if(k.focused){return k._handleKeyDown(m)}});this.addHandler(this.content,"mouseleave",function(m){k.focused=false;var n=a.data(k.element,"hoveredItem");if(n!=null){a(n).removeClass(k.toThemeProperty("jqx-listitem-state-hover"));a(n).removeClass(k.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.content,"focus",function(m){k.focused=true});this.addHandler(this.content,"blur",function(m){k.focused=false});this.addHandler(this.content,"mouseenter",function(m){k.focused=true});if(this.enableSelection){var e=k.isTouchDevice();var g=!e?"mousedown":"touchend";this.addHandler(this.content,g,function(p){if(e){k._newScroll=new Date();if(k._newScroll-k._lastScroll<500){return false}}k.focused=true;if(!k.isTouchDevice()){k.content.focus()}if(p.target.id!="listBoxContent"&&k.itemswrapper[0]!=p.target){var q=p.target;var r=a(q).offset();var n=k.host.offset();var s=parseInt(r.top)-parseInt(n.top);var m=parseInt(r.left)-parseInt(n.left);var o=k._hitTest(m,s);if(o!=null&&!o.isGroup){if(o.html.indexOf("href")!=-1){setTimeout(function(){k.selectIndex(o.visibleIndex,false,true,false,"mouse")},100)}else{k.selectIndex(o.visibleIndex,false,true,false,"mouse")}}if(g=="mousedown"){return false}}return true});this.addHandler(this.content,"mouseup",function(m){k.vScrollInstance.handlemouseup(k,m)});if(a.browser.msie){this.addHandler(this.content,"selectstart",function(m){return false})}}var c=this.isTouchDevice();if(this.enableHover&&!c){this.addHandler(this.content,"mousemove",function(m){if(c){return true}if(!k.enableHover){return true}var n=a.browser.msie==true&&a.browser.version<9?0:1;if(m.target==null){return true}if(k.disabled){return true}k.focused=true;var p=k.vScrollInstance.isScrolling();if(!p&&m.target.id!="listBoxContent"){if(k.itemswrapper[0]!=m.target){var r=m.target;var w=a(r).offset();var q=k.host.offset();var s=parseInt(w.top)-parseInt(q.top);var t=parseInt(w.left)-parseInt(q.left);var v=k._hitTest(t,s);if(v!=null&&!v.isGroup&&!v.disabled){var o=a.data(k.element,"hoveredItem");if(o!=null){a(o).removeClass(k.toThemeProperty("jqx-listitem-state-hover"));a(o).removeClass(k.toThemeProperty("jqx-fill-state-hover"))}a.data(k.element,"hoveredItem",v.element);var u=a(v.element);u.addClass(k.toThemeProperty("jqx-listitem-state-hover"));u.addClass(k.toThemeProperty("jqx-fill-state-hover"))}}}})}},_arrange:function(){var c=null;var m=null;var h=this;var f=function(p){p=h.host.height();if(p==0){p=200;h.host.height(p)}return p};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){c=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){c=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){m=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){m=this.height}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);c=this.host.width()}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);m=f(m)}var l=this.host.css("border-width");if(l==null){l=0}if(c!=null){c=parseInt(c);this.host.width(this.width)}if(!this.autoHeight){if(m!=null){m=parseInt(m);this.host.height(this.height);f(m)}}else{if(this.virtualSize){this.host.height(this.virtualSize.height);this.height=this.virtualSize.height}}var b=this.scrollBarSize;if(isNaN(b)){b=parseInt(b);if(isNaN(b)){b="17px"}else{b=b+"px"}}b=parseInt(b);var g=4;var o=2;var k=0;if(this.vScrollBar){if(this.vScrollBar.css("visibility")=="visible"){k=b+g}else{this.vScrollBar.jqxScrollBar("setPosition",0)}}else{return}if(this.hScrollBar){if(this.hScrollBar.css("visibility")=="visible"){o=b+g}else{this.hScrollBar.jqxScrollBar("setPosition",0)}}else{return}var n=parseInt(m)-g-b;if(n<0){n=0}this.hScrollBar.height(b);this.hScrollBar.css({top:n+"px",left:"0px"});this.hScrollBar.width(c-b-g+"px");if(k==0){this.hScrollBar.width(c-2)}this.vScrollBar.width(b);this.vScrollBar.height(parseInt(m)-o+"px");this.vScrollBar.css({left:parseInt(c)-parseInt(b)-g+"px",top:"0px"});var e=this.vScrollInstance;e.disabled=this.disabled;e._arrange();var d=this.hScrollInstance;d.disabled=this.disabled;d._arrange();if((this.vScrollBar.css("visibility")=="visible")&&(this.hScrollBar.css("visibility")=="visible")){this.bottomRight.css("visibility","visible");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(b)+3);this.bottomRight.height(parseInt(b)+3)}else{this.bottomRight.css("visibility","hidden")}this.content.width(parseInt(c)-k);this.content.height(parseInt(m)-o)},ensureVisible:function(d){var c=this.isIndexInView(d);if(!c){if(d<0){return}if(this.autoHeight){var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(0)}else{for(indx=0;indx<this.visibleItems.length;indx++){var e=this.visibleItems[indx];if(e.visibleIndex==d&&!e.isGroup){var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(e.initialTop);break}}}}this._renderItems()},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var b=this.vScrollInstance;if(b.value+b.largestep<=b.max){b.setPosition(b.value+b.largestep)}else{b.setPosition(b.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var b=this.vScrollInstance;if(b.value-b.largestep>=b.min){b.setPosition(b.value-b.largestep)}else{b.setPosition(b.min)}},databind:function(h){this.records=new Array();var d=h._source?true:false;var k=new a.jqx.dataAdapter(h,{autoBind:false});if(d){k=h;h=h._source}var g=function(l){if(h.type!=undefined){k._options.type=h.type}if(h.formatdata!=undefined){k._options.formatData=h.formatdata}if(h.contenttype!=undefined){k._options.contentType=h.contenttype}if(h.async!=undefined){k._options.async=h.async}};var c=function(p){p.records=k.records;var o=p.records.length;p.items=new Array();for(i=0;i<o;i++){var l=p.records[i];var q=l[p.valueMember];var n=l[p.displayMember];var m=new a.jqx._jqxListBox.item();m.label=n;m.value=q;m.html="";m.visible=true;m.originalItem=l;m.index=i;m.group="";m.groupHtml="";m.disabled=false;p.items[i]=m}p._render();if(p.rendered){p.rendered()}};g(this);var f=this;switch(h.datatype){case"local":case"array":default:if(h.localdata!=null){k.dataBind();c(this);k.unbindBindingUpdate(this.element.id);k.bindBindingUpdate(this.element.id,function(){c(f)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(h.localdata!=null){k.dataBind();c(this);k.unbindBindingUpdate(this.element.id);k.bindBindingUpdate(this.element.id,function(){c(f)});return}var e={};if(k._options.data){a.extend(k._options.data,e)}else{if(h.data){a.extend(e,h.data)}k._options.data=e}var b=function(){c(f)};k.unbindDownloadComplete(f.element.id);k.bindDownloadComplete(f.element.id,b);k.dataBind()}},loadItems:function(h){if(h==null){this.groups=new Array();this.items=new Array();this.visualItems=new Array();return}var o=this;var f=0;var d=0;var b=0;this.groups=new Array();this.items=new Array();this.visualItems=new Array();var e=new Array();a.map(h,function(t){if(t==undefined){return null}var q=new a.jqx._jqxListBox.item();var u=t.group;var p=t.groupHtml;var v=t.title;if(v==null||v==undefined){v=""}if(u==null||u==undefined){u=""}if(p==null||p==undefined){p=""}if(!o.groups[u]){o.groups[u]={items:new Array(),index:-1,caption:u,captionHtml:p};f++;var r=f+"jqxGroup";o.groups[r]=o.groups[u];d++}var s=o.groups[u];s.index++;s.items[s.index]=q;if(typeof t==="string"){q.label=t;q.value=t}else{if(t.label==null&&t.value==null&&t.html==null&&t.group==null&&t.groupHtml==null){q.label=t.toString();q.value=t.toString()}else{q.label=t.label||t.value;q.value=t.value||t.label}}if(typeof t!="string"){if(o.displayMember!=""){q.label=t[o.displayMember]}if(o.valueMember!=""){q.value=t[o.valueMember]}}q.originalItem=t;q.title=v;q.html=t.html||"";q.group=u;q.groupHtml=t.groupHtml||"";q.disabled=t.disabled||false;q.visible=t.visible||true;q.index=b;e[b]=q;b++;return q});var c=new Array();var l=0;if(this.fromSelect==undefined||this.fromSelect==false){for(indx=0;indx<d;indx++){var f=indx+1;var k=f+"jqxGroup";var m=this.groups[k];if(m==undefined||m==null){break}if(indx==0&&m.caption==""&&m.captionHtml==""&&d<=1){return m.items}else{var g=new a.jqx._jqxListBox.item();g.isGroup=true;g.label=m.caption;if(m.caption==""&&m.captionHtml==""){m.caption=this.emptyGroupText;g.label=m.caption}g.html=m.captionHtml;c[l]=g;l++}for(j=0;j<m.items.length;j++){c[l]=m.items[j];l++}}}else{var l=0;var n=new Array();a.each(e,function(){if(!n[this.group]){if(this.group!=""){var p=new a.jqx._jqxListBox.item();p.isGroup=true;p.label=this.group;c[l]=p;l++;n[this.group]=true}}c[l]=this;l++})}return c},_mapItem:function(c){var b=new a.jqx._jqxListBox.item();if(typeof c==="string"){b.label=c;b.value=c}else{if(typeof c==="number"){b.label=c.toString();b.value=c.toString()}else{b.label=c.label||c.value;b.value=c.value||c.label}}b.html=c.html||"";b.group=c.group||"";b.groupHtml=c.groupHtml||"";b.disabled=c.disabled||false;b.visible=c.visible||true;return b},addItem:function(b){if(this.items==undefined||this.items.length==0){this.source=new Array();this.source[0]=b;this.refresh();return}return this.insertAt(b,this.items.length)},insertAt:function(k,e){if(k==null){return false}if(this.items==undefined||this.items.length==0){this.source=new Array();this.source[0]=k;this.refresh();return false}var d=this._mapItem(k);if(e==-1||e==undefined||e==null||e>=this.items.length){d.index=this.items.length;this.items[this.items.length]=d}else{var f=new Array();var h=0;var g=false;var b=0;for(itemIndex=0;itemIndex<this.items.length;itemIndex++){if(this.items[itemIndex].isGroup==false){if(b>=e&&!g){f[h++]=d;d.index=e;b++;g=true}}f[h]=this.items[itemIndex];if(!this.items[itemIndex].isGroup){f[h].index=b;b++}h++}this.items=f}this.visibleItems=new Array();var c=a.data(this.vScrollBar[0],"jqxScrollBar").instance;c.setPosition(0);this._addItems();this._renderItems();return true},removeAt:function(c){if(c<0||c>this.items.length-1){return false}this.items.splice(c,1);var b=a.data(this.vScrollBar[0],"jqxScrollBar").instance;b.setPosition(0);this.visibleItems=new Array();this._addItems();this._renderItems();return true},getItems:function(){return this.items},disableAt:function(b){if(!this.items){return false}if(b<0||b>this.items.length-1){return false}this.items[b].disabled=true;this._renderItems();return true},enableAt:function(b){if(!this.items){return false}if(b<0||b>this.items.length-1){return false}this.items[b].disabled=false;this._renderItems();return true},destroy:function(){this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.host.removeClass("jqx-listbox jqx-rc-all");this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;if(f==0||f==1||f==2||f==3){e.args=args}if(this.host!=null){var b=this.host.trigger(e)}return b}})})(jQuery);(function(a){a.jqx._jqxListBox.item=function(){var b={group:"",groupHtml:"",selected:false,isGroup:false,highlighted:false,value:null,label:"",html:null,visible:true,disabled:false,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:false,visibleIndex:-1};return b}})(jQuery);(function(a){a.jqx.jqxWidget("jqxComboBox","",{});a.extend(a.jqx._jqxComboBox.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.selectedIndex=-1;this.source=null;this.scrollBarSize=15;this.arrowSize=18;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";if(this.showDelay==undefined){this.showDelay=350}if(this.hideDelay==undefined){this.hideDelay=400}this.animationType="default";this.dropDownWidth="auto";this.dropDownHeight="200px";this.autoDropDownHeight=false;this.enableBrowserBoundsDetection=false;this.searchMode="startswithignorecase";this.autocomplete=false;this.displayMember="";this.valueMember="";this.keyboardSelection=true;this.events=["show","hide","select","unselect","change"]},createInstance:function(h){this.isanimating=false;var d=a("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-left: none; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(a.jqx._jqxListBox==null||a.jqx._jqxListBox==undefined){throw"jqxListBox is not loaded."}try{var k="listBox"+this.element.id;var f=a(a.find("#"+k));if(f.length>0){f.remove()}var b=a("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+this.element.id+"'><div id='innerListBox"+this.element.id+"'></div></div>");b.appendTo(document.body);this.container=b;this.listBoxContainer=a(a.find("#innerListBox"+this.element.id));var c=this.width;if(this.dropDownWidth!="auto"){c=this.dropDownWidth}if(this.dropDownHeight==null){this.dropDownHeight=200}this.listBoxContainer.jqxListBox({incrementalSearch:false,width:c,scrollBarSize:this.scrollBarSize,autoHeight:this.autoDropDownHeight,height:this.dropDownHeight,displayMember:this.displayMember,valueMember:this.valueMember,source:this.source,theme:this.theme});this.container.width(parseInt(c)+25);this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.css({position:"absolute",zIndex:100000,top:0,left:0});this.listBoxContainer.css("border-top-width","1px");this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance;this.listBox.enableSelection=this.enableSelection;this.listBox.enableHover=this.enableHover;this.listBox.equalItemsWidth=this.equalItemsWidth;this.listBox.selectIndex(this.selectedIndex);this.listBox._arrange();this.listBox.rendered=function(){i.listBox.selectIndex(i.selectedIndex);i.renderSelection("mouse")};var i=this;this.addHandler(this.host,"loadContent",function(e){i._arrange()});this.addHandler(this.listBoxContainer,"unselect",function(e){i._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})});this.addHandler(this.listBoxContainer,"change",function(e){i._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item})});if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(g){}this.touch=a.jqx.mobile.isTouchDevice();this.host.append(d);this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper");this.dropdownlistArrow=this.host.find("#dropdownlistArrow");this.dropdownlistContent=this.host.find("#dropdownlistContent");this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-widget-content"));this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id;this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id;this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;this.dropdownlistContent.append(a('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>'));this.input=this.dropdownlistContent.find("input");this.input.addClass(this.toThemeProperty("jqx-combobox-input"));this.input.addClass(this.toThemeProperty("jqx-widget-content"));var l=this;l.input.attr("disabled",l.disabled);this.propertyChangeMap.disabled=function(e,n,m,o){if(l.disabled){l.host.addClass(l.toThemeProperty("jqx-combobox-state-disabled"));l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.addClass(l.toThemeProperty("jqx-combobox-content-disabled"))}else{l.host.removeClass(l.toThemeProperty("jqx-combobox-state-disabled"));l.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.removeClass(l.toThemeProperty("jqx-combobox-content-disabled"))}l.input.attr("disabled",l.disabled)};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-combobox-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-disabled"))}this.host.addClass(this.toThemeProperty("jqx-combobox-state-normal"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.dropdownlistArrowIcon=a("<div style='width: 100%; height: 100%;'></div>");this.dropdownlistArrowIcon.addClass(this.toThemeProperty("icon-arrow-down"));this.dropdownlistArrow.append(this.dropdownlistArrowIcon);this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-normal"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._setSize();this.render();this.addHandler(this.input,"keyup.textchange",function(e){var m=i._search(e)});if(a.browser.msie&&a.browser.version<8){if(this.host.parents(".jqx-window").length>0){var j=this.host.parents(".jqx-window").css("z-index");b.css("z-index",j+10);this.listBoxContainer.css("z-index",j+10)}}},_search:function(d){if(d.keyCode==9){return}if(this.searchMode=="none"||this.searchMode==null||this.searchMode=="undefined"){return}if(d.keyCode==16||d.keyCode==17||d.keyCode==20){return false}if(!this.isanimating){if(d.altKey&&d.keyCode==38){this.hideListBox();return false}if(d.altKey&&d.keyCode==40){if(!this.isOpened()){this.showListBox()}return false}}if(d.keyCode==37||d.keyCode==39){return false}if(d.altKey||d.keyCode==18){return}if(d.keyCode>=33&&d.keyCode<=40){return}var f=this.input.val();if(f.length==0&&!this.autocomplete){this.hideListBox();this.listBox.selectIndex(-1,true);return}var c=this;var e=this._getMatches(f);var g=e.matchItems;var b=e.index;if(c.autocomplete){if(g.length>0||f==""){this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;if(this.listBox.virtualSize.height<parseInt(this.dropDownHeight)){this.listBox.autoHeight=true;this.container.height(this.listBox.virtualSize.height+25);this.listBoxContainer.height(this.listBox.virtualSize.height);this.listBox._arrange()}else{this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange()}this.listBox._addItems();this.listBox._renderItems();b=0}else{b=-1}if(b==-1){this.hideListBox()}}if(d.keyCode=="13"){return}else{if(d.keyCode=="27"){if(this.tempSelectedIndex!=undefined){this.listBox.selectIndex(this.tempSelectedIndex,true);this.renderSelection("mouse")}this.hideListBox();d.preventDefault();return false}else{if(b>-1){if(!this.isOpened()&&!this.opening){this.tempSelectedIndex=this.listBox.selectedIndex;this.showListBox()}this.listBox.selectIndex(b,true)}else{if(b==-1){this.listBox.selectIndex(b,true)}}}}},_getMatches:function(f){var b=this.getItems();if(b==undefined){return{index:-1,mathItem:new Array()}}var e=this;var c=-1;var g=new Array();var d=0;a.each(b,function(h){var k="";if(!this.isGroup){if(this.label){k=this.label}else{if(this.value){k=this.value}else{if(this.title){k=this.title}else{k="jqxItem"}}}var j=false;switch(e.searchMode){case"containsignorecase":j=a.jqx.string.containsIgnoreCase(k,f);break;case"contains":j=a.jqx.string.contains(k,f);break;case"equals":j=a.jqx.string.equals(k,f);break;case"equalsignorecase":j=a.jqx.string.equalsIgnoreCase(k,f);break;case"startswith":j=a.jqx.string.startsWith(k,f);break;case"startswithignorecase":j=a.jqx.string.startsWithIgnoreCase(k,f);break;case"endswith":j=a.jqx.string.endsWith(k,f);break;case"endswithignorecase":j=a.jqx.string.endsWithIgnoreCase(k,f);break}if(e.autocomplete&&!j){this.visible=false}if(j&&e.autocomplete){g[d++]=this;this.visible=true}if(f==""&&e.autocomplete){this.visible=true;j=false}if(j&&!e.autocomplete){c=this.visibleIndex;return false}}});return{index:c,matchItems:g}},findItems:function(e){var b=this.getItems();var d=this;var c=0;var f=new Array();a.each(b,function(g){var j="";if(!this.isGroup){if(this.label){j=this.label}else{if(this.value){j=this.value}else{if(this.title){j=this.title}else{j="jqxItem"}}}var h=false;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(j,e);break;case"contains":h=a.jqx.string.contains(j,e);break;case"equals":h=a.jqx.string.equals(j,e);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(j,e);break;case"startswith":h=a.jqx.string.startsWith(j,e);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(j,e);break;case"endswith":h=a.jqx.string.endsWith(j,e);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(j,e);break}if(h){f[c++]=this}}});return f},_resetautocomplete:function(){a.each(this.listBox.items,function(b){this.visible=true});this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange();this.listBox._addItems();this.listBox._renderItems()},getItems:function(){var b=this.listBox.items;return b},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var e=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){e=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){e=true;this.host.height(this.height)}if(e){this.refresh(false);var c=this;var b=this.host.width();if(this.dropDownWidth!="auto"){b=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:b});this.container.width(parseInt(b)+25);var d=function(){c._arrange();if(c.dropDownWidth=="auto"){var f=c.host.width();c.listBoxContainer.jqxListBox({width:f});c.container.width(parseInt(f)+25)}};a(window).resize(function(){d()});setInterval(function(){var g=c.host.width();var f=c.host.height();if(c._lastWidth!=g||c._lastHeight!=f){d()}c._lastWidth=g;c._lastHeight=f},100)}},isOpened:function(){var c=this;var b=a.data(document.body,"openedComboJQXListBox");if(this.container.css("display")!="block"){return false}if(b!=null&&b==c.listBoxContainer){return true}return false},render:function(){var b=this;var c=false;if(!this.touch){this.host.hover(function(){if(!b.disabled&&b.enableHover){c=true;b.host.addClass(b.toThemeProperty("jqx-combobox-state-hover"));b.dropdownlistArrowIcon.addClass(b.toThemeProperty("icon-arrow-down-hover"));b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-hover"));b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!b.disabled&&b.enableHover){b.host.removeClass(b.toThemeProperty("jqx-combobox-state-hover"));b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("icon-arrow-down-hover"));b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-combobox-arrow-hover"));b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-fill-state-hover"));c=false}})}this.addHandler(this.dropdownlistArrow,"mousedown",function(g){if(!b.disabled){var e=b.container.css("display")=="block";if(!b.isanimating){if(e){b.hideListBox()}else{if(b.autocomplete){b._resetautocomplete()}if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25);var f=b.listBoxContainer.jqxListBox("autoHeight");if(!f){b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight});b.listBox._arrange();b.listBox.ensureVisible(0);b.listBox._renderItems();b.container.height(b.listBoxContainer.height()+25)}}b.showListBox()}}}});this.addHandler(this.input,"focus",function(){b.host.addClass(b.toThemeProperty("jqx-combobox-state-focus"));b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.input,"blur",function(){b.host.removeClass(b.toThemeProperty("jqx-combobox-state-focus"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(a(document),"mousedown."+this.element.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.element.id});if(this.touch){this.addHandler(a(document),"touchstart."+this.element.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.element.id})}if(window.frameElement){if(window.top!=null){var d=function(e){if(b.isOpened()){var f={me:b,listbox:b.listBox,id:b.element.id};e.data=f}};if(window.top.document.addEventListener){window.top.document.addEventListener("mousedown",d,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmousedown",d)}}}}this.addHandler(this.host,"keydown",function(g){var f=b.container.css("display")=="block";if(b.host.css("display")=="none"){return true}if(g.keyCode=="13"){if(f&&!b.isanimating){b.renderSelection("mouse");b.hideListBox();if(!b.keyboardSelection){b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})}return false}else{if(!f){b.showListBox()}}}if(g.keyCode==115){if(!b.isanimating){if(!b.isOpened()){b.showListBox()}else{if(b.isOpened()){b.hideListBox()}}}return false}if(g.altKey){if(b.host.css("display")=="block"){if(!b.isanimating){if(g.keyCode==38){if(b.isOpened()){b.hideListBox()}}else{if(g.keyCode==40){if(!b.isOpened()){b.showListBox()}}}}}}if(g.keyCode=="27"){if(b.tempSelectedIndex!=undefined){b.selectIndex(b.tempSelectedIndex)}b.hideListBox();g.preventDefault();return false}if(f&&!b.disabled){return b.listBox._handleKeyDown(g)}else{if(!b.disabled&&!f){var e=g.keyCode;if(e==33||e==34||e==35||e==36||e==38||e==40){return b.listBox._handleKeyDown(g)}}}});this.addHandler(this.listBoxContainer,"select",function(e){if(!b.disabled){if(e.args.type!="keyboard"||b.keyboardSelection){b.renderSelection(e.args.type);b._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item});if(e.args.type=="mouse"){b.hideListBox()}}}});if(this.listBox!=null&&this.listBox.content!=null){this.addHandler(this.listBox.content,"click",function(e){if(!b.disabled){b.renderSelection("mouse");if(!b.touch){b.hideListBox()}}})}},removeHandlers:function(){var b=this;this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.host.unbind("hover");this.removeHandler(this.input,"focus");this.removeHandler(this.input,"blur")},getItem:function(b){var c=this.listBox.getItem(b);return c},renderSelection:function(g){if(g==undefined||g=="none"){return}if(this.listBox==null){return}var h=this.listBox.visibleItems[this.listBox.selectedIndex];if(h==null){this.input.val("");return}this.selectedIndex=this.listBox.selectedIndex;var f=a("<span></span>");f.appendTo(a(document.body));f.addClass(this.toThemeProperty("jqx-listitem-state-normal"));if(h.label!=undefined&&h.label!=null&&h.label.toString().length>0){f.html(h.label)}else{if(h.value!=undefined&&h.value!=null&&h.value.toString().length>0){f.html(h.value)}else{if(h.title!=undefined&&h.title!=null&&h.title.toString().length>0){f.html(h.title)}else{f.html("jqxItem")}}}var i=this.dropdownlistContent.css("font-size");var b=this.dropdownlistContent.css("font-family");var e=this.dropdownlistContent.css("padding-top");var c=this.dropdownlistContent.css("padding-bottom");f.css("font-size",i);f.css("font-family",b);f.css("padding-top",e);f.css("padding-bottom",c);var d=f.outerHeight();f.remove();f.removeClass();this.input.val(f[0].innerHTML)},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(b){this.listBox.clearSelection();this.input.val("")},unselectIndex:function(b,c){if(isNaN(b)){return}this.listBox.unselectIndex(b,c);this.renderSelection("mouse")},selectIndex:function(b,d,e,c){this.listBox.selectIndex(b,d,e,c);this.renderSelection("mouse");this.selectedIndex=b},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},insertAt:function(c,b){if(c==null){return false}return this.listBox.insertAt(c,b)},addItem:function(b){return this.listBox.addItem(b)},removeAt:function(c){var b=this.listBox.removeAt(c);this.renderSelection("mouse");return b},ensureVisible:function(b){this.listBox.ensureVisible(b)},disableAt:function(b){this.listBox.disableAt(b)},enableAt:function(b){this.listBox.enableAt(b)},_findPos:function(c){while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}var b=a(c).offset();return[b.left,b.top]},testOffset:function(d,h,f){var g=d.outerWidth();var c=d.outerHeight();var e=document.documentElement.clientWidth+a(window).scrollLeft();var b=document.documentElement.clientHeight+a(window).scrollTop();h.left-=0;h.left-=0;h.top-=0;h.left-=Math.min(h.left,(h.left+g>e&&e>g)?Math.abs(h.left+g-e):0);h.top-=Math.min(h.top,(h.top+c>b&&b>c)?Math.abs(c+f):0);return h},show:function(){this.showListBox()},hide:function(){this.hideListBox()},showListBox:function(){var l=this;var b=this.listBoxContainer;var g=this.listBox;var i=a(window).scrollTop();var e=a(window).scrollLeft();var h=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())+"px";var d=parseInt(this.host.offset().left)+"px";if(a.browser.mozilla){var d=parseInt(this.host.offset().left)+1+"px"}if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex)}this.tempSelectedIndex=this.selectedIndex;var k=a.jqx.mobile.isSafariMobileBrowser();if(k!=null&&k){d=a.jqx.mobile.getLeftPos(this.element);h=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight())}this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("icon-arrow-down-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.container.css("left",d);this.container.css("top",h);g._arrange();var c=true;if(this.enableBrowserBoundsDetection){var f=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(h)},parseInt(this.host.outerHeight()));this.container.css("top",f.top)}if(this.animationType=="none"){this.container.css("display","block");a.data(document.body,"openedComboJQXListBoxParent",l);a.data(document.body,"openedComboJQXListBox",b)}else{this.container.css("display","block");var j=b.outerHeight();b.stop();b.css("margin-top",-j);this.isanimating=true;this.opening=true;b.animate({"margin-top":0},this.showDelay,function(){l.isanimating=false;l.opening=false;a.data(document.body,"openedComboJQXListBoxParent",l);a.data(document.body,"openedComboJQXListBox",b)})}g._renderItems();this._raiseEvent("0",g)},hideListBox:function(){var e=this.listBoxContainer;var f=this.listBox;var c=this.container;if(this.container.css("display")=="none"){return}this.tempSelectedIndex=undefined;var d=this;a.data(document.body,"openedComboJQXListBox",null);if(this.animationType=="none"){this.container.css("display","none")}else{if(!this.ishiding){var b=e.outerHeight();e.css("margin-top",0);e.stop();this.isanimating=true;e.animate({"margin-top":-b},this.hideDelay,function(){d.isanimating=false;c.css("display","none");d.ishiding=false})}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("icon-arrow-down-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._raiseEvent("1",f)},closeOpenedListBox:function(e){var d=e.data.me;var b=a(e.target);var c=e.data.listbox;if(c==null){return true}if(a(e.target).ischildof(e.data.me.host)){return}var f=d;var g=false;a.each(b.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf("jqx-listbox")!=-1){g=true;return false}if(this.className.indexOf("jqx-combobox")!=-1){if(d.element.id==this.id){g=true}return false}}});if(c!=null&&!g){if(!d.touch){if(d.tempSelectedIndex!=undefined){d.listBox.selectIndex(d.tempSelectedIndex,true);d.renderSelection("mouse")}}d.hideListBox()}return true},loadFromSelect:function(b){this.listBox.loadFromSelect(b)},refresh:function(b){this._arrange();this.renderSelection("mouse");if(b!=true){this.dataBind()}},_arrange:function(){var f=parseInt(this.host.width());var b=parseInt(this.host.height());var e=this.arrowSize;var d=this.arrowSize;var h=1;var c=f-d-1*h;if(c>0){this.dropdownlistContent.width(c+"px")}this.dropdownlistContent.height(b);this.dropdownlistContent.css("left",0);this.dropdownlistContent.css("top",0);this.dropdownlistArrow.width(d);this.dropdownlistArrow.height(b);this.dropdownlistArrow.css("left",1+c+"px");this.input.css("width","100%");this.input.addClass(this.toThemeProperty("jqx-rc-all"));var g=parseInt(b)/2-parseInt(this.input.height())/2;if(g>0){this.input.css("margin-top",g)}},destroy:function(){this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(a(document),"mousedown."+this.element.id,self.closeOpenedListBox)},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;if(f==2||f==3||f==4){e.args=c}var b=this.host.trigger(e);return b},propertyChangedHandler:function(b,c,f,e){if(b.isInitialized==undefined||b.isInitialized==false){return}if(c=="source"){b.listBoxContainer.jqxListBox({source:b.source});b.renderSelection("mouse");if(b.source==null){b.clearSelection()}}if(c=="displayMember"||c=="valueMember"){b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember});b.renderSelection("mouse")}if(c=="autoDropDownHeight"){b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight});if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25)}else{b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="dropDownHeight"){if(!b.autoDropDownHeight){b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="dropDownWidth"||c=="scrollBarSize"){var d=b.width;if(b.dropDownWidth!="auto"){d=b.dropDownWidth}b.listBoxContainer.jqxListBox({width:d,scrollBarSize:b.scrollBarSize});b.container.width(parseInt(d)+25)}if(c=="autocomplete"){b._resetautocomplete()}if(c=="theme"&&e!=null){b.listBoxContainer.jqxListBox({theme:e});b.dropdownlistContent.removeClass();b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content"));b.dropdownlistContent.addClass(b.toThemeProperty("jqx-widget-content"));b.input.removeClass();b.input.addClass(b.toThemeProperty("jqx-combobox-input"));b.input.addClass(this.toThemeProperty("jqx-widget-content"));b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-combobox-state-normal"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.dropdownlistArrow.removeClass();b.dropdownlistArrowIcon.addClass(b.toThemeProperty("icon-arrow-down"));b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-normal"));b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-normal"))}if(c=="width"||c=="height"){b._setSize();b._arrange()}if(c=="selectedIndex"){b.listBox.selectIndex(e);b.renderSelection("mouse")}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxDropDownList","",{});a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=false;this.width=null;this.height=null;this.items=new Array();this.selectedIndex=-1;this.source=null;this.scrollBarSize=15;this.arrowSize=19;this.enableHover=true;this.enableSelection=true;this.visualItems=new Array();this.groups=new Array();this.equalItemsWidth=true;this.itemHeight=-1;this.visibleItems=new Array();this.emptyGroupText="Group";if(this.showDelay==undefined){this.showDelay=350}if(this.hideDelay==undefined){this.hideDelay=400}this.animationType="default";this.dropDownWidth="auto";this.dropDownHeight="200px";this.autoDropDownHeight=false;this.keyboardSelection=true;this.enableBrowserBoundsDetection=false;this.displayMember="";this.valueMember="";this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.events=["show","hide","select","unselect","change"]},createInstance:function(h){this.isanimating=false;var d=a("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' style='background-color: transparent; border: none; float: right; position: relative;'/></div></div>");if(a.jqx._jqxListBox==null||a.jqx._jqxListBox==undefined){alert("jqxListBox is not loaded.")}var i=this;this.addHandler(this.host,"loadContent",function(e){i._arrange()});try{var k="listBox"+this.element.id;var f=a(a.find("#"+k));if(f.length>0){f.remove()}var b=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.element.id+"'><div id='innerListBox"+this.element.id+"'></div></div>");b.appendTo(document.body);this.container=b;this.listBoxContainer=a(a.find("#innerListBox"+this.element.id));var c=this.width;if(this.dropDownWidth!="auto"){c=this.dropDownWidth}if(this.dropDownHeight==null){this.dropDownHeight=200}this.listBoxContainer.jqxListBox({width:c,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,source:this.source,theme:this.theme});this.container.width(parseInt(c)+25);this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.css({position:"absolute",zIndex:9999999999999,top:0,left:0});this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance;this.listBox.enableSelection=this.enableSelection;this.listBox.enableHover=this.enableHover;this.listBox.equalItemsWidth=this.equalItemsWidth;this.listBox.selectIndex(this.selectedIndex);this.listBox._arrange();this.listBox.rendered=function(){i.listBox.selectIndex(i.selectedIndex);i.renderSelection("mouse")};var i=this;this.addHandler(this.listBoxContainer,"unselect",function(e){i._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})});this.addHandler(this.listBoxContainer,"change",function(e){i._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item})});if(this.animationType=="none"){this.container.css("display","none")}else{this.container.hide()}}catch(g){}this.touch=a.jqx.mobile.isTouchDevice();this.comboStructure=d;this.host.append(d);this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper");this.dropdownlistArrow=this.host.find("#dropdownlistArrow");this.dropdownlistContent=this.host.find("#dropdownlistContent");this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content"));this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect"));this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return false});this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id;this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id;this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;var l=this;this.propertyChangeMap.disabled=function(e,n,m,o){if(l.disabled){l.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled"));l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))}else{l.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled"));l.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))}};if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-normal"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.dropdownlistArrow.addClass(this.toThemeProperty("icon-arrow-down"));this._setSize();this.render();if(a.browser.msie&&a.browser.version<8){if(this.host.parents(".jqx-window").length>0){var j=this.host.parents(".jqx-window").css("z-index");b.css("z-index",j+10);this.listBoxContainer.css("z-index",j+10)}}},getItems:function(){if(!this.listBox){return new Array()}return this.listBox.items},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var e=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){e=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){e=true;this.host.height(this.height)}if(e){this.refresh(false);var c=this;var b=this.host.width();if(this.dropDownWidth!="auto"){b=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:b});this.container.width(parseInt(b)+25);var d=function(){c._arrange();if(c.dropDownWidth=="auto"){var f=c.host.width();c.listBoxContainer.jqxListBox({width:f});c.container.width(parseInt(f)+25)}};a(window).resize(function(){d()});setInterval(function(){var g=c.host.width();var f=c.host.height();if(c._lastWidth!=g||c._lastHeight!=f){d()}c._lastWidth=g;c._lastHeight=f},100)}},isOpened:function(){var c=this;var b=a.data(document.body,"openedJQXListBox");if(b!=null&&b==c.listBoxContainer){return true}return false},render:function(){var b=this;var c=false;if(!this.touch){this.host.hover(function(){if(!b.disabled&&b.enableHover){c=true;b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover"));b.dropdownlistArrow.addClass(b.toThemeProperty("icon-arrow-down-hover"));b.host.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){if(!b.disabled&&b.enableHover){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b.dropdownlistArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"));c=false}})}this.addHandler(this.dropdownlistWrapper,"mousedown",function(f){if(!b.disabled){var e=b.container.css("display")=="block";if(!b.isanimating){if(e){b.hideListBox()}else{b.showListBox()}}}});this.addHandler(a(document),"mousedown."+this.element.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.element.id});if(this.touch){this.addHandler(a(document),"touchstart."+this.element.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.element.id})}if(window.frameElement){if(window.top!=null){var d=function(e){if(b.isOpened()){var f={me:b,listbox:b.listBox,id:b.element.id};e.data=f}};if(window.top.document.addEventListener){window.top.document.addEventListener("mousedown",d,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmousedown",d)}}}}this.addHandler(this.host,"keydown",function(f){var e=b.container.css("display")=="block";if(b.host.css("display")=="none"){return true}if(f.keyCode=="13"){if(!b.isanimating){if(e){b.renderSelection();b.hideListBox();if(!b.keyboardSelection){b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})}}else{b.showListBox()}}}if(f.keyCode==115){if(!b.isanimating){if(!b.isOpened()){b.showListBox()}else{if(b.isOpened()){b.hideListBox()}}}return false}if(f.altKey){if(b.host.css("display")=="block"){if(f.keyCode==38){if(b.isOpened()){b.hideListBox()}}else{if(f.keyCode==40){if(!b.isOpened()){b.showListBox()}}}}}if(f.keyCode=="27"){if(!b.ishiding){b.hideListBox();if(b.tempSelectedIndex!=undefined){b.selectIndex(b.tempSelectedIndex)}}}if(e&&!b.disabled){return b.listBox._handleKeyDown(f)}});this.addHandler(this.listBoxContainer,"select",function(e){if(!b.disabled){if(e.args.type!="keyboard"||b.keyboardSelection){b.renderSelection();b._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item});if(e.args.type=="mouse"){b.hideListBox()}}}});if(this.listBox){if(this.listBox.content){this.addHandler(this.listBox.content,"click",function(e){if(!b.disabled){b.renderSelection("mouse");if(!b.touch){b.hideListBox()}}})}}this.addHandler(this.host.find("div:first"),"focus",function(){b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus"));b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host.find("div:first"),"blur",function(){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus"));b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var b=this;this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.host.find("div:first"),"focus");this.removeHandler(this.host.find("div:first"),"blur");this.host.unbind("hover")},getItem:function(b){var c=this.listBox.getItem(b);return c},renderSelection:function(){if(this.listBox==null){return}var k=this.listBox.getItem(this.listBox.selectedIndex);if(k==null){this.dropdownlistContent.html("");return}this.selectedIndex=this.listBox.selectedIndex;var d=a('<span style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body));d.addClass(this.toThemeProperty("jqx-listitem-state-normal"));d.addClass(this.toThemeProperty("jqx-item"));try{if(k.html!=undefined&&k.html!=null&&k.html.toString().length>0){d.html(k.html)}else{if(k.label!=undefined&&k.label!=null&&k.label.toString().length>0){d.html(k.label)}else{if(k.value!=undefined&&k.value!=null&&k.value.toString().length>0){d.html(k.value)}else{if(k.title!=undefined&&k.title!=null&&k.title.toString().length>0){d.html(k.title)}}}}}catch(h){var f=h}var g=this.dropdownlistContent.css("font-size");var e=this.dropdownlistContent.css("font-family");var c=this.dropdownlistContent.css("padding-top");var l=this.dropdownlistContent.css("padding-bottom");d.css("font-size",g);d.css("font-family",e);d.css("padding-top",c);d.css("padding-bottom",l);var b=d.outerHeight();d.remove();d.removeClass();if(this.selectionRenderer){this.dropdownlistContent.html(this.selectionRenderer(d))}else{this.dropdownlistContent.html(d)}var j=this.host.height();if(this.height!=null&&this.height!=undefined){j=parseInt(this.height)}var i=(parseInt(j)-parseInt(b))/2;if(i>0){this.dropdownlistContent.css("margin-top",i+"px");this.dropdownlistContent.css("margin-bottom",i+"px")}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(b){this.listBox.clearSelection();this.renderSelection();this.dropdownlistContent.html("")},unselectIndex:function(b,c){if(isNaN(b)){return}this.listBox.unselectIndex(b,c);this.renderSelection()},selectIndex:function(b,d,e,c){this.listBox.selectIndex(b,d,e,c);this.renderSelection()},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},insertAt:function(c,b){if(c==null){return false}return this.listBox.insertAt(c,b)},addItem:function(b){return this.listBox.addItem(b)},removeAt:function(c){var b=this.listBox.removeAt(c);this.renderSelection("mouse");return b},ensureVisible:function(b){this.listBox.ensureVisible(b)},disableAt:function(b){this.listBox.disableAt(b)},enableAt:function(b){this.listBox.enableAt(b)},_findPos:function(c){while(c&&(c.type=="hidden"||c.nodeType!=1||a.expr.filters.hidden(c))){c=c.nextSibling}var b=a(c).offset();return[b.left,b.top]},testOffset:function(d,h,f){var g=d.outerWidth();var c=d.outerHeight();var e=document.documentElement.clientWidth+a(window).scrollLeft();var b=document.documentElement.clientHeight+a(window).scrollTop();h.left-=0;h.left-=0;h.top-=0;h.left-=Math.min(h.left,(h.left+g>e&&e>g)?Math.abs(h.left+g-e):0);h.top-=Math.min(h.top,(h.top+c>b&&b>c)?Math.abs(c+f):0);return h},show:function(){this.showListBox()},hide:function(){this.hideListBox()},showListBox:function(){var l=this;var b=this.listBoxContainer;var g=this.listBox;var i=a(window).scrollTop();var e=a(window).scrollLeft();var h=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var d=parseInt(this.host.offset().left)+"px";var k=a.jqx.mobile.isSafariMobileBrowser();if(this.listBox==null){return}this.ishiding=false;if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex)}this.tempSelectedIndex=this.selectedIndex;if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25)}if(k!=null&&k){d=a.jqx.mobile.getLeftPos(this.element);h=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight())}b.stop();this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.dropdownlistArrow.addClass(this.toThemeProperty("icon-arrow-down-selected"));this.container.css("left",d);this.container.css("top",h);g._arrange();var c=true;if(this.enableBrowserBoundsDetection){var f=this.testOffset(b,{left:parseInt(this.container.css("left")),top:parseInt(h)},parseInt(this.host.outerHeight()));this.container.css("top",f.top)}if(this.animationType=="none"){this.container.css("display","block");a.data(document.body,"openedJQXListBoxParent",l);a.data(document.body,"openedJQXListBox",b)}else{this.container.css("display","block");var j=b.outerHeight();l.isanimating=true;b.css("margin-top",-j);b.animate({"margin-top":0},this.showDelay,function(){a.data(document.body,"openedJQXListBoxParent",l);a.data(document.body,"openedJQXListBox",b);l.ishiding=false;l.isanimating=false})}g._renderItems();this._raiseEvent("0",g)},hideListBox:function(){var e=this.listBoxContainer;var f=this.listBox;var c=this.container;var d=this;a.data(document.body,"openedJQXListBox",null);if(this.animationType=="none"){this.container.css("display","none")}else{if(!d.ishiding){e.stop();var b=e.outerHeight();e.css("margin-top",0);d.isanimating=true;e.animate({"margin-top":-b},this.hideDelay,function(){c.css("display","none");d.isanimating=false;d.ishiding=false})}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.dropdownlistArrow.removeClass(this.toThemeProperty("icon-arrow-down-selected"));this._raiseEvent("1",f)},closeOpenedListBox:function(e){var d=e.data.me;var b=a(e.target);var c=e.data.listbox;if(c==null){return true}if(a(e.target).ischildof(e.data.me.host)){return true}var f=d;var g=false;a.each(b.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf("jqx-listbox")!=-1){g=true;return false}if(this.className.indexOf("jqx-dropdownlist")!=-1){if(d.element.id==this.id){g=true}return false}}});if(c!=null&&!g){d.hideListBox()}return true},loadFromSelect:function(b){this.listBox.loadFromSelect(b)},refresh:function(b){this._arrange();this.renderSelection();if(b!=true){this.dataBind()}},_arrange:function(){var f=parseInt(this.host.width());var b=parseInt(this.host.height());var e=this.arrowSize;var d=this.arrowSize;var g=3;var c=f-d-2*g;if(c>0){this.dropdownlistContent.width(c+"px")}this.dropdownlistContent.height(b);this.dropdownlistContent.css("left",0);this.dropdownlistContent.css("top",0);this.dropdownlistArrow.width(d);this.dropdownlistArrow.height(b)},destroy:function(){this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(a(document),"mousedown."+this.element.id,self.closeOpenedListBox);if(this.touch){this.removeHandler(a(document),"touchstart."+this.element.id)}this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;if(f==2||f==3||f==4){e.args=c}var b=this.host.trigger(e);return b},propertyChangedHandler:function(b,c,f,e){if(b.isInitialized==undefined||b.isInitialized==false){return}if(c=="source"){b.listBoxContainer.jqxListBox({source:b.source});b.renderSelection();if(e==null){b.clear()}}if(c=="displayMember"||c=="valueMember"){b.listBoxContainer.jqxListBox({displayMember:b.displayMember,valueMember:b.valueMember});b.renderSelection()}if(c=="theme"&&e!=null){b.listBoxContainer.jqxListBox({theme:e});b.dropdownlistContent.removeClass();b.dropdownlistContent.addClass(b.toThemeProperty("jqx-dropdownlist-content"));b.dropdownlistWrapper.removeClass();b.dropdownlistWrapper.addClass(b.toThemeProperty("jqx-disableselect"));b.host.removeClass();b.host.addClass(b.toThemeProperty("jqx-fill-state-normal"));b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-normal"));b.host.addClass(b.toThemeProperty("jqx-rc-all"));b.host.addClass(b.toThemeProperty("jqx-widget"));b.host.addClass(b.toThemeProperty("jqx-widget-content"));b.dropdownlistArrow.removeClass();b.dropdownlistArrow.addClass(b.toThemeProperty("icon-arrow-down"))}if(c=="autoDropDownHeight"&&e!=f){b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight});if(b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25)}else{b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="searchMode"){b.listBoxContainer.jqxListBox({searchMode:b.searchMode})}if(c=="incrementalSearch"){b.listBoxContainer.jqxListBox({incrementalSearch:b.incrementalSearch})}if(c=="incrementalSearchDelay"){b.listBoxContainer.jqxListBox({incrementalSearchDelay:b.incrementalSearchDelay})}if(c=="dropDownHeight"){if(!b.autoDropDownHeight){b.listBoxContainer.jqxListBox({height:b.dropDownHeight});b.container.height(parseInt(b.dropDownHeight)+25)}}if(c=="dropDownWidth"||c=="scrollBarSize"){var d=b.width;if(b.dropDownWidth!="auto"){d=b.dropDownWidth}b.listBoxContainer.jqxListBox({width:d,scrollBarSize:b.scrollBarSize});b.container.width(parseInt(d)+25)}if(c=="width"||c=="height"){b._setSize();b._arrange()}if(c=="selectedIndex"){if(b.listBox!=null){b.listBox.selectIndex(e);b.renderSelection()}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxWindow","",{});a.extend(a.jqx._jqxWindow.prototype,{defineInstance:function(){this.height="auto";this.width=200;this.minHeight=50;this.maxHeight=600;this.minWidth=50;this.maxWidth=800;this.showCloseButton=true;this.disabled=false;this.autoOpen=true;this.keyboardCloseKey="esc";this.title="";this.content="";this.draggable=true;this.resizable=true;this.animationType="fade";this.closeAnimationDuration=250;this.showAnimationDuration=250;this.isModal=false;this.position="center";this.closeButtonSize=16;this.closeButtonAction="hide";this.modalOpacity=0.3;this.dragArea=null;this.okButton=null;this.cancelButton=null;this.dialogResult={OK:false,Cancel:false,None:true};this.collapsed=false;this.showCollapseButton=false;this.collapseAnimationDuration=150;this.collapseButtonSize=16;this._events=["created","closed","moving","moved","open","collapse","expand","show","hide"];this._invalidArgumentExceptions={invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"};this._enableResizeCollapseBackup;this._enableResizeBackup;this._heightBeforeCollapse;this._minHeightBeforeCollapse;this._mouseDown=false;this._isDragging=false;this._rightContentWrapper=null;this._leftContentWrapper=null;this._headerContentWrapper=null;this._closeButton=null;this._collapseButton=null;this._title=null;this._content=null;this._mousePosition={};this._windowPosition={};this._modalBackground=null;this._SCROLL_WIDTH=21;this._visible=true;this._touchEvents={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave",click:"touchstart"}},createInstance:function(){if(!this.autoOpen){this.host.css("visibility","hidden")}this.host.detach();a(document.body).append(this.host);this._isTouchDevice=a.jqx.mobile.isTouchDevice();this._validateProperties();this._createStructure();this._refresh();if(!this.autoOpen){this.host.css("display","none");this.host.css("visibility","visible")}this._fixWindowZIndex();this._setStartupSettings();this._positionWindow();this._raiseEvent(0)},_setStartupSettings:function(){if(this.disabled){this.disable()}if(this.collapsed){this.collapsed=false;this.collapse(0)}if(!this.autoOpen){this.hide(null,0.001,true);this._visible=false}if(this.title!==null&&this.title!==""){this.setTitle(this.title)}if(this.content!==null&&this.content!==""){this.setContent(this.content)}this.title=this._headerContentWrapper.html();this.content=this._content.html()},_fixWindowZIndex:function(){var f=a.data(document.body,"jqxwindows-list")||[],h=901,e;if(!this.isModal){if(this._indexOf(this.host,f)<0){f.push(this.host)}a.data(document.body,"jqxwindows-list",f);if(f.length>1){var g=f[f.length-2];h=parseInt(g.css("z-index"),10)+1}}else{if(f){f=this._removeFromArray(this.host,f);a.data(document.body,"jqxwindows-list",f)}a.data(document.body,"jqxwindow-modal",this.host);h=1800}this.host.css("z-index",h);this._sortByStyle("z-index",f)},_validateProperties:function(){try{this._validateSize();this._validateAnimationProperties();this._validateInteractionProperties();this._validateModalProperties();if(!this.position){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize)}if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1){throw new Error(this._invalidArgumentExceptions.invalidModalOpacity)}if(this.isModal&&!this._singleModalCheck()){throw new Error(this._invalidArgumentExceptions.invalidIsModal)}},_validateSize:function(){this._validateSizeLimits();if(this.height!=="auto"&&isNaN(parseInt(this.height))){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.width!=="auto"&&isNaN(parseInt(this.width))){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(this.height!=="auto"&&this.height<this.minHeight){this.height=this.minHeight}if(this.width<this.minWidth){this.width=this.minWidth}if(this.height!=="auto"&&this.height>this.maxHeight){this.height=this.maxHeight}if(this.width>this.maxWidth){this.width=this.maxWidth}if(this.dragArea===null){return}if(this.dragArea&&((this.dragArea.height!==null&&this.host.height()>this.dragArea.height)||(parseInt(this.height,10)>this.dragArea.height))||(this.dragArea.width!==null&&this.width>this.dragArea.width)||(this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)){}},_validateSizeLimits:function(){if(isNaN(parseInt(this.minHeight))){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(isNaN(parseInt(this.maxHeight))){throw new Error(this._invalidArgumentExceptions.invalidMaxHeight)}if(isNaN(parseInt(this.minWidth))){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}if(isNaN(parseInt(this.maxWidth))){throw new Error(this._invalidArgumentExceptions.invalidMaxWidth)}if(this.minHeight>this.maxHeight){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(this.minWidth>this.maxWidth){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}},_validateAnimationProperties:function(){if(this.animationType!=="fade"&&this.animationType!=="slide"&&this.animationType!=="combined"&&this.animationType!=="none"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration)}if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)}},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&this.keyCode!=="esc"){throw new Error(this._invalidArgumentExceptions.invalidKeyCode)}if(this.dragArea!==null&&(typeof this.dragArea.width==="undefined"||typeof this.dragArea.height==="undefined"||typeof this.dragArea.left==="undefined"||typeof this.dragArea.top==="undefined")){throw new Error(this._invalidArgumentExceptions.invalidDragArea)}if(!this.dialogResult||(!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)){throw new Error(this._invalidArgumentExceptions.invalidDialogResult)}if(this.closeButtonAction!=="hide"&&this.closeButtonAction!=="close"){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)}},_singleModalCheck:function(){var e=a.data(document.body,"jqxwindows-list")||[],f=e.length;while(f){f-=1;if(a(e[f].attr("id")).jqxWindow("isModal")){return false}}return true},_createStructure:function(){var e=this.host.children("DIV");if(e.length===1){this._header=a("<div>"+this.host.attr("caption")+"</div>");this.host.prepend(this._header);this.host.attr("caption","");this._content=a(e[0])}else{if(e.length===2){this._header=a(e[0]);this._content=a(e[1])}else{throw new Error("Invalid structure!")}}},_refresh:function(){this._render();this._addStyles();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initializeResize()},_render:function(){this._addHeaderWrapper();this._addCloseButton();this._addCollapseButton();this._removeModal();this._makeModal()},_addHeaderWrapper:function(){if(!this._headerContentWrapper){this._header.wrapInner('<div style="float:left;"></div>');this._headerContentWrapper=this._header.children(0)}},_addCloseButton:function(){if(!this._closeButton){this._closeButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>');this._closeButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+'"></div>');this._closeButtonWrapper.append(this._closeButton);this._header.append(this._closeButtonWrapper)}},_addCollapseButton:function(){if(!this._collapseButton){this._collapseButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>');this._collapseButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+'"></div>');this._collapseButtonWrapper.append(this._collapseButton);this._header.append(this._collapseButtonWrapper)}},_removeModal:function(){if(!this.isModal&&typeof this._modalBackground==="object"&&this._modalBackground!==null&&this._modalBackground.length>=1){a("."+this.toThemeProperty("jqx-window-modal")).remove();this._modalBackground=null}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var g=a.data(document.body,"jqxwindows-list");if(g){this._removeFromArray(this.host,g);a.data(document.body,"jqxwindows-list",g)}this._modalBackground=a("<div></div>");this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal"));this._setModalBackgroundStyles();a(document.body).append(this._modalBackground);this.addHandler(this._modalBackground,this._getEvent("click"),function(){return false});var f=this;var e=function(i,k){var h=a(i).parents().get();for(j=0;j<h.length;j++){if(a(h[j]).is(k)){return true}}return false};this.addHandler(this._modalBackground,"mouseup",function(h){f._stopResizing(f);h.preventDefault();return false});this.addHandler(this._modalBackground,"mousedown",function(i){var h=f._getTabbables();if(h.length>0){h[0].focus(1);setTimeout(function(){h[0].focus(1)},100)}i.preventDefault();return false});this.addHandler(a(document),"keydown.window"+this.element.id,function(k){if(k.keyCode!==9){return}var i=f._getTabbables();var l=null;var h=null;if(i.length>0){l=i[0];h=i[i.length-1]}if(k.target==f.element){return}if(l==null){return}if(!e(k.target,f.host)){l.focus(1);return false}if(k.target===h&&!k.shiftKey){l.focus(1);return false}else{if(k.target===l&&k.shiftKey){h.focus(1);return false}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-window"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-window-header"));this._content.addClass(this.toThemeProperty("jqx-window-content"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-disableselect"));this.element.tabIndex=0;this.host.find("DIV").css("tab-index",0);this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons();this._header.css("position","relative");this._performHeaderCloseButtonLayout();this._performHeaderCollapseButtonLayout();this._centerElement(this._headerContentWrapper,this._header,"y","margin");this._centerElement(this._closeButtonWrapper,this._header,"y","margin");this._centerElement(this._collapseButtonWrapper,this._header,"y","margin")},_handleHeaderButtons:function(){if(!this.showCloseButton){this._closeButtonWrapper.css("visibility","hidden")}else{this._closeButtonWrapper.css("visibility","visible");this._closeButtonWrapper.width(this.closeButtonSize);this._closeButtonWrapper.height(this.closeButtonSize)}if(!this.showCollapseButton){this._collapseButtonWrapper.css("visibility","hidden")}else{this._collapseButtonWrapper.css("visibility","visible");this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize)}},_performHeaderCloseButtonLayout:function(){var e=parseInt(this._header.css("padding-right"),10);if(!isNaN(e)){this._closeButtonWrapper.width(this._closeButton.width()+e)}this._closeButtonWrapper.css({position:"absolute",right:"0px"});this._centerElement(this._closeButton,this._closeButton.parent(),"y")},_performHeaderCollapseButtonLayout:function(){var e=parseInt(this._header.css("padding-right"),10);if(!isNaN(e)){this._collapseButtonWrapper.width(this.collapseButtonSize+e);this._collapseButtonWrapper.height(this.collapseButtonSize)}this._collapseButtonWrapper.css({position:"absolute",right:(this.showCloseButton)?this._closeButton.outerWidth(true):0});this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")},_performWidgetLayout:function(){var e;if(this.width!=="auto"){this.host.css("width",this.width)}if(!this.collapsed){if(this.height!=="auto"){this.host.height(this.height)}else{this.host.height(this.host.height())}this.host.css("min-height",this.minHeight)}this._setChildrenLayout();e=this._validateMinSize();this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth});if(!e){this._setChildrenLayout()}},_widthDifference:function(h){var k=parseInt(h.css("padding-left"),10),g=parseInt(h.css("padding-right"),10),i=parseInt(h.css("margin-left"),10),l=parseInt(h.css("margin-right"),10),e=parseInt(h.css("border-left-width"),10),f=parseInt(h.css("border-right-width"),10),m=0;if(!isNaN(k)){m+=k}if(!isNaN(g)){m+=g}if(!isNaN(i)){m+=i}if(!isNaN(l)){m+=l}if(!isNaN(e)){m+=e}if(!isNaN(f)){m+=f}return m},_heightDifference:function(h){var i=parseInt(h.css("padding-top"),10),f=parseInt(h.css("padding-bottom"),10),e=parseInt(h.css("margin-top"),10),g=parseInt(h.css("margin-bottom"),10),k=parseInt(h.css("border-top-width"),10),m=parseInt(h.css("border-bottom-width"),10),l=0;if(!isNaN(i)){l+=i}if(!isNaN(f)){l+=f}if(!isNaN(e)){l+=e}if(!isNaN(g)){l+=g}if(!isNaN(k)){l+=k}if(!isNaN(m)){l+=m}return l},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth()-this._header.width()));this._content.width(this.host.width()-(this._content.outerWidth()-this._content.width()));this._content.height(this.host.height()-this._header.outerHeight()-(this._content.outerHeight()-this._content.height()))},_validateMinSize:function(){var f=true;if(this.minHeight<this._header.height()){this.minHeight=this._header.height();f=false}var h=this._header.children(0).outerWidth(true),e=this._header.children(1).outerWidth(true),g=h+e;if(this.minWidth<100){this.minWidth=Math.min(g,100);f=false}return f},_centerElement:function(h,f,e,g){if(typeof f.left==="number"&&typeof f.top==="number"&&typeof f.height==="number"&&typeof f.width==="number"){this._centerElementInArea(h,f,e)}else{this._centerElementInParent(h,f,e,g)}},_centerElementInParent:function(e,m,h,f){h=h.toLowerCase();if(f){f+="-"}else{f=""}if(h.indexOf("y")>=0){var g=e.outerHeight(true),k=m.height(),i=(k-g)/2;e.css(f+"top",i+"px")}if(h.indexOf("x")>=0){var o=e.outerWidth(true);var n=m.width();var l=(n-o)/2;e.css(f+"left",l+"px")}},_centerElementInArea:function(f,e,h){h=h.toLowerCase();if(h.indexOf("y")>=0){var g=f.outerHeight(true);var k=e.height;var i=(k-g)/2;f.css("top",i+e.top+"px")}if(h.indexOf("x")>=0){var n=f.outerWidth(true);var m=e.width;var l=(m-n)/2;f.css("left",l+e.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown"));this.removeHandler(this._header,this._getEvent("mousemove"));this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"));this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(this.host,"keydown");this.removeHandler(this._closeButton,this._getEvent("click"));this.removeHandler(this._closeButton,this._getEvent("mouseenter"));this.removeHandler(this._closeButton,this._getEvent("mouseleave"));this.removeHandler(this._collapseButton,this._getEvent("click"));this.removeHandler(this._collapseButton,this._getEvent("mouseenter"));this.removeHandler(this._collapseButton,this._getEvent("mouseleave"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(this._header,this._getEvent("mouseenter"));this.removeHandler(this._header,this._getEvent("mouseleave"));this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,g){var f=this._indexOf(e,g);if(f>=0){return g.splice(this._indexOf(e,g),1)}else{return g}},_sortByStyle:function(e,l){for(var h=0;h<l.length;h++){for(var f=l.length-1;f>h;f--){var m=l[f],k=l[f-1],g;if(parseInt(m.css(e),10)<parseInt(k.css(e),10)){g=m;l[f]=k;l[f-1]=g}}}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){if(this._isTouchDevice){return this._touchEvents[e]}else{return e}},_addEventHandlers:function(){this._addDragDropHandlers();this._addCloseHandlers();this._addCollapseHandlers();this._addFocusHandlers();this._documentResizeHandlers();this._closeButtonHover();this._collapseButtonHover();this._addDialogButtonsHandlers();this._addHeaderHoverEffect();this._addResizeHandlers();this.addHandler(this._header,this._getEvent("mousemove"),this._addHeaderCursorHandlers,{self:this})},_addResizeHandlers:function(){var e=this;this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(f){var e=f.data.self;e._header.width(e.host.width()-(e._header.outerWidth(true)-e._header.width()));e.width=f.args.width;e.height=f.args.height},_addHeaderHoverEffect:function(){var e=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){a(this).addClass(e.toThemeProperty("jqx-window-header-hover"))});this.addHandler(this._header,this._getEvent("mouseleave"),function(){a(this).removeClass(e.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){if(this.okButton){this.addHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"})}if(this.cancelButton){this.addHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})}},_documentResizeHandlers:function(){var e=this;if(this.isModal){a(window).resize(function(){if(typeof e._modalBackground==="object"&&e._modalBackground!==null){e._modalBackground.width(e._getDocumentSize().width);e._modalBackground.height(e._getDocumentSize().height)}})}},_setDialogResultHandler:function(f){var e=f.data.self;e._setDialogResult(f.data.result);e.closeWindow()},_setDialogResult:function(e){this.dialogResult.OK=false;this.dialogResult.None=false;this.dialogResult.Cancel=false;e=e.toLowerCase();switch(e){case"ok":this.dialogResult.OK=true;break;case"cancel":this.dialogResult.Cancel=true;break;default:this.dialogResult.None=true}},_getDocumentSize:function(){var e=(a.browser.msie&&a.browser.version<9)?4:0,f=(a.browser.msie&&a.browser.version<9)?4:0;if(document.body.scrollHeight>document.body.clientHeight&&(a.browser.msie&&a.browser.version<9)){e=this._SCROLL_WIDTH}if(document.body.scrollWidth>document.body.clientWidth&&(a.browser.msie&&a.browser.version<9)){f=this._SCROLL_WIDTH}return{width:a(document).width()-e,height:a(document).height()-f}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))});this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))});this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){this._modalBackground.fadeTo(0,this.modalOpacity);this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":1299});if(!this.autoOpen){this._modalBackground.css("display","none")}}},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){if(!e.isModal){e.bringToFront()}})},_indexOf:function(f,g){for(var e=0;e<g.length;e++){if(g[e][0]===f[0]){return e}}return -1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),this._closeWindow,{self:this});if(this.keyboardCloseKey!=="none"){if(typeof this.keyboardCloseKey!=="number"&&this.keyboardCloseKey.toLowerCase()==="esc"){this.keyboardCloseKey=27}this.addHandler(this.host,"keydown",function(f){if(f.keyCode===e.keyboardCloseKey){e._closeWindow(f)}},{self:this})}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){if(!e.collapsed){e.collapse()}else{e.expand()}})},_closeWindow:function(f){var e=f.data.self.closeWindow()},_addHeaderCursorHandlers:function(f){var e=f.data.self;if(e.resizeArea&&e.resizable){e._header.css("cursor",e._resizeWrapper.css("cursor"));return}else{if(e.draggable){e._header.css("cursor","move");return}}e._header.css("cursor","default");if(e._resizeWrapper&&e._resizeWrapper.length>0){e._resizeWrapper.css("cursor","default")}},_addDragDropHandlers:function(){if(this.draggable){var e=this;this.addHandler(this._header,this._getEvent("mousedown"),function(g){e._headerMouseDownHandler(e,g);return true});this.addHandler(this._header,"dragstart",function(g){if(g.preventDefault){g.preventDefault()}return false});this.addHandler(this._header,this._getEvent("mousemove"),function(g){return e._headerMouseMoveHandler(e,g)});this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(g){return e._dragHandler(e,g)});this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(g){return e._dropHandler(e,g)});if(window.frameElement){if(window.top!=null){var f=function(g){e._dropHandler(e,g)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}}},_headerMouseDownHandler:function(e,f){if(!e.isModal){e.bringToFront()}if(e._resizeDirection==null){e._mousePosition.x=(e._isTouchDevice)?f.originalEvent.touches[0].pageX:f.pageX;e._mousePosition.y=(e._isTouchDevice)?f.originalEvent.touches[0].pageY:f.pageY;e._mouseDown=true;e._isDragging=false}},_headerMouseMoveHandler:function(e,h){if(e._mouseDown&&!e._isDragging){var g=(e._isTouchDevice)?h.originalEvent.touches[0].pageX:h.pageX,f=(e._isTouchDevice)?h.originalEvent.touches[0].pageY:h.pageY;if((g+3<e._mousePosition.x||g-3>e._mousePosition.x)||(f+3<e._mousePosition.y||f-3>e._mousePosition.y)){e._isDragging=true;e._mousePosition={x:g,y:f};e._windowPosition={x:e.host.offset().left,y:e.host.offset().top};a(document.body).addClass(e.toThemeProperty("jqx-disableselect"))}return false}return true},_dropHandler:function(g,k){var f=true;if(g._isDragging&&!g.isResizing&&!g._resizeDirection){var e=parseInt(g.host.css("left"),10),l=parseInt(g.host.css("top"),10),i=(g._isTouchDevice)?0:k.pageX,h=(g._isTouchDevice)?0:k.pageY;g.enableResize=g._enableResizeBackup;g._enableResizeBackup="undefined";g._raiseEvent(3,e,l,i,h);f=false;if(k.preventDefault!="undefined"){k.preventDefault()}if(k.originalEvent!=null){k.originalEvent.mouseHandled=true}if(k.stopPropagation!="undefined"){k.stopPropagation()}}g._isDragging=false;g._mouseDown=false;a(document.body).removeClass(g.toThemeProperty("jqx-disableselect"));return f},_dragHandler:function(m,h){if(m._isDragging&&!m.isResizing&&!m._resizeDirection){var l=(m._isTouchDevice)?h.originalEvent.which:h.which;if(typeof m._enableResizeBackup==="undefined"){m._enableResizeBackup=m.enableResize}m.enableResize=false;if(l===0&&a.browser.msie&&a.browser.version<8){return m._dropHandler(m,h)}var k=(m._isTouchDevice)?h.originalEvent.touches[0].pageX:h.pageX,i=(m._isTouchDevice)?h.originalEvent.touches[0].pageY:h.pageY,g=k-m._mousePosition.x,e=i-m._mousePosition.y,f=m._windowPosition.x+g,n=m._windowPosition.y+e;m.move(f,n,h);h.preventDefault();return false}return true},_validateCoordinates:function(e,l,i,k){var h=this._getDraggingArea();e=(e<h.left)?h.left:e;l=(l<h.top)?h.top:l;var f=this.host.outerWidth(true);var g=this.host.outerHeight(true);if(e+f>=h.width+h.left-2*k){e=h.width+h.left-f-k}if(l+g>=h.height+h.top-i){l=h.height+h.top-g-i}return{x:e,y:l}},_performLayout:function(){this._performHeaderLayout();this._performWidgetLayout()},_parseDragAreaAttributes:function(){if(this.dragArea!==null){this.dragArea.height=parseInt(this.dragArea.height,10);this.dragArea.width=parseInt(this.dragArea.width,10);this.dragArea.top=parseInt(this.dragArea.top,10);this.dragArea.left=parseInt(this.dragArea.left,10)}},_positionWindow:function(){this._parseDragAreaAttributes();if(this.position instanceof Array&&this.position.length===2&&typeof this.position[0]==="number"&&typeof this.position[1]==="number"){this.host.css({left:this.position[0],top:this.position[1]})}else{if(this.position instanceof Object&&this.position.x!=="undefined"&&this.position.y!="undefined"){this.host.css({left:this.position.x,top:this.position.y})}else{this._positionFromLiteral()}}},_getDraggingArea:function(){var e={};e.left=((this.dragArea&&this.dragArea.left)?this.dragArea.left:0);e.top=((this.dragArea&&this.dragArea.top)?this.dragArea.top:0);e.width=((this.dragArea&&this.dragArea.width)?this.dragArea.width:this._getDocumentSize().width);e.height=((this.dragArea&&this.dragArea.height)?this.dragArea.height:this._getDocumentSize().height);return e},_positionFromLiteral:function(){if(!(this.position instanceof Array)){this.position=this.position.split(",")}var e=this.position.length,f=this._getDraggingArea();while(e){e-=1;this.position[e]=this.position[e].replace(/ /g,"");switch(this.position[e]){case"top":this.host.css("top",f.top);break;case"left":this.host.css("left",f.left);break;case"bottom":this.host.css("top",f.height-this.host.height()+f.top);break;case"right":this.host.css("left",f.left+f.width-this.host.width());break;default:if(!this.dragArea){f=a(window)}this._centerElement(this.host,f,"xy");break}}},_raiseEvent:function(g){var f=this._events[g],h=a.Event(f),e={};if(g===2||g===3){e.x=arguments[1];e.y=arguments[2];e.pageX=arguments[3];e.pageY=arguments[4]}if(f==="closed"||f==="hide"){e.dialogResult=this.dialogResult}h.args=e;return this.host.trigger(h)},_destroy:function(){this.host.remove();if(this._modalBackground!==null){this._modalBackground.remove()}},_toClose:function(f,e){return((f&&e[0]===this.element)||(e[0]!==this.element&&typeof e[0]==="object"))},propertyChangedHandler:function(e,f,h,g){this._validateProperties();switch(f){case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh();this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers();this._addEventHandlers();break;case"disabled":if(g){this.disable()}else{this.disabled=true;this.enable()}break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(g);break;case"content":this.setContent(g);break;case"draggable":this._removeEventHandlers();this._addEventHandlers();break;case"resizable":if(g){this._initializeResize()}else{this._removeResize()}break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":if(g){this._addDialogButtonsHandlers()}else{this.removeHandler(this.okButton)}break;case"cancelButton":if(g){this._addDialogButtonsHandlers()}else{this.removeHandler(this.cancelButton)}break;case"collapsed":if(g){if(!h){this.collapsed=false;this.collapse(0)}}else{if(h){this.collapsed=true;this.expand(0)}}case"theme":a.jqx.utilities.setTheme(h,g,this.host);break;case"enableResize":return;default:return}},collapse:function(f){if(!this.collapsed&&!this.host.is(":animated")){if(this.enableResize){this._enableResizeCollapseBackup=true;this.enableResize=false}var e=this,g=this._header.outerHeight(),h=parseInt(this._header.css("border-bottom-width"),10),f=!isNaN(parseInt(f))?f:this.collapseAnimationDuration;if(!isNaN(h)){g-=2*h}this._heightBeforeCollapse=this.host.height();this._minHeightBeforeCollapse=this.host.css("min-height");this.host.css("min-height",g);this.host.animate({height:g},f,function(){e.collapsed=true;e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-collapsed"));e._content.css("display","none");e._raiseEvent(5)})}},expand:function(f){if(this.collapsed&&!this.host.is(":animated")){var e=this,f=!isNaN(parseInt(f))?f:this.collapseAnimationDuration;this.host.animate({height:this._heightBeforeCollapse},f,function(){e.collapsed=false;e.host.css("min-height",e._minHeightBeforeCollapse);e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-collapsed"));if(e._enableResizeCollapseBackup){e.enableResize=true}e._content.css("display","block");e._raiseEvent(6)})}},closeAll:function(h){h=(typeof h==="object")?false:h;var g=a.data(document.body,"jqxwindows-list"),f=g.length,e=a.data(document.body,"jqxwindow-modal")||[];while(f){f-=1;if(this._toClose(h,g[f])){g[f].jqxWindow("closeWindow","close");g.splice(f,1)}}if(this._toClose(h,e)){e.jqxWindow("closeWindow","close");a.data(document.body,"jqxwindow-modal",[])}a.data(document.body,"jqxwindows-list",g)},setTitle:function(e){this._headerContentWrapper.html(e);this._performLayout()},setContent:function(e){this._content.html(e);this._performLayout()},disable:function(){this.disabled=true;this._removeEventHandlers();this._header.addClass(this.toThemeProperty("jqx-window-header-disabled"));this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this._content.addClass(this.toThemeProperty("jqx-window-content-disabled"));this.host.addClass(this.toThemeProperty("jqx-window-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._removeResize()},enable:function(){if(this.disabled){this._addEventHandlers();this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled"));this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this.host.removeClass(this.toThemeProperty("jqx-window-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false;this._initializeResize()}},isOpen:function(){return this._visible},closeWindow:function(f){var e=this;f=(typeof f==="undefined")?this.closeButtonAction:f;this.hide(function(){if(f==="close"){e._destroy()}})},bringToFront:function(){var f=a.data(document.body,"jqxwindows-list"),l=f[f.length-1],k=parseInt(l.css("z-index"),10),g=this._indexOf(this.host,f);for(var e=f.length-1;e>g;e-=1){var h=parseInt(f[e].css("z-index"),10)-1;f[e].css("z-index",h)}this.host.css("z-index",k);this._sortByStyle("z-index",f)},hide:function(g,f,e){f=f||this.closeAnimationDuration;switch(this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(f,function(){if(g instanceof Function){g()}});case"slide":this.host.slideUp(f,function(){if(g instanceof Function){g()}});case"combined":this.host.hide(f,function(){if(g instanceof Function){g()}})}this._visible=false;if(this.isModal){this._modalBackground.hide()}if(e!==true){this._raiseEvent(1);this._raiseEvent(8)}},show:function(h,g){this._setDialogResult("none");g=g||this.showAnimationDuration;switch(this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(g,function(){if(h instanceof Function){h()}});case"slide":this.host.slideDown(g,function(){if(h instanceof Function){h()}});case"combined":this.host.show(g,function(){if(h instanceof Function){h()}})}if(this.isModal){this._modalBackground.show()}if(!this._visible){this._raiseEvent(4);this._raiseEvent(7)}this._visible=true;this._performLayout();var f=this;var e=function(){f._content.focus()};e();setTimeout(function(){e()},100)},_getTabbables:function(){var f=this._content.find("*");var e=new Array();a.each(f,function(){if(d(this)){e[e.length]=this}});return e},move:function(n,m,e,h){var g=0,f=0,l,k,i,n=parseInt(n,10),m=parseInt(m,10);if(a.browser.msie){if(a(window).width()>a(document).width()&&!this.dragArea){f=this._SCROLL_WIDTH}if(a(window).height()<a(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea){g=this._SCROLL_WIDTH}}l=this._validateCoordinates(n,m,f,g);if(parseInt(this.host.css("left"),10)!==l.x||parseInt(this.host.css("top"),10)!==l.y){if(e){k=(this._isTouchDevice)?e.originalEvent.touches[0].pageX:e.pageX;i=(this._isTouchDevice)?e.originalEvent.touches[0].pageY:e.pageY}if(h!==false){this._raiseEvent(2,l.x,l.y,k,i)}}this.element.style.left=l.x+"px";this.element.style.top=l.y+"px"}});function c(g,e){var k=g.nodeName.toLowerCase();if("area"===k){var i=g.parentNode,h=i.name,f;if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f)}return(/input|select|textarea|button|object/.test(k)?!g.disabled:"a"==k?g.href||e:e)&&b(g)}function b(e){return !a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}function d(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f)}}(jQuery));var resizeModule=(function(a){return{resizeConfig:function(){this.resizeTarget=null;this.resizeIndicatorSize=10;this.resizeTargetChildren=null;this.isResizing=false;this.resizeArea=false;this.minWidth=1;this.maxWidth=100;this.minHeight=1;this.maxHeight=100;this.resizeParent=null;this.enableResize=true;this._cursorBackup;this._resizeEvents=["resizing","resized","resize"];this._resizeMouseDown=false;this._resizeCurrentMode=null;this._mouseResizePosition={};this._resizeMethods=null;this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var d=a(this.resizeTarget.children(".jqx-resize"));d.detach();var c=d.children();this._removeResizeEventListeners();for(var b=0;b<c.length;b+=1){a(c[b]).detach();this.resizeTarget.append(c[b])}d.remove()}},initResize:function(c){this.resizeConfig();this.resizeTarget=a(c.target);this.resizeIndicatorSize=c.indicatorSize||10;if(this.resizeTarget.is("textarea")){var b=this._resizableTextArea();this.resizeIndicatorSize=((this.resizeIndicatorSize>=10)?this.resizeIndicatorSize:10)}this.maxWidth=c.maxWidth||100;this.minWidth=c.minWidth||1;this.maxHeight=c.maxHeight||100;this.minHeight=c.minHeight||1;this.resizeParent=c.resizeParent;this._parseResizeParentProperties();this._validateResizeProperties();this._validateResizeTargetDimensions();this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,c.alsoResize,b);this._refreshResize();this._cursorBackup=this.resizeTarget.css("cursor");if(this._cursorBackup==="auto"){this._cursorBackup="default"}},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth;this.resizeTarget.minWidth=((3*this.resizeIndicatorSize>this.minWidth)?3*this.resizeIndicatorSize:this.minWidth);this.resizeTarget.maxHeight=this.maxHeight;this.resizeTarget.minHeight=((3*this.resizeIndicatorSize>this.minHeight)?3*this.resizeIndicatorSize:this.minHeight)},_parseResizeParentProperties:function(){if(this.resizeParent){this.resizeParent.left=parseInt(this.resizeParent.left,10);this.resizeParent.top=parseInt(this.resizeParent.top,10);this.resizeParent.width=parseInt(this.resizeParent.width,10);this.resizeParent.height=parseInt(this.resizeParent.height,10)}},_resizableTextArea:function(){var b=this.resizeTarget;b.wrap(a("<div></div>"));this.resizeTarget=b.parent();this.resizeTarget.css({position:"absolute",left:b.offset().left,top:b.offset().top,margin:"5px"});b.css({"z-index":0,position:"relative",top:"0px",left:"0px",margin:this.resizeIndicatorSize+"px",resize:"none"});return b},_getChildren:function(g,d,f,h,b,c){this.resizeTargetChildren=a(b);this.resizeTargetChildren.toArray();this.resizeTargetChildren.push(c);var e=this.resizeTargetChildren.length;while(e){e-=1;this.resizeTargetChildren[e]=a(this.resizeTargetChildren[e])}},_refreshResize:function(){this._renderResize();this._performResizeLayout();this._removeResizeEventListeners();this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>"));this._resizeWrapper=this.resizeTarget.children(0);this._resizeWrapper.addClass("jqx-resize");this._resizeWrapper.css("z-index",8000)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height());this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this._resizeWrapper.unbind("mousemove.resize"+b);this._resizeWrapper.unbind("mousedown.resize"+b);a(document).unbind("mousemove.resize"+b);a(document).unbind("mouseup.resize"+b)},_addResizeEventHandlers:function(){var d=this.resizeTarget.attr("id");var b=this;this._resizeWrapper.bind("mousemove.resize."+d,{self:this},function(e){b._resizeCursorChangeHandler(b,e)});this._resizeWrapper.bind("mousedown.resize."+d,{self:this},function(e){b._resizeMouseDownHandler(b,e)});a(document).bind("mousemove.resize."+d,{self:this},function(e){b._resizeHandler(b,e)});a(document).bind("mouseup.resize."+d,{self:this},function(e){b._stopResizing(b,e)});if(window.frameElement){if(window.top!=null){var c=function(e){b._stopResizing(b,e)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",c,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",c)}}}}},_stopResizing:function(b,c){if(b.enableResize){if(b.isResizing){b._raiseResizeEvent(1)}b._resizeMouseDown=false;b.isResizing=false;b._resizeDirection=null;b.resizeTarget.removeClass("jqx-disableselect")}if(b._cursorBackup=="undefined"){b._cursorBackup="default"}if(b._resizeWrapper){b._resizeWrapper.css("cursor",b._cursorBackup)}},_resizeHandler:function(b,c){if(b.enableResize){if(b.isResizing&&b._resizeDirection){if(c.which===0&&a.browser.msie&&a.browser.version<9){b._stopResizing(c)}b._performResize(c.pageX,c.pageY);return false}else{return b._resizeCaptureCursor(c.pageX,c.pageY)}}},_resizeCaptureCursor:function(c,b){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if((c+3<this._mouseResizePosition.x||c-3>this._mouseResizePosition.x)||(b+3<this._mouseResizePosition.y||b-3>this._mouseResizePosition.y)){this._changeCursor(c-parseInt(this.resizeTarget.css("left")),b-parseInt(this.resizeTarget.css("top")));this._mouseResizePosition={x:c,y:b};this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this.resizeTarget.addClass("jqx-disableselect");return false}}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width();this.resizeTarget.lastHeight=this.resizeTarget.height();this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10);this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10);this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){var b=this.resizeTargetChildren.length,c;while(b){b-=1;c=this.resizeTargetChildren[b];this.resizeTargetChildren[b].lastWidth=c.width();this.resizeTargetChildren[b].lastHeight=c.height()}},_performResize:function(e,d){var c=e-this._mouseResizePosition.x,b=d-this._mouseResizePosition.y;if(this._resizeDirection){this._resize(this.resizeTarget,c,b)}},_resizeCursorChangeHandler:function(b,c){if(b.enableResize){if(!b.isResizing){b._changeCursor(c.pageX-parseInt(b.resizeTarget.css("left")),c.pageY-parseInt(b.resizeTarget.css("top")))}}},_resizeMouseDownHandler:function(b,c){if(b.enableResize){if(b._resizeDirection!==null){b._resizeMouseDown=true;b._mouseResizePosition.x=c.pageX;b._mouseResizePosition.y=c.pageY;c.preventDefault()}}},_validateResizeProperties:function(){try{if(!this.resizeTarget||this.resizeTarget.length!==1){throw new Error(this._resizeExceptions.invalidTarget)}if(this.minHeight<0||isNaN(parseInt(this.minHeight))){throw new Error(this._resizeExceptions.invalidMinHeight)}if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight))){throw new Error(this._resizeExceptions.invalidMaxHeight)}if(this.minWidth<0||isNaN(parseInt(this.minWidth))){throw new Error(this._resizeExceptions.invalidMinWidth)}if(this.maxWidth<0||isNaN(parseInt(this.maxWidth))){throw new Error(this._resizeExceptions.invalidMaxWidth)}if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize))){throw new Error(this._resizeExceptions.invalidIndicatorSize)}if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth){throw new Error(this._resizeExceptions.invalidSize)}if(this.resizeParent&&this.resizeParent.width&&this.resizeParent.height&&this.resizeParent.left&&this.resizeParent.top&&((this.resizeParent.width<this.resizeTarget.width()||this.resizeParent.width<this.maxWidth)||(this.resizeParent.height<this.resizeTarget.height()||this.resizeParent.height<this.maxHeight))){throw new Error(this._resizeExceptions.invalidSize)}}catch(b){alert(b)}},_changeCursor:function(b,c){if(this.isResizing||this._resizeMouseDown){return}this.resizeArea=true;if(b<=this.resizeIndicatorSize&&b>=0&&c<=this.resizeIndicatorSize&&c>0){this._resizeWrapper.css("cursor","nw-resize");this._resizeDirection="topleft"}else{if(c<=this.resizeIndicatorSize&&c>0&&b>=this.resizeTarget.width()-this.resizeIndicatorSize){this._resizeWrapper.css("cursor","ne-resize");this._resizeDirection="topright"}else{if(c>=this.resizeTarget.height()-this.resizeIndicatorSize&&c<this.resizeTarget.height()&&b<=this.resizeIndicatorSize&&b>=0){this._resizeWrapper.css("cursor","sw-resize");this._resizeDirection="bottomleft"}else{if(c>=this.resizeTarget.height()-this.resizeIndicatorSize&&c<this.resizeTarget.height()&&b>=this.resizeTarget.width()-this.resizeIndicatorSize&&b<this.resizeTarget.width()){this._resizeWrapper.css("cursor","se-resize");this._resizeDirection="bottomright"}else{if(b<=this.resizeIndicatorSize&&b>=0){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="left"}else{if(c<=this.resizeIndicatorSize&&c>0){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="top"}else{if(c>=this.resizeTarget.height()-this.resizeIndicatorSize&&c<this.resizeTarget.height()){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="bottom"}else{if(b>=this.resizeTarget.width()-this.resizeIndicatorSize&&b<this.resizeTarget.width()){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="right"}else{this._resizeWrapper.css("cursor",this._cursorBackup);this._resizeDirection=null;this.resizeArea=false}}}}}}}}},_prepareResizeMethods:function(b){this._resizeMethods=[];if(b.indexOf("left")>=0){this._resizeMethods.push(this._resizeLeft)}if(b.indexOf("top")>=0){this._resizeMethods.push(this._resizeTop)}if(b.indexOf("right")>=0){this._resizeMethods.push(this._resizeRight)}if(b.indexOf("bottom")>=0){this._resizeMethods.push(this._resizeBottom)}},_validateResize:function(e,b,f,d,c){if(f==="horizontal"||f==="both"){return this._validateWidth(e,d,c)}else{if(f==="vertical"||f==="both"){return this._validateHeight(b,d,c)}}return{result:false,fix:0}},_getParent:function(){if(this.resizeParent!==null&&this.resizeParent!=="undefined"&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left){return this.resizeParent}return{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(d,h,g){var i=0,c=(h.outerHeight(true)-h.height()),b=false,f=d,e=this._getParent();if(a(window).width()>a(document).width()&&a.browser.msie&&e.height===a(document).height()){i=this._SCROLL_WIDTH}if(g==="bottom"&&(d+h.position().top+i+c>e.height+e.top)){return{fix:e.height-h.position().top-i-c+e.top,result:false}}if(g==="top"&&h.lastHeight-d+h.y<e.top){return{fix:d+(h.lastHeight-d+h.y)-e.top,result:false}}if(d<h.minHeight){return{fix:h.minHeight,result:false}}if(d>h.maxHeight){return{fix:h.maxHeight,result:false}}return{result:true,fix:d}},_validateWidth:function(h,g,f){var i=0,c=(g.outerWidth(true)-g.width()),b=false,e=h,d=this._getParent();if(a(window).height()<a(document).height()&&a.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&d.width===a(document).width()){i=this._SCROLL_WIDTH}if(f==="right"&&(h+g.position().left+i+c>d.width+d.left)){return{fix:d.width-g.position().left-i-c+d.left,result:false}}if(f==="left"&&(g.lastWidth-h+g.x<d.left)){return{fix:h+(g.lastWidth-h+g.x)-d.left,result:false}}if(h<g.minWidth){return{fix:g.minWidth,result:false}}if(h>g.maxWidth){return{fix:g.maxWidth,result:false}}return{result:true,fix:h}},_resize:function(e,c,b){var f=this._resizeDirection;for(method in this._resizeMethods){if(this._resizeMethods[method] instanceof Function){var d={element:e,x:c,y:b,self:this};this._resizeMethods[method](d)}}this._performResizeLayout()},_setResizeChildrenSize:function(c,d){var f=this.resizeTargetChildren.length;while(f){f--;if(d==="width"){var e=this.resizeTargetChildren[f].lastWidth-(this.resizeTarget.lastWidth-c);if(e<this.resizeTarget.maxWidth&&e>0){this.resizeTargetChildren[f].width(e)}}else{var b=this.resizeTargetChildren[f].lastHeight-(this.resizeTarget.lastHeight-c);if(b<this.resizeTarget.maxHeight&&b>0){this.resizeTargetChildren[f].height(b)}}}},_resizeRight:function(c){var d=c.element.lastWidth+c.x,b=c.self._validateResize(d,0,"horizontal",c.element,"right");if(!b.result){d=b.fix}if(c.element.width()!==d){c.self._setResizeChildrenSize(d,"width");c.element.width(d);c.self._raiseResizeEvent(0)}return d},_resizeLeft:function(d){var e=d.element.lastWidth-d.x,c=d.self._validateResize(e,0,"horizontal",d.element,"left"),b=d.element.x+d.x;if(!c.result){b=d.element.x+(d.element.lastWidth-c.fix);e=c.fix;return}if(d.element.width()!==e){d.self._setResizeChildrenSize(e,"width");d.element.width(e);d.element.css("left",b);d.self._raiseResizeEvent(0)}return e},_resizeBottom:function(d){var c=d.element.lastHeight+d.y,b=d.self._validateResize(0,c,"vertical",d.element,"bottom");if(!b.result){c=b.fix}if(d.element.height()!==c){d.self._setResizeChildrenSize(c,"height");d.element.height(c);d.self._raiseResizeEvent(0)}return c},_resizeTop:function(d){var c=d.element.lastHeight-d.y,b=d.self._validateResize(0,c,"vertical",d.element,"top"),e=d.element.y+d.y;if(!b.result){e=d.element.y+(d.element.lastHeight-b.fix);c=b.fix;return}if(d.element.height()!==c){d.self._setResizeChildrenSize(c,"height");d.element.height(c);d.element.css("top",e);d.self._raiseResizeEvent(0)}return c},_raiseResizeEvent:function(d){var c=this._resizeEvents[d],e=a.Event(c),b={};b.width=this.resizeTarget.width();b.height=this.resizeTarget.height();e.args=b;if(d==0){var c=this._resizeEvents[2],f=a.Event(c);f.args=b;this.resizeTarget.trigger(f)}return this.resizeTarget.trigger(e)}}}(jQuery));$.extend($.jqx._jqxWindow.prototype,resizeModule);(function(a){a.jqx.jqxWidget("jqxDocking","",{});a.extend(a.jqx._jqxDocking.prototype,{defineInstance:function(){this.orientation="horizontal";this.mode="default";this.floatingWindowOpacity=0.3;this.panelsRoundedCorners=true;this.disabled=false;this.width="auto";this.height="auto";this.windowsMode=null;this.cookies=false;this.cookieOptions={};this.windowsOffset=5;this._windowOptions={};this._draggedFired=false;this._dragging=false;this._draggingItem=null;this._panels=[];this._windows=[];this._indicator=null;this._events=["dragEnd","dragStart"]},createInstance:function(){this._refresh(true);if(this.disabled){this.disabled=false;this.disable()}},refresh:function(b){if(!b){this._performLayout()}},_refresh:function(b){this._render();this._removeClasses();this._addClasses();this._setWindowsOptions(true);this._performLayout();this._cookieHandler();this._cookieExporter();this._removeEventListeners();this._addEventListeners()},_addClasses:function(){this.host.addClass("jqx-docking");for(var b=0;b<this._panels.length;b+=1){this._panels[b].addClass(this.toThemeProperty("jqx-docking-panel"));if(this.panelsRoundedCorners){this._panels[b].addClass(this.toThemeProperty("jqx-rc-all"))}}for(var b=0;b<this._windows.length;b+=1){this._windows[b].addClass(this.toThemeProperty("jqx-docking-window"))}},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var b=0;b<this._panels.length;b+=1){this._panels[b].removeClass(this.toThemeProperty("jqx-docking-panel"));this._panels[b].removeClass(this.toThemeProperty("jqx-rc-all"))}for(var b=0;b<this._windows.length;b+=1){this._windows[b].removeClass(this.toThemeProperty("jqx-docking-window"))}},_render:function(){var b=this.host.children("div"),d;for(var c=0;c<b.length;c+=1){this._panels.push(a(b[c]));this._renderWindows(a(b[c]))}},_renderWindows:function(b){var d=b.children("div");for(var c=0;c<d.length;c+=1){this._windows.push(a(d[c]));a(d[c]).jqxWindow({theme:this.theme,enableResize:false,width:a(d[c]).css("width"),maxWidth:Number.MAX_VALUE});a(d[c]).detach();b.append(a(d[c]))}b.append('<div class="spacer" style="clear: both;"></div>')},_performLayout:function(){this.host.css("width",this.width);this.host.css("height",this.height);this._performWindowsLayout();this._performPanelsLayout();this._performWindowsLayout()},_performPanelsLayout:function(){var b,e=this.host.width(),c=0;for(var d=0;d<this._panels.length;d+=1){b=this._panels[d];b.css("height","auto");if(this.orientation==="vertical"){b.css("width","auto");b.css("float","none")}else{c+=this._handleHorizontalSize(b,c,e)}b.css("min-width",b.width())}if(this.orientation==="horizontal"){if(c<e){this._fillContainer(e,c)}}},_handleHorizontalSize:function(b,c,g){var e=g/this._panels.length,d,f=(b.outerWidth(true)-b.width());b.css("float","left");if(b.css("width")==="auto"||parseInt(b.css("width"),10)===0){b.width(e-f)}if(c+b.outerWidth(true)>=g){if(c+e<g){d=e-f;b.css("min-width",d);b.width(d)}else{d=b.width()-((c+b.outerWidth(true))-g);b.css("min-width",d);b.width(d)}}return b.outerWidth(true)},_fillContainer:function(f,b){var d=this._panels.length,e=this._panels[d-1],c=f-b+e.width();if(a.browser.msie&&a.browser.version<9){c-=this._panels.length}e.width(c)},_performWindowsLayout:function(){var b;for(var c=0;c<this._windows.length;c+=1){b=this._getWindowOptions(this._windows[c]);this._windows[c].css("margin",this.windowsOffset);if(b){if(b.mode!=="floating"){this._windows[c].css("position","static")}}else{if(this.mode!=="floating"){this._windows[c].css("position","static")}}this._setWindowSize(this._windows[c])}},_setWindowSize:function(b){if(this.orientation==="vertical"){if(b.css("width")==="auto"||b.width()>b.parent().width()){b.jqxWindow("width",b.parent().width()-(b.outerWidth()-b.width())-2*this.windowsOffset)}}else{b.jqxWindow("width",b.parent().width()-(b.outerWidth()-b.width())-2*this.windowsOffset)}this._setWindowOption(b,"size",{width:b.width(),height:b.height()})},_setWindowsOptions:function(b){for(var f=0;f<this._windows.length;f+=1){var g,c=this._windows[f].attr("id"),d=this._getWindowOptions(c);if(!b){var e="TEDX"}g=null;if(this.windowsMode&&this.windowsMode.hasOwnProperty(c)){g=this.windowsMode[c];this._setWindowOption(this._windows[f],"mode",g)}else{if(typeof d!=="undefined"&&typeof d.mode==="undefined"){g=this.mode;this._setWindowOption(this._windows[f],"mode",g)}}if(b){this._setWindowOption(this._windows[f],"resizable",true);if(g=="floating"){this._windows[f].jqxWindow({enableResize:true})}else{this._windows[f].jqxWindow({enableResize:false})}this._setWindowOption(this._windows[f],"size",{height:this._windows[f].height(),width:this._windows[f].width()})}}},_removeEventListeners:function(){for(var b=0;b<this._windows.length;b+=1){this.removeHandler(this._windows[b],"moving",this._itemDragging);this.removeHandler(this._windows[b],"moved",this._itemDrop);this.removeHandler(this._windows[b],"resized",this._itemResized);this.removeHandler(this._windows[b],"collapse",this._collapsed);this.removeHandler(this._windows[b],"expand",this._expanded)}},_addEventListeners:function(){for(var b=0;b<this._windows.length;b+=1){this._addEventListenersTo(this._windows[b])}},_addEventListenersTo:function(b){this.addHandler(b,"moving",this._itemDragging,{self:this});this.addHandler(b,"moved",this._itemDrop,{self:this});this.addHandler(b,"resized",this._itemResized,{self:this});this.addHandler(b,"collapse",this._collapsed,{self:this});this.addHandler(b,"expand",this._expanded,{self:this})},_itemDragging:function(g){var d=g.data.self,f=a(g.target),e=d._getWindowOptions(f);f.removeClass(d.toThemeProperty("jqx-docking-window"));f.css("margin","0px");if(!d._dragging){d._prepareForDragging(f)}if(e.mode==="floating"){return}var b={x:g.args.pageX,y:g.args.pageY},c=d._getMouseOverPanel(b);if(c){d._mouseOverPanel(c,b)}else{d._mouseLeavePanel()}if(!d._draggedFired){d._raiseEvent(1,{window:a(f).attr("id")});d._draggedFired=true}return g.preventDefault()},_prepareForDragging:function(c){this._dragging=true;var b={parent:c.parent(),next:c.next(),prev:c.prev()};this._setWindowOption(c,"lastPosition",b);c.detach();a(document.body).append(c);this._setDraggingStyles(c);this._draggingItem=c},_setDraggingStyles:function(b){b.css({position:"absolute",left:b.offset().left,top:b.offset().top});b.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(c){var e,b,g,f;for(var d=0;d<this._panels.length;d+=1){if(this._isMouseOverItem(this._panels[d],c,false)){return this._panels[d]}}return null},_mouseOverPanel:function(c,b){if(this._dragging){var e=c.children("div"),d=this._getHoverWindow(b,e);if(d==="indicator"){return}var f=this._centerOffset(d,b);this._handleIndicator(c,d,f)}},_getHoverWindow:function(c,f){var e,b,h,g;if(this._isMouseOverItem(this._indicator,c,true)){return"indicator"}for(var d=0;d<f.length;d+=1){if(this._isMouseOverItem(a(f[d]),c,true)){return a(f[d])}}return null},_centerOffset:function(f,b){if(f){var e={x:f.offset().left,y:f.offset().top},g=f.height(),d=f.width(),c;if(this.orientation==="horizontal"){c=e.y+g/2}else{c=e.x+d/2}if((b.y>c&&this.orientation==="horizontal")||(b.x>c&&this.orientation==="vertical")){return"next"}return"prev"}return"all"},_handleIndicator:function(c,d,e){var b=this._getIndicator(d);if(e==="all"){if(this.orientation==="vertical"){b.insertBefore(c.children(".spacer"))}else{c.append(b)}}else{if(e==="prev"){b.insertBefore(d)}else{b.insertAfter(d)}}this._resizeIndicator(b,c)},_getIndicator:function(){var b=this._indicator;if(!b){b=a('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')}this._indicator=b;this._indicator.css("margin",this.windowsOffset);if(this.orientation==="vertical"){this._indicator.css("float","left")}return b},_resizeIndicator:function(c,b){if(this.orientation==="horizontal"){c.width(b.width()-(c.outerWidth(true)-c.width()));c.height(this._draggingItem.height())}else{c.width(this._draggingItem.width());c.height(this._draggingItem.height())}},_mouseLeavePanel:function(b){if(this._indicator){this._indicator.remove();this._indicator=null}},_itemDrop:function(d){var b=d.data.self,c=a(d.currentTarget);b._dragging=false;if(b._indicator){c.detach();c.insertAfter(b._indicator);b._indicator.remove();b._dropFixer(c)}else{b._dropHandler(c)}c.fadeTo(0,1);b._indicator=null;b._cookieExporter();b._draggedFired=false;b._raiseEvent(0,{window:c.attr("id")})},_dropFixer:function(b){b.css("position","static");b.addClass(this.toThemeProperty("jqx-docking-window"));b.css("margin",this.windowsOffset);b.jqxWindow("enableResize",false);if(this.orientation==="horizontal"){this._fixWindowSize(b)}},_dropHandler:function(c){var b=this._getWindowOptions(c);if(b.mode==="docked"){this._dropDocked(c)}else{this._dropFloating(c)}},_dropDocked:function(d){var c=this._getWindowOptions(d),b=c.lastPosition;d.detach();if(b.next[0]){d.insertBefore(b.next)}else{if(b.prev[0]){d.insertAfter(b.prev)}else{b.parent.append(d)}}this._dropFixer(d)},_fixWindowSize:function(b){a(b).jqxWindow({width:b.parent().width()-(b.outerWidth()-b.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(d){var b=d.data.self,c=a(d.currentTarget);b._setWindowOption(c,"size",{width:d.args.width,height:d.args.height});b._cookieExporter()},_dropFloating:function(c){var b;if(!a(c).jqxWindow("collapsed")){b=this._getWindowOptions(c);a(c).jqxWindow("enableResize",b.resizable)}a(document.body).append(c);this._restoreWindowSize(c)},_restoreWindowSize:function(c){var b=this._getWindowOptions(c);a(c).jqxWindow({width:b.size.width})},_isMouseOverItem:function(i,e,d){if(!i){return false}var j=i.outerWidth(true),g=i.outerHeight(true),b=i.width(),h=i.height(),f=i.offset().top,c=i.offset().left;if(d){f-=(g-h)/2;c-=(j-b)/2;b=j;h=g}if((c<=e.x&&c+b>=e.x)&&(f<=e.y&&f+h+2*this._draggingItem.height()/3>=e.y)){return true}return false},_cookieHandler:function(){if(this.cookies){var b=a.jqx.cookie.cookie("jqxDocking"+this.element.id);if(b!==null){this.importLayout(b);layoutImported=true}}},_cookieExporter:function(){if(this.cookies){a.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)}},_indexOf:function(c,d){for(var b=0;b<d.length;b+=1){if(c[0]===d[b][0]){return b}}return -1},_exportFixed:function(){var e=[],g="",b,f;for(var d=0;d<this._panels.length;d+=1){g+='"panel'+d+'": {';b=this._panels[d].children();for(var c=0;c<b.length;c+=1){f=a(b[c]);if(f.attr("id")){e.push(f);g+='"'+f.attr("id")+'":{"collapsed":'+f.jqxWindow("collapsed")+"},"}}if(b.length>1){g=g.substring(0,g.length-1)}g+="},"}g=g.substring(0,g.length-1);return{JSON:g,children:e}},_exportFloating:function(c){var e="",d;e+='"floating":{';for(var b=0;b<this._windows.length;b+=1){d=a(this._windows[b]);if(this._indexOf(d,c)===-1){e+='"'+d.attr("id")+'":{"x":"'+d.css("left")+'","y":"'+d.css("top")+'","width":"'+d.jqxWindow("width")+'","height":"'+d.jqxWindow("height")+'","collapsed":'+d.jqxWindow("collapsed")+"},"}}if(e.substring(e.length-1,e.length)===","){e=e.substring(0,e.length-1)}e+="}";return e},_importFixed:function(b){for(var c in b){if(c!=="orientation"&&c!=="floating"&&b.hasOwnProperty(c)){order=c.substring(c.length-1,c.length);order=parseInt(order,10);children=b[c];for(var c in children){a("#"+c).css("position","static");if(children[c].collapsed){(function(d){setTimeout(function(){a("#"+d).jqxWindow("collapsed",true)},0)}(c))}this._panels[order].append(a("#"+c));if(this.orientation==="horizontal"){this._fixWindowSize(a("#"+c))}}}}},_importFloating:function(d){var f=d.floating,c,b;for(var e in f){if(f.hasOwnProperty(e)){a("#"+e).css("position","absolute");a(document.body).append(a("#"+e));b=this._dragging;a("#"+e).jqxWindow("move",f[e].x,f[e].y);this._dragging=b;a("#"+e).jqxWindow("width",f[e].width);a("#"+e).jqxWindow("height",f[e].height);a("#"+e).jqxWindow("enableResize",true);this._setWindowsOptions(true);(function(g){setTimeout(function(){a("#"+g).jqxWindow("collapsed",f[g].collapsed)},0)}(e));a("#"+e).fadeTo(0,1)}}},_getWindowOptions:function(b){if(typeof b==="object"&&b!==null){if(b.length>0){b=b.attr("id")}else{b=b.id}}return this._windowOptions[b]},_setWindowOption:function(c,b,d){if(typeof c==="object"&&c!==null){if(c.length>0){c=c.attr("id")}else{c=c.id}}if(typeof this._windowOptions[c]==="undefined"){this._windowOptions[c]={}}this._windowOptions[c][b]=d;if(b==="mode"){this.setWindowMode(c,d)}},_expanded:function(c){var b=c.data.self;b._cookieExporter()},_collapsed:function(c){var b=c.data.self;b._cookieExporter()},_raiseEvent:function(b){var c=a.Event(this._events[b]);c.args=arguments[1];return this.host.trigger(c)},_moveWindow:function(e,c,b){var d=c.children();var g=null;var f=0;a.each(d,function(h){if(a(this).css("position")=="static"){if(f==b&&this!=e[0]){g=this}f++}});if(f<=b){e.appendTo(c)}else{if(g!=null){e.insertBefore(g)}}e.css("position","static")},propertyChangedHandler:function(b,c,e,d){switch(c){case"theme":a.each(b._windows,function(){this.jqxWindow({theme:d})});break;case"orientation":case"height":case"width":b._performLayout();b._cookieExporter();break;case"panelsRoundedCorners":b._removeClasses();b._addClasses();break;case"disabled":if(d){b.disabled=false;b.disable()}else{b.disabled=true;b.enable()}break;case"windowsMode":case"mode":b._setWindowsOptions(false);break;case"cookies":b._cookieExporter();break;case"windowsOffset":b._performLayout();break}},destroy:function(){this._removeEventListeners();this.host.remove();this.windowsMode=null;this.cookieOptions=null;this._windowOptions=null;this._panels=null;this._windows=null;this._events=null},disable:function(){if(!this.disabled){this.disabled=true;this._removeEventListeners();for(var b=0;b<this._windows.length;b+=1){a(this._windows[b]).jqxWindow("disable")}}},enable:function(){if(this.disabled){this.disabled=false;this._addEventListeners();for(var b=0;b<this._windows.length;b+=1){a(this._windows[b]).jqxWindow("enable")}}},move:function(f,c,b){var c=this._panels[c];if(!c){return}var e=a(c.children(".spacer")),d;e.detach();f=a("#"+f);d=this._getWindowOptions(f);if(d.mode==="floating"){return}else{this._moveWindow(f,c,b)}c.append(e);this._cookieExporter();this._dropFixer(f)},exportLayout:function(){var c="{",b=this._exportFixed();c+=b.JSON+","+this._exportFloating(b.children)+',"orientation": "'+this.orientation+'"';c+="}";return c},importLayout:function(g){try{var f=a.parseJSON(g),b,c;this.orientation=f.orientation;this._performLayout();this._importFixed(f);this._importFloating(f)}catch(d){alert("Invalid JSON string.")}},setWindowMode:function(c,d){var c=a("#"+c),b=this._getWindowOptions(c);if(d==="floating"){c.css("position","absolute");this._windowOptions[c.attr("id")]["mode"]=d}else{if(b.mode==="floating"&&c.css("position")==="absolute"){if(b.lastPosition){this._dropDocked(c)}else{this._panels[0].append(c);this._dropFixer(c)}}}this._windowOptions[c.attr("id")]["mode"]=d},hideCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",false)},showCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",true)},hideCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",false)},showCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",true)},expandWindow:function(b,c){a("#"+b).jqxWindow("expand",c)},collapseWindow:function(b,c){a("#"+b).jqxWindow("collapse",c)},setWindowPosition:function(d,b,e){var d=a("#"+d),c=this._getWindowOptions(d);if(c.mode==="floating"){d.css("position","absolute");a(d).jqxWindow("move",b,e,null,false)}},hideAllCloseButtons:function(){for(var b=0;b<this._windows.length;b+=1){this._windows[b].jqxWindow("showCloseButton",false)}},hideAllCollapseButtons:function(){for(var b=0;b<this._windows.length;b+=1){this._windows[b].jqxWindow("showCollapseButton",false)}},showAllCloseButtons:function(){for(var b=0;b<this._windows.length;b+=1){this._windows[b].jqxWindow("showCloseButton",true)}},showAllCollapseButtons:function(){for(var b=0;b<this._windows.length;b+=1){this._windows[b].jqxWindow("showCollapseButton",true)}},pinWindow:function(b){a("#"+b).jqxWindow("draggable",false)},unpinWindow:function(b){a("#"+b).jqxWindow("draggable",true)},setDraggingMode:function(c){var b=a("#"+c);this._prepareForDragging(b);b.fadeTo(0,1)},enableWindowResize:function(b){b=a("#"+b);if(b.css("position")==="absolute"){this._setWindowOption(b,"resizable",true);b.jqxWindow("enableResize",true)}},disableWindowResize:function(b){b=a("#"+b);this._setWindowOption(b,"resizable",false);b.jqxWindow("enableResize",false)},addWindow:function(e,f,d,c){var b="#"+e;a(b).jqxWindow({theme:this.theme,enableResize:false,width:a(b).css("width"),maxWidth:Number.MAX_VALUE});this._panels[0].append(a(b));this._windows.push(a(b));if(f){this._setWindowOption(a(b),"mode",f)}else{this._setWindowOption(a(b),"mode",this.mode)}this._setWindowOption(a(b),"size",{width:a(b).width(),height:a(b).height()});this._addEventListenersTo(a(b));if(typeof d!=="undefined"&&typeof c!=="undefined"){this.move(e,d,c)}this._dropFixer(a(b))},closeWindow:function(b){a("#"+b).jqxWindow("closeWindow")}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxDockPanel","",{});a.extend(a.jqx._jqxDockPanel.prototype,{defineInstance:function(){this.width=null;this.height=null;this.lastchildfill=true;this.disabled=false;this.events=["layout",]},createInstance:function(c){var b=this;this.host.addClass(this.toThemeProperty("jqx-progressbar"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}this.childrenCount=a(this.host).children().length;this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>');this.$wrapper=this.host.find(".innerContainer");this.$wrapper.css("position","relative");this.sizeCache=new Array();this.performLayout();a(window).resize(function(){b.refresh()})},render:function(){this.sizeCache=new Array();this.performLayout()},performLayout:function(){if(this.disabled){return}var e=this.childrenCount;var d=0;var c=0;var b=0;var h=0;var f=this;var g={width:this.host.width(),height:this.host.height()};if(this.sizeCache.length<this.$wrapper.children().length){a.each(this.$wrapper.children(),function(i){var k=a(this);k.css("position","absolute");var j={width:k.css("width"),height:k.css("height")};f.sizeCache[i]=j})}a.each(this.$wrapper.children(),function(j){var l=this.getAttribute("dock");if(l==undefined){l="left"}if(j==e-1&&f.lastchildfill){l="fill"}var k=a(this);k.css("position","absolute");k.css("width",f.sizeCache[j].width);k.css("height",f.sizeCache[j].height);var i={width:k.outerWidth(),height:k.outerHeight()};var m={x:b,y:h,width:Math.max(0,g.width-(b+d)),height:Math.max(0,g.height-(h+c))};if(j<e){switch(l){case"left":b+=i.width;m.width=i.width;break;case"top":h+=i.height;m.height=i.height;break;case"right":d+=i.width;m.x=Math.max(0,(g.width-d));m.width=i.width;break;case"bottom":c+=i.height;m.y=Math.max(0,(g.height-c));m.height=i.height;break}}k.css("left",m.x);k.css("top",m.y);k.css("width",m.width);k.css("height",m.height)});this._raiseevent(0)},destroy:function(){},_raiseevent:function(g,d,f){if(this.isInitialized!=undefined&&this.isInitialized==true){var c=this.events[g];var e=new jQuery.Event(c);e.previousValue=d;e.currentValue=f;e.owner=this;var b=this.host.trigger(e);return b}},propertyChangedHandler:function(c,d,b,e){if(!this.isInitialized){return}},refresh:function(){this.performLayout()}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxMaskedInput","",{});a.extend(a.jqx._jqxMaskedInput.prototype,{defineInstance:function(){this.value=null;this.mask="99999";this.width=null;this.height=25;this.textAlign="left";this.readOnly=false,this.promptChar="_";this.inputMode="advanced";this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress"]},createInstance:function(c){this.host.attr({role:"maskedinput"});this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));maskEditor=this;this.maskbox=a("<input autocomplete='off' type='textarea'/>").appendTo(this.host);this.maskbox.addClass(this.toThemeProperty("jqx-reset"));this.maskbox.addClass(this.toThemeProperty("jqx-input-content"));this.propertyChangeMap.disabled=function(g,k,h,l){if(self.disabled){self.maskbox.addClass(this.toThemeProperty("jqx-input-disabled"))}else{self.maskbox.removeClass(this.toThemeProperty("jqx-input-disabled"))}};if(this.disabled){this.maskbox.addClass(this.toThemeProperty("jqx-input-disabled"));this.maskbox.attr("disabled",true);this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.selectedText="";this._addHandlers();this.self=this;this.oldValue=this._value();this.items=new Array();this._initializeLiterals();this._render();if(this.value!=null){this.inputValue(this.value.toString())}var e=this;var d=a.jqx.mobile.isOperaMiniMobileBrowser();if(d){this.inputMode="simple";this.addHandler(a(document),"click",e._exitSimpleInputMode,e)}this.addHandler(this.maskbox,"blur",function(g){if(e.inputMode=="simple"){e._exitSimpleInputMode(g,e,false);return false}e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.maskbox,"focus",function(g){if(e.inputMode=="simple"){e.maskbox.val(e._getEditValue());a.data(e.maskbox,"simpleInputMode",true);return false}e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))});var e=this;if(this.host.parents("form").length>0){this.host.parents("form").bind("reset",function(){setTimeout(function(){e.clearValue()},10)})}if(a.jqx.mobile.isChromeMobileBrowser()&&!d){var b="";var f=setInterval(function(){var h=a(e.maskbox).val();var g=e._selection();if(h.length<b.length){var k=g.start;if(k<e.items.length&&e.items[k].canEdit&&e.items[k].character!=e.promptChar){e.items[k].character=e.promptChar}var h=e._getString();e.maskedValue(h);e._setSelectionStart(k)}if(h!=b){b=h}},10)}},_exitSimpleInputMode:function(b,n,g){if(n==undefined){n=b.data}if(n==null){return}if(g==undefined){if(b.target!=null&&n.element!=null){if((b.target.id!=undefined&&b.target.id.toString().length>0&&n.host.find("#"+b.target.id).length>0)||b.target==n.element){return}}var e=n.host.offset();var d=e.left;var f=e.top;var c=n.host.width();var l=n.host.height();var o=a(b.target).offset();if(o.left>=d&&o.left<=d+c){if(o.top>=f&&o.top<=f+l){return}}}if(n.disabled||n.readOnly){return}var k=a.data(n.maskbox,"simpleInputMode");if(k==null){return}var h=n.maskbox.val();n.inputValue(h,true);a.data(n.maskbox,"simpleInputMode",null);return false},_addHandlers:function(){var b=this;this.addHandler(this.maskbox,"mousedown",function(c){return b._raiseEvent(2,c)});this.addHandler(this.maskbox,"mouseup",function(c){return b._raiseEvent(3,c)});this.addHandler(this.maskbox,"keydown",function(c){return b._raiseEvent(4,c)});this.addHandler(this.maskbox,"keyup",function(c){return b._raiseEvent(5,c)});this.addHandler(this.maskbox,"keypress",function(c){return b._raiseEvent(6,c)})},_getString:function(){var b="";for(i=0;i<this.items.length;i++){var c=this.items[i].character;if((this.items[i].character==this.promptChar)&&(this.promptChar!=this.items[i].defaultCharacter)){b+=this.items[i].defaultCharacter}else{b+=c}}return b},_initializeLiterals:function(){if(this.mask==undefined||this.mask==null){this.items=new Array();return}this.mask=this.mask.toString();var f=this.mask.length;for(i=0;i<f;i++){var g=this.mask.substring(i,i+1);var e="";var b=false;if(g=="#"){e="(\\d|[+]|[-])";b=true}else{if(g=="9"||g=="0"){e="\\d";b=true}else{if(g=="$"){b=false}else{if(g=="/"||g==":"){b=false}else{if(g=="A"||g=="a"){e="\\w";b=true}else{if(g=="c"||g=="C"){e=".";b=true}else{if(g=="L"||g=="l"){e="\\p{L}";b=true}}}}}}}var c=this;var d=function(l,k,h){d.character=l;d.regex=k;d.canEdit=h;d.defaultCharacter=c.promptChar};if(b){d(this.promptChar,e,b)}else{d(g,e,b)}this.items[i]=d}},setRegex:function(d,e,b,c){if((d==null||d==undefined)||(e==null||e==undefined)){return}if(d<this.items.length){this.items[d].regex=e;if(b!=null&&b!=undefined){this.items[d].canEdit=b}if(c!=null&&c!=undefined){this.items[d].defaultCharacter=c}}},_match:function(c,b){var d=new RegExp(b,"i");return d.test(c)},_raiseEvent:function(d,q){var p=this.events[d];var g={};g.owner=this;var o=q.charCode?q.charCode:q.keyCode?q.keyCode:0;var r=true;var n=this.readOnly;var b=new jQuery.Event(p);b.owner=this;g.value=this.inputValue();g.text=this.maskedValue();b.args=g;r=this.host.trigger(b);if(this.inputMode!="simple"){if(d==4){if(n||this.disabled){return false}var h=this;if(a.jqx.mobile.isChromeMobileBrowser()){var l=h._selection();window.setTimeout(function(){var s=a.data(h.maskbox,"selectionstart");if(s!=null&&s!=l.start){a.data(h.maskbox,"selectionstart",l.start)}r=h._handleKeyDown(q,o)},25)}else{r=this._handleKeyDown(q,o)}}else{if(d==5){if(n||this.disabled){r=false}}else{if(d==6){if(n||this.disabled){return false}r=this._handleKeyPress(q,o)}}}}else{if(d==4||d==5||d==6){if(n||this.disabled){return false}var e=String.fromCharCode(o);var k=parseInt(e);var f=true;if(!isNaN(k)){f=true;var c=this.maskbox.val().toString().length;if(c>=this._getEditStringLength()&&this._selection().length==0){f=false}}if(!q.ctrlKey&&!q.shiftKey){if(o>=65&&o<=90){f=false}}return f}}return r},_handleKeyPress:function(g,c){var d=this._selection();var b=this;if((g.ctrlKey&&c==97)||(g.ctrlKey&&c==65)){return true}if(c==8){if(d.start>0){b._setSelectionStart(d.start)}return false}if(c==46){if(d.start<this.items.length){b._setSelectionStart(d.start)}return false}if(a.browser.msie){this._insertKey(c)}var f=this._isSpecialKey(c);return f},_insertKey:function(c){var d=this._selection();var b=this;if(d.start>=0&&d.start<this.items.length){var e=String.fromCharCode(c);var f=false;a.each(this.items,function(g,k){if(g<d.start){return}var h=b.items[g];if(!h.canEdit){return}if(b._match(e,h.regex)){if(!f&&d.length>0){for(j=d.start;j<d.end;j++){if(b.items[j].canEdit){b.items[j].character=b.promptChar}}var l=b._getString();b.maskedValue(l);f=true}h.character=e;var l=b._getString();b.maskedValue(l);if(d.start<b.items.length){b._setSelectionStart(g+1)}return false}else{return false}})}},_deleteSelectedText:function(){var c=this._selection();var b=false;if(c.start>0||c.length>0){for(i=c.start;i<c.end;i++){if(i<this.items.length&&this.items[i].canEdit&&this.items[i].character!=this.promptChar){this.items[i].character=this.promptChar;b=true}}var d=this._getString();this.maskedValue(d);return b}},_saveSelectedText:function(){var b=this._selection();var c="";if(b.start>0||b.length>0){for(i=b.start;i<b.end;i++){if(this.items[i].canEdit){c+=this.items[i].character}}}window.clipboardData.setData("Text",c);return c},_pasteSelectedText:function(){var e=this._selection();var f="";var d=0;var b=e.start;var c=window.clipboardData.getData("Text");if(c!=this.selectedText&&c.length>0){this.selectedText=c;if(this.selectedText==null||this.selectedText==undefined){return}}if(e.start>=0||e.length>0){for(i=e.start;i<this.items.length;i++){if(this.items[i].canEdit){if(d<this.selectedText.length){this.items[i].character=this.selectedText[d];d++;b=1+i}}}}var f=this._getString();this.maskedValue(f);if(b<this.items.length){this._setSelectionStart(b)}else{this._setSelectionStart(this.items.length)}},_handleKeyDown:function(h,p){var o=this._selection();if((h.ctrlKey&&p==97)||(h.ctrlKey&&p==65)){return true}if((h.ctrlKey&&p==120)||(h.ctrlKey&&p==88)){this.selectedText=this._saveSelectedText(h);this._deleteSelectedText(h);return false}if((h.ctrlKey&&p==99)||(h.ctrlKey&&p==67)){this.selectedText=this._saveSelectedText(h);return false}if((h.ctrlKey&&p==122)||(h.ctrlKey&&p==90)){return false}if((h.ctrlKey&&p==118)||(h.ctrlKey&&p==86)||(h.shiftKey&&p==45)){this._pasteSelectedText();return false}if(o.start>=0&&o.start<this.items.length){var f=String.fromCharCode(p);var q=this.items[o.start]}if(p==8){if(o.length==0){for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit&&i<o.end&&this.items[i].character!=this.promptChar){this._setSelection(i,i+1);break}}}o=this._selection();var g=this._deleteSelectedText();if(o.start>0||o.length>0){if(o.start<=this.items.length){if(g){this._setSelectionStart(o.start)}else{this._setSelectionStart(o.start-1)}}}return false}if(p==190){for(i=0;i<this.items.length;i++){if(this.items[i].character=="."){this._setSelectionStart(i+1);break}}}if(p==46){if(o.length==0){for(i=0;i<this.items.length;i++){if(this.items[i].canEdit&&i>=o.start&&this.items[i].character!=this.promptChar){this._setSelection(i,i+1);break}}}var b=o;o=this._selection();var d=this._deleteSelectedText();if(o.start>=0||o.length>=0){if(o.start<this.items.length){if(o.length<=1){if(b.end!=o.end){this._setSelectionStart(o.end)}else{this._setSelectionStart(o.end+1)}}else{this._setSelectionStart(o.start)}}}return false}if(a.browser.msie==null){var n=this.maskbox.val();var k=this;if(p>=96&&p<=105){p=p-48}k._insertKey(p);var c=this.maskbox.val();if(n.toString()!=c.toString()){return false}}var l=this._isSpecialKey(p);if(p==189){return false}if(!a.browser.mozilla){return true}return l},_isSpecialKey:function(b){if(b!=8&&b!=9&&b!=13&&b!=35&&b!=36&&b!=37&&b!=39&&b!=46){return false}return true},_selection:function(){if("selectionStart" in this.maskbox[0]){var f=this.maskbox[0];var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value}}else{var c=document.selection.createRange();if(c==null){return{start:0,end:f.value.length,length:0}}var b=this.maskbox[0].createTextRange();var d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);var g=c.text.length;return{start:d.text.length,end:d.text.length+c.text.length,length:g,text:c.text}}},_setSelection:function(d,b){if("selectionStart" in this.maskbox[0]){this.maskbox[0].focus();this.maskbox[0].setSelectionRange(d,b)}else{var c=this.maskbox[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",d);c.select()}},_setSelectionStart:function(b){this._setSelection(b,b)},refresh:function(b){if(!b){this._render()}},_render:function(){var c=parseInt(this.host.css("border-left-width"));var g=parseInt(this.host.css("border-left-width"));var f=parseInt(this.host.css("border-left-width"));var d=parseInt(this.host.css("border-left-width"));var k=parseInt(this.host.css("height"))-f-d;var e=parseInt(this.host.css("width"))-c-g;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){e=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){e=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){k=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){k=this.height}}e=parseInt(e);k=parseInt(k);this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0});this.maskbox.css("text-align",this.textAlign);var l=this.maskbox.css("font-size");if(!isNaN(k)){this.maskbox.css("height",parseInt(l)+4+"px")}if(!isNaN(e)){this.maskbox.css("width",e-2)}var h=parseInt(k)-2*parseInt(f)-2*parseInt(d)-parseInt(l);if(isNaN(h)){h=0}if(!isNaN(k)){this.host.height(k)}if(!isNaN(e)){this.host.width(e)}var b=h/2;if(a.browser.msie&&a.browser.version<8){b=h/4}this.maskbox.css("padding-right","0px");this.maskbox.css("padding-left","0px");this.maskbox.css("padding-top",b);this.maskbox.css("padding-bottom",h/2);this.maskbox.val(this._getString())},destroy:function(){this.element.removeClass("jqx-rc-all");this.maskbox.remove();this.element.remove()},maskedValue:function(b){if(b===undefined){return this._value()}this.value=b;this._refreshValue();if(this.oldValue!==b){this._raiseEvent(1,b);this.oldValue=b;this._raiseEvent(0,b)}return this},_value:function(){var b=this.maskbox.val();return b},propertyChangedHandler:function(c,d,b,e){if(this.isInitialized==undefined||this.isInitialized==false){return}if(d==="value"){if(e==undefined||e==null){e=""}e=e.toString();this.inputValue(e)}if(d==="theme"){a.jqx.utilities.setTheme(oldvalue,e,this.host)}if(self.disabled){c.maskbox.addClass(c.toThemeProperty("jqx-input-disabled"));c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled"));c.maskbox.attr("disabled",true)}else{c.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));c.host.removeClass(this.toThemeProperty("jqx-input-disabled"));c.maskbox.attr("disabled",false)}if(d=="readOnly"){this.readOnly=e}if(d=="promptChar"){for(i=0;i<c.items.length;i++){if(c.items[i].character==c.promptChar){c.items[i].character=e;c.items[i].defaultCharacter=e}}c.promptChar=e}if(d=="textAlign"){c.maskbox.css("text-align",e);c.textAlign=e}if(d=="mask"){c.mask=e;c.items=new Array();c._initializeLiterals();c.value=c._getString();c._refreshValue()}if(d=="width"){c.width=e;c._render()}else{if(d=="height"){c.height=e;c._render()}}},_value:function(){var b=this.value;return b},_getEditStringLength:function(){var b="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){b+=this.items[i].character}}return b.length},_getEditValue:function(){var b="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){b+=this.items[i].character}}return b},parseValue:function(e){if(e==undefined||e==null){return null}var c=e.toString();var f="";var b=0;for(m=0;m<c.length;m++){var d=c.substring(m,m+1);for(i=b;i<this.items.length;i++){if(this.items[i].canEdit&&this._match(d,this.items[i].regex)){f+=d;b=i;break}}}return f},clearValue:function(){this.inputValue("",true)},val:function(b){if(b!=undefined&&typeof b!="object"){this.inputValue(b)}return this.maskbox.val()},inputValue:function(f,c){if(f==undefined||f==null){var e="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){e+=this.items[i].character}}return e}else{var b=0;if(typeof f=="number"){f=f.toString()}for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){if(this._match(f[b],this.items[i].regex)){this.items[i].character=f[b];b++}else{if(c){this.items[i].character=this.promptChar}}}}var d=this._getString();this.maskedValue(d);return this.inputValue()}},_refreshValue:function(){var c=this.maskedValue();var b=0;for(i=0;i<this.items.length;i++){if(c.length>b){if(this.items[i].canEdit&&this.items[i].character!=c[b]){if(this._match(c[b],this.items[i].regex)&&c[b].length==1){this.items[i].character=c[b]}}b++}}this.value=this._getString();c=this.value;this.maskbox.val(c)}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxMenu","",{});a.extend(a.jqx._jqxMenu.prototype,{defineInstance:function(){this.items=new Array();this.mode="horizontal";this.width=null;this.height=null;this.easing="easeInOutSine";this.animationShowDuration=200;this.animationHideDuration=200;this.autoCloseInterval=0;this.animationHideDelay=100;this.animationShowDelay=100;this.menuElements=new Array();this.autoSizeMainItems=false;this.autoCloseOnClick=true;this.autoCloseOnMouseLeave=true;this.enableRoundedCorners=true;this.disabled=false;this.autoOpenPopup=true;this.enableHover=true;this.autoOpen=true;this.autoGenerate=true;this.clickToOpen=false;this.showTopLevelArrows=false;this.touchMode="auto";this.events=["shown","closed","itemclick","initialized"]},createInstance:function(d){var c=this;this.host.css("visibility","hidden");this.host.css("display","block");this.propertyChangeMap.disabled=function(g,j,h,k){if(c.disabled){c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled"));c.host.addClass(c.toThemeProperty("jqx-menu-disabled"))}else{c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled"));c.host.removeClass(c.toThemeProperty("jqx-menu-disabled"))}};this.setSize();var b=false;var e=this;if(e.width!=null&&e.width.toString().indexOf("%")!=-1){b=true}if(e.height!=null&&e.height.toString().indexOf("%")!=-1){b=true}a(window).bind("resize.menu"+this.element.id,function(){if(b){if(e.refreshTimer){clearTimeout(e.refreshTimer)}e.refreshTimer=setTimeout(function(){e.refresh()},1)}});if(b){setInterval(function(){var h=e.host.width();var g=e.host.height();if(e._lastWidth!=h||e._lastHeight!=g){e.refresh()}e._lastWidth=h;e._lastHeight=g},100)}if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))}this.host.attr("tabIndex",1);this.host.css("outline","none");if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");if(f.length>0){this._createMenu(f[0])}}this.host.data("autoclose",{});this._render();var e=this;this.host.css("visibility","visible");if(a.browser.msie&&a.browser.version<8){this.host.attr("hideFocus",true)}},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}return b},refresh:function(b){if(!b){this.setSize()}},_closeAll:function(f){var d=f!=null?f.data:this;var b=d.items;a.each(b,function(){var e=this;if(e.hasItems==true){d._closeItem(d,e)}});if(d.mode=="popup"){if(f!=null){var c=d._isRightClick(f);if(!c){d.close()}}}},closeItem:function(e){if(e==null){return false}var b=e;var c=document.getElementById(b);var d=this;a.each(d.items,function(){var f=this;if(f.isOpen==true&&f.element==c){d._closeItem(d,f);if(f.parentId){d.closeItem(f.parentId)}}});return true},openItem:function(e){if(e==null){return false}var b=e;var c=document.getElementById(b);var d=this;a.each(d.items,function(){var f=this;if(f.isOpen==false&&f.element==c){d._openItem(d,f);if(f.parentId){d.openItem(f.parentId)}}});return true},_getClosedSubMenuOffset:function(c){var b=a(c.subMenuElement);var f=-b.outerHeight();var e=-b.outerWidth();var d=c.level==0&&this.mode=="horizontal";if(d){e=0}else{f=0}switch(c.openVerticalDirection){case"up":case"center":f=b.outerHeight();break}switch(c.openHorizontalDirection){case"left":if(d){e=0}else{e=b.outerWidth()}break;case"center":if(d){e=0}else{e=b.outerWidth()}break}return{left:e,top:f}},_closeItem:function(l,o,g,c){if(l==null||o==null){return false}var j=a(o.subMenuElement);var b=o.level==0&&this.mode=="horizontal";var f=this._getClosedSubMenuOffset(o);var m=f.top;var e=f.left;$menuElement=a(o.element);var k=j.closest("div.jqx-menu-popup");if(k!=null){var h=l.animationHideDelay;if(c==true){h=0}if(j.data("timer").show!=null){clearTimeout(j.data("timer").show);j.data("timer").show=null}var n=function(){o.isOpen=false;if(!a.browser.msie&&this.animationtype=="fade"){}if(b){if(!a.browser.msie){}j.stop().animate({top:m},l.animationHideDuration,function(){a(o.element).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.element).removeClass(l.toThemeProperty("jqx-menu-item-top-selected"));var p=a(o.arrow);if(p.length>0&&l.showTopLevelArrows){p.removeClass();if(o.openVerticalDirection=="down"){p.addClass(l.toThemeProperty("jqx-menu-item-arrow-down"))}else{p.addClass(l.toThemeProperty("jqx-menu-item-arrow-up"))}}k.css({display:"none"});l._raiseEvent("1",o)})}else{if(!a.browser.msie){}j.stop().animate({left:e},l.animationHideDuration,function(){if(o.level>0){a(o.element).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.element).removeClass(l.toThemeProperty("jqx-menu-item-selected"));var p=a(o.arrow);if(p.length>0){p.removeClass();if(o.openHorizontalDirection!="left"){p.addClass(l.toThemeProperty("jqx-menu-item-arrow-right"))}else{p.addClass(l.toThemeProperty("jqx-menu-item-arrow-left"))}}}else{a(o.element).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.element).removeClass(l.toThemeProperty("jqx-menu-item-top-selected"));var p=a(o.arrow);if(p.length>0){p.removeClass();if(o.openHorizontalDirection!="left"){p.addClass(l.toThemeProperty("jqx-menu-item-arrow-top-right"))}else{p.addClass(l.toThemeProperty("jqx-menu-item-arrow-top-left"))}}}k.css({display:"none"});l._raiseEvent("1",o)})}};if(h>0){j.data("timer").hide=setTimeout(function(){n()},h)}else{n()}if(g!=undefined&&g){var d=j.find("."+l.toThemeProperty("jqx-menu-item"));a.each(d,function(){if(l.menuElements[this.id]&&l.menuElements[this.id].isOpen){var p=a(l.menuElements[this.id].subMenuElement);l._closeItem(l,l.menuElements[this.id],true,true)}})}}},getSubItems:function(j,h){if(j==null){return false}var g=this;var c=new Array();if(h!=null){a.extend(c,h)}var d=j;var f=this.menuElements[d];var b=a(f.subMenuElement);var e=b.find(".jqx-menu-item");a.each(e,function(){c[this.id]=g.menuElements[this.id];var k=g.getSubItems(this.id,c);a.extend(c,k)});return c},disable:function(g,d){if(g==null){return}var c=g;var f=this;if(this.menuElements[c]){var e=this.menuElements[c];e.disabled=d;var b=a(e.element);e.element.disabled=d;a.each(b.children(),function(){this.disabled=d});if(d){b.addClass(f.toThemeProperty("jqx-menu-item-disabled"));b.addClass(f.toThemeProperty("jqx-fill-state-disabled"))}else{b.removeClass(f.toThemeProperty("jqx-menu-item-disabled"));b.removeClass(f.toThemeProperty("jqx-fill-state-disabled"))}}},_setItemProperty:function(g,c,f){if(g==null){return}var b=g;var e=this;if(this.menuElements[b]){var d=this.menuElements[b];if(d[c]){d[c]=f}}},setItemOpenDirection:function(d,c,e){if(d==null){return}var k=d;var g=this;var f=a.browser.msie&&a.browser.version<8;if(this.menuElements[k]){var j=this.menuElements[k];if(c!=null){j.openHorizontalDirection=c;if(j.hasItems&&j.level>0){var h=a(j.element);if(h!=undefined){var b=a(j.arrow);if(j.arrow==null){b=a('<span id="arrow'+h[0].id+'"></span>');if(!f){b.prependTo(h)}else{b.appendTo(h)}}b.removeClass();if(j.openHorizontalDirection=="left"){b.addClass(g.toThemeProperty("jqx-menu-item-arrow-left"))}else{b.addClass(g.toThemeProperty("jqx-menu-item-arrow-right"))}b.css("visibility","visible");if(!f){b.css("display","block");b.css("float","right")}else{b.css("display","inline-block");b.css("float","none")}}}}if(e!=null){j.openVerticalDirection=e;var b=a(j.arrow);var h=a(j.element);if(h!=undefined){if(j.arrow==null){b=a('<span id="arrow'+h[0].id+'"></span>');if(!f){b.prependTo(h)}else{b.appendTo(h)}}b.removeClass();if(j.openVerticalDirection=="down"){b.addClass(g.toThemeProperty("jqx-menu-item-arrow-down"))}else{b.addClass(g.toThemeProperty("jqx-menu-item-arrow-up"))}b.css("visibility","visible");if(!f){b.css("display","block");b.css("float","right")}else{b.css("display","inline-block");b.css("float","none")}}}}},_getSiblings:function(c){var d=new Array();var b=0;for(i=0;i<this.items.length;i++){if(this.items[i]==c){continue}if(this.items[i].parentId==c.parentId&&this.items[i].hasItems){d[b++]=this.items[i]}}return d},_openItem:function(n,q,p){if(n==null||q==null){return false}if(q.isOpen){return false}if(q.disabled){return false}if(n.disabled){return false}var d=1000;if(p!=undefined){d=p}this.host.focus();var e=[5,5];var j=a(q.subMenuElement);if(j!=null){j.stop()}if(j.data("timer").hide!=null){clearTimeout(j.data("timer").hide)}var m=j.closest("div.jqx-menu-popup");var h=a(q.element);var g=q.level==0?this._getOffset(q.element):h.position();if(q.level==0&&this.mode=="popup"){g=h.offset()}var b=q.level==0&&this.mode=="horizontal";var r=b?g.left:this.menuElements[q.parentId]!=null&&this.menuElements[q.parentId].subMenuElement!=null?parseInt(a(a(this.menuElements[q.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-e[0]:parseInt(j.outerWidth());m.css({visibility:"visible",display:"block",left:r,top:b?g.top+h.outerHeight():g.top,zIndex:d});j.css("display","block");if(this.mode!="horizontal"&&q.level==0){var l=this._getOffset(this.element);m.css("left",-1+l.left+this.host.outerWidth());j.css("left",-j.outerWidth())}else{var f=this._getClosedSubMenuOffset(q);j.css("left",f.left);j.css("top",f.top)}m.css({height:parseInt(j.outerHeight())+parseInt(e[1])+"px"});var o=0;var c=0;switch(q.openVerticalDirection){case"up":if(b){j.css("top",j.outerHeight());o=e[1];m.css({display:"block",top:g.top-m.outerHeight(),zIndex:d})}else{o=e[1];j.css("top",j.outerHeight());m.css({display:"block",top:g.top-m.outerHeight()+e[1]+h.outerHeight(),zIndex:d})}break;case"center":if(b){j.css("top",0);m.css({display:"block",top:g.top-m.outerHeight()/2+e[1],zIndex:d})}else{j.css("top",0);m.css({display:"block",top:g.top+h.outerHeight()/2-m.outerHeight()/2+e[1],zIndex:d})}break}switch(q.openHorizontalDirection){case"left":if(b){m.css({left:g.left-(m.outerWidth()-h.outerWidth()-e[0])})}else{c=e[0];j.css("left",m.outerWidth());m.css({left:g.left-(m.outerWidth())})}break;case"center":if(b){m.css({left:g.left-(m.outerWidth()/2-h.outerWidth()/2-e[0]/2)})}else{m.css({left:g.left-(m.outerWidth()/2-h.outerWidth()/2-e[0]/2)});j.css("left",m.outerWidth())}break}if(b){if(parseInt(j.css("top"))==o){q.isOpen=true;return}}else{if(parseInt(j.css("left"))==c){q.isOpen==true;return}}a.each(n._getSiblings(q),function(){n._closeItem(n,this,true,true)});var k=a.data(n.element,"animationHideDelay");n.animationHideDelay=k;if(this.autoCloseInterval>0){if(this.host.data("autoclose")!=null&&this.host.data("autoclose").close!=null){clearTimeout(this.host.data("autoclose").close)}if(this.host.data("autoclose")!=null){this.host.data("autoclose").close=setTimeout(function(){n._closeAll()},this.autoCloseInterval)}}j.data("timer").show=setTimeout(function(){if(m!=null){if(b){j.stop();j.css("left",c);if(!a.browser.msie){}h.addClass(n.toThemeProperty("jqx-fill-state-pressed"));h.addClass(n.toThemeProperty("jqx-menu-item-top-selected"));var s=a(q.arrow);if(s.length>0&&n.showTopLevelArrows){s.removeClass();if(q.openVerticalDirection=="down"){s.addClass(n.toThemeProperty("jqx-menu-item-arrow-down-selected"))}else{s.addClass(n.toThemeProperty("jqx-menu-item-arrow-up-selected"))}}j.animate({top:o},n.animationShowDuration,n.easing,function(){q.isOpen=true;n._raiseEvent("0",q)})}else{j.stop();j.css("top",o);if(!a.browser.msie){}if(q.level>0){h.addClass(n.toThemeProperty("jqx-fill-state-pressed"));h.addClass(n.toThemeProperty("jqx-menu-item-selected"));var s=a(q.arrow);if(s.length>0){s.removeClass();if(q.openHorizontalDirection!="left"){s.addClass(n.toThemeProperty("jqx-menu-item-arrow-right-selected"))}else{s.addClass(n.toThemeProperty("jqx-menu-item-arrow-left-selected"))}}}else{h.addClass(n.toThemeProperty("jqx-fill-state-pressed"));h.addClass(n.toThemeProperty("jqx-menu-item-top-selected"));var s=a(q.arrow);if(s.length>0){s.removeClass();if(q.openHorizontalDirection!="left"){s.addClass(n.toThemeProperty("jqx-menu-item-arrow-right-selected"))}else{s.addClass(n.toThemeProperty("jqx-menu-item-arrow-left-selected"))}}}if(!a.browser.msie){}j.animate({left:c},n.animationShowDuration,n.easing,function(){n._raiseEvent("0",q);q.isOpen=true})}}},this.animationShowDelay)},_getMaxHeight:function(b){if(b==0){}},_applyOrientation:function(h,c){var f=this;var e=0;this.host.removeClass(f.toThemeProperty("jqx-menu-horizontal"));this.host.removeClass(f.toThemeProperty("jqx-menu-vertical"));this.host.removeClass(f.toThemeProperty("jqx-menu"));this.host.removeClass(f.toThemeProperty("jqx-widget"));this.host.addClass(f.toThemeProperty("jqx-widget"));this.host.addClass(f.toThemeProperty("jqx-menu"));if(h!=undefined&&c!=undefined&&c=="popup"){if(this.host.parent().length>0&&this.host.parent().parent().length>0&&this.host.parent().parent()[0]==document.body){var g=a.data(document.body,"jqxMenuOldHost"+this.element.id);if(g!=null){var d=this.host.closest("div.jqx-menu-wrapper");d.remove();d.appendTo(g);this.host.css("display","block");this.host.css("visibility","visible");d.css("display","block");d.css("visibility","visible")}}}else{if(h==undefined&&c==undefined){a.data(document.body,"jqxMenuOldHost"+this.element.id,this.host.parent()[0])}}if(this.autoOpenPopup){if(this.mode=="popup"){a(document).bind("contextmenu",function(j){return false});a(document).bind("mousedown.menu"+this.element.id,f,this._openContextMenu)}else{a(document).unbind("contextmenu");a(document).unbind("mousedown.menu"+this.element.id,this._openContextMenu)}}else{a(document).unbind("contextmenu");a(document).unbind("mousedown.menu"+this.element.id,this._openContextMenu)}switch(this.mode){case"horizontal":this.host.addClass(f.toThemeProperty("jqx-widget-header"));this.host.addClass(f.toThemeProperty("jqx-menu-horizontal"));a.each(this.items,function(){var l=this;$element=a(l.element);var k=a(l.arrow);k.removeClass();if(l.hasItems&&l.level>0){var k=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');k.prependTo($element);k.css("float","right");k.addClass(f.toThemeProperty("jqx-menu-item-arrow-right"));l.arrow=k[0]}if(l.level==0){a(l.element).css("float","left");if(!l.ignoretheme&&l.hasItems&&f.showTopLevelArrows){var k=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');var j=a.browser.msie&&a.browser.version<8;if(l.arrow==null){if(!j){k.prependTo($element)}else{k.appendTo($element)}}else{k=a(l.arrow)}if(l.openVerticalDirection=="down"){k.addClass(f.toThemeProperty("jqx-menu-item-arrow-down"))}else{k.addClass(f.toThemeProperty("jqx-menu-item-arrow-up"))}k.css("visibility","visible");if(!j){k.css("display","block");k.css("float","right")}else{k.css("display","inline-block")}l.arrow=k[0]}else{if(!l.ignoretheme&&l.hasItems&&!f.showTopLevelArrows){if(l.arrow!=null){var k=a(l.arrow);k.remove();l.arrow=null}}}e=Math.max(e,$element.height())}});break;case"vertical":case"popup":this.host.addClass(f.toThemeProperty("jqx-menu-vertical"));a.each(this.items,function(){var k=this;$element=a(k.element);if(k.hasItems&&!k.ignoretheme){if(k.arrow){a(k.arrow).remove()}var j=a('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');j.prependTo($element);j.css("float","right");if(k.level==0){j.addClass(f.toThemeProperty("jqx-menu-item-arrow-top-right"))}else{j.addClass(f.toThemeProperty("jqx-menu-item-arrow-right"))}k.arrow=j[0]}$element.css("float","none")});if(this.mode=="popup"){this.host.addClass(f.toThemeProperty("jqx-widget-content"));this.host.wrap('<div class="jqx-menu-wrapper" style="z-index:'+999999999+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var d=this.host.closest("div.jqx-menu-wrapper");d[0].id="menuWrapper"+this.element.id;d.appendTo(a(document.body))}else{this.host.addClass(f.toThemeProperty("jqx-widget-header"))}if(this.mode=="popup"){var b=this.host.height();this.host.css("position","absolute");this.host.css("top","0");this.host.css("left","0");this.host.height(b);this.host.css("display","none");this.host.css("visibility","hidden")}break}},_getOffset:function(c){var g=a(window).scrollTop();var j=a(window).scrollLeft();var d=a.jqx.mobile.isSafariMobileBrowser();var h=a(c).offset();var f=h.top;var e=h.left;if(d!=null&&d){var b={left:a.jqx.mobile.getLeftPos(c),top:a.jqx.mobile.getTopPos(c)};return b}else{return a(c).offset()}},_isRightClick:function(c){var b;if(!c){var c=window.event}if(c.which){b=(c.which==3)}else{if(c.button){b=(c.button==2)}}return b},_openContextMenu:function(d){var c=d.data;var b=c._isRightClick(d);if(b){c.open(parseInt(d.clientX)+5,parseInt(d.clientY)+5)}},close:function(){var c=this;var d=a.data(this.element,"contextMenuOpened"+this.element.id);if(d){var b=this.host;a.each(c.items,function(){var e=this;if(e.hasItems){c._closeItem(c,e)}});a.each(c.items,function(){var e=this;if(e.isOpen==true){$submenu=a(e.subMenuElement);var f=$submenu.closest("div.jqx-menu-popup");f.hide(this.animationHideDuration)}});this.host.hide(this.animationHideDuration);a.data(c.element,"contextMenuOpened"+this.element.id,false);c._raiseEvent("1",c)}},open:function(e,d){if(this.mode=="popup"){var c=0;if(this.host.css("display")=="block"){this.close();c=this.animationHideDuration}var b=this;if(e==undefined||e==null){e=0}if(d==undefined||d==null){d=0}setTimeout(function(){b.host.show(b.animationShowDuration);a.data(b.element,"contextMenuOpened"+b.element.id,true);b._raiseEvent("0",b);b.host.css("z-index",9999);if(e!=undefined&&d!=undefined){b.host.css({left:e,top:d})}},c)}},_renderHover:function(c,e,b){var d=this;if(!b){c.unbind("hover");if(!e.ignoretheme){c.hover(function(){if(!e.disabled&&!e.separator&&d.enableHover&&!d.disabled){if(e.level>0){c.addClass(d.toThemeProperty("jqx-fill-state-hover"));c.addClass(d.toThemeProperty("jqx-menu-item-hover"))}else{c.addClass(d.toThemeProperty("jqx-fill-state-hover"));c.addClass(d.toThemeProperty("jqx-menu-item-top-hover"))}}},function(){if(!e.disabled&&!e.separator&&d.enableHover&&!d.disabled){if(e.level>0){c.removeClass(d.toThemeProperty("jqx-fill-state-hover"));c.removeClass(d.toThemeProperty("jqx-menu-item-hover"))}else{c.removeClass(d.toThemeProperty("jqx-fill-state-hover"));c.removeClass(d.toThemeProperty("jqx-menu-item-top-hover"))}}})}}},_closeAfterClick:function(c){var b=c!=null?c.data:this;var d=false;if(b.autoCloseOnClick){a.each(a(c.target).parents(),function(){if(this.className.indexOf){if(this.className.indexOf("jqx-menu")!=-1){d=true;return false}}});if(!d){c.data=b;b._closeAll(c)}}},_autoSizeHorizontalMenuItems:function(){var c=this;if(c.autoSizeMainItems&&this.mode=="horizontal"){var b=this.maxHeight;if(parseInt(b)>parseInt(this.host.height())){b=parseInt(this.host.height())}b=parseInt(this.host.height());a.each(this.items,function(){var m=this;$element=a(m.element);if(m.level==0&&b>0){var d=$element.children().length>0?parseInt($element.children().height()):$element.height();var g=c.host.find("ul:first");var h=parseInt(g.css("padding-top"));var n=parseInt(g.css("margin-top"));var k=b-2*(n+h);var j=parseInt(k)/2-d/2;var e=parseInt(j);var l=parseInt(j);$element.css("padding-top",e);$element.css("padding-bottom",l);if(parseInt($element.outerHeight())>k){var f=1;$element.css("padding-top",e-f);e=e-f}}})}},_render:function(f,b){var g=1000;var c=[5,5];var e=this;a.data(e.element,"animationHideDelay",e.animationHideDelay);var d=this.isTouchDevice();a.data(document.body,"menuel",this);if(this.autoCloseOnClick){this.removeHandler(a(document),"mousedown.menu"+this.element.id,e._closeAfterClick);this.addHandler(a(document),"mousedown.menu"+this.element.id,e._closeAfterClick,e);this.removeHandler(a(document),"mouseup.menu"+this.element.id,e._closeAfterClick);this.addHandler(a(document),"mouseup.menu"+this.element.id,e._closeAfterClick,e);if(d){this.addHandler(a(document),"touchstart.menu"+this.element.id,e._closeAfterClick,e)}}this._applyOrientation(f,b);this.host.css("visibility","visible");if(e.enableRoundedCorners){this.host.addClass(e.toThemeProperty("jqx-rc-all"))}a.each(this.items,function(){var p=this;var l=a(p.element);if(e.enableRoundedCorners){l.addClass(e.toThemeProperty("jqx-rc-all"))}e.removeHandler(l,"click");e.addHandler(l,"click",function(u){if(p.disabled){return}e._raiseEvent("2",p.element);if(!e.autoOpen){if(p.level>0){if(e.autoCloseOnClick&&!d&&!e.clickToOpen){u.data=e;e._closeAll(u)}}}else{if(e.autoCloseOnClick&&!d&&!e.clickToOpen){if(p.closeOnClick){u.data=e;e._closeAll(u)}}}if(u.target.tagName!="A"&&u.target.tagName!="a"){var s=p.anchor!=null?a(p.anchor):null;if(s!=null&&s.length>0){var r=s.attr("href");var t=s.attr("target");if(r!=null){if(t!=null){window.open(r,t)}else{window.location=r}}}}});e.removeHandler(l,"mouseenter");e.removeHandler(l,"mouseleave");e._renderHover(l,p,d);if(p.subMenuElement!=null){var m=a(p.subMenuElement);m.wrap('<div class="jqx-menu-popup" style="border: none; background-color: transparent; z-index:'+g+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>');m.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-m.outerHeight()});m.data("timer",{});if(p.level>0){m.css("left",-m.outerWidth())}else{if(e.mode=="horizontal"){m.css("left",0)}}g++;var o=a(p.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(a(p.subMenuElement).outerWidth())+parseInt(c[0])+"px",height:parseInt(a(p.subMenuElement).outerHeight())+parseInt(c[1])+"px"});var q=l.closest("div.jqx-menu-popup");if(q.length>0){var h=m.css("margin-left");var k=m.css("margin-right");var j=m.css("padding-left");var n=m.css("padding-right");o.appendTo(q);m.css("margin-left",h);m.css("margin-right",k);m.css("padding-left",j);m.css("padding-right",n)}else{var h=m.css("margin-left");var k=m.css("margin-right");var j=m.css("padding-left");var n=m.css("padding-right");o.appendTo(a(document.body));m.css("margin-left",h);m.css("margin-right",k);m.css("padding-left",j);m.css("padding-right",n)}if(!d&&!e.clickToOpen){e.addHandler(l,"mouseenter",function(){if(e.autoOpen||(p.level>0&&!e.autoOpen)){clearTimeout(m.data("timer").hide)}if(p.parentId&&p.parentId!=0){if(e.menuElements[p.parentId]){var r=e.menuElements[p.parentId].isOpen;if(!r){return}}}if(e.autoOpen||(p.level>0&&!e.autoOpen)){e._openItem(e,p)}return false});e.addHandler(l,"mousedown",function(){if(!e.autoOpen&&p.level==0){clearTimeout(m.data("timer").hide);if(m!=null){m.stop()}if(!p.isOpen){e._openItem(e,p)}else{e._closeItem(e,p,true)}}});e.addHandler(l,"mouseleave",function(s){if(e.autoCloseOnMouseLeave){clearTimeout(m.data("timer").hide);var v=a(p.subMenuElement);var r={left:parseInt(s.pageX),top:parseInt(s.pageY)};var u={left:parseInt(v.offset().left),top:parseInt(v.offset().top),width:parseInt(v.outerWidth()),height:parseInt(v.outerHeight())};var t=true;if(u.left-5<=r.left&&r.left<=u.left+u.width+5){if(u.top<=r.top&&r.top<=u.top+u.height){t=false}}if(t){e._closeItem(e,p,true)}}});e.removeHandler(o,"mouseenter");e.addHandler(o,"mouseenter",function(){clearTimeout(m.data("timer").hide)});e.removeHandler(o,"mouseleave");e.addHandler(o,"mouseleave",function(r){if(e.autoCloseOnMouseLeave){clearTimeout(m.data("timer").hide);clearTimeout(m.data("timer").show);if(m!=null){m.stop()}e._closeItem(e,p,true)}})}else{e.removeHandler(l,"mousedown");e.addHandler(l,"mousedown",function(r){clearTimeout(m.data("timer").hide);if(m!=null){m.stop()}if(p.level==0&&!p.isOpen){r.data=e;e._closeAll(r)}if(!p.isOpen){e._openItem(e,p)}else{e._closeItem(e,p,true)}})}}});this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;while(this.items[b]){b=Math.random()+"";b=b.replace(".","");b=b/1}return"menuItem"+b},_createMenu:function(l,n){if(l==null){return}if(n==undefined){n=true}if(n==null){n=true}var r=this;var e=a(l).find("li");var f=0;for(var m=0;m<e.length;m++){if(e[m].className.indexOf("jqx-menu")==-1&&this.autoGenerate==false){continue}var c=e[m].id;if(!c){c=this.createID()}if(n){e[m].id=c;this.items[f]=new a.jqx._jqxMenu.jqxMenuItem();this.menuElements[c]=this.items[f]}f+=1;var j=0;var q=this;a(e[m]).children().each(function(){if(!n){a(this).removeClass();if(q.autoGenerate){a(q.items[f-1].subMenuElement).removeClass();a(q.items[f-1].subMenuElement).addClass(q.toThemeProperty("jqx-widget-content"));a(q.items[f-1].subMenuElement).addClass(q.toThemeProperty("jqx-menu-dropdown"))}}if(this.className.indexOf("jqx-menu-dropdown")!=-1){if(n){q.items[f-1].subMenuElement=this}return false}else{if(q.autoGenerate&&(this.tagName=="ul"||this.tagName=="UL")){if(n){q.items[f-1].subMenuElement=this}a(this).removeClass();a(this).addClass(q.toThemeProperty("jqx-widget-content"));a(this).addClass(q.toThemeProperty("jqx-menu-dropdown"));return false}}});a(e[m]).parents().each(function(){if(this.className.indexOf("jqx-menu-item")!=-1){j=this.id;return false}else{if(q.autoGenerate&&(this.tagName=="li"||this.tagName=="LI")){j=this.id;return false}}});var h=false;var p=e[m].getAttribute("type");var o=e[m].getAttribute("ignoretheme");if(o){if(o=="true"||o==true){o=true}}else{o=false}if(!p){p=e[m].type}else{if(p=="separator"){var h=true}}if(!h){if(j){p="sub"}else{p="top"}}var b=this.items[f-1];if(n){b.id=c;b.parentId=j;b.type=p;b.separator=h;b.element=e[m];var g=a(e[m]).find("a:first");b.level=a(e[m]).parents("li").length;b.anchor=g.parents("li").length==b.level+1?g:null}b.ignoretheme=o;var d=this.menuElements[j];if(d!=null){if(d.ignoretheme){b.ignoretheme=d.ignoretheme;o=d.ignoretheme}}if(this.autoGenerate){if(p=="separator"){a(e[m]).removeClass();a(e[m]).addClass(this.toThemeProperty("jqx-menu-item-separator"))}else{if(!o){a(e[m]).removeClass();if(b.level>0){a(e[m]).addClass(this.toThemeProperty("jqx-item"));a(e[m]).addClass(this.toThemeProperty("jqx-menu-item"))}else{a(e[m]).addClass(this.toThemeProperty("jqx-item"));a(e[m]).addClass(this.toThemeProperty("jqx-menu-item-top"))}}}}if(n&&!o){b.hasItems=a(e[m]).find("li").length>0}}},destroy:function(){var c=this.host.closest("div.jqx-menu-wrapper");c.remove();var b=this;this.removeHandler(a(document),"mousedown.menu"+this.element.id,b._closeAfterClick);this.removeHandler(a(document),"mouseup.menu"+this.element.id,b._closeAfterClick);a.each(this.items,function(){var e=this;var d=a(e.element);b.removeHandler(d,"click");b.removeHandler(d,"selectstart");b.removeHandler(d,"mouseenter");b.removeHandler(d,"mouseleave");b.removeHandler(d,"mousedown");b.removeHandler(d,"mouseleave")});this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;e.args=args;var b=this.host.trigger(e);return b},_refreshStyle:function(){var b=this;this.host.removeClass();this.host.addClass(b.toThemeProperty("jqx-widget"));this.host.addClass(b.toThemeProperty("jqx-widget-header"));a.each(this.items,function(c){a(this.element).removeClass();if(this.hasItems){a(this.subMenuElement).addClass(b.toThemeProperty("jqx-widget-content"));a(this.subMenuElement).addClass(b.toThemeProperty("jqx-menu-dropdown"))}if(this.level==0){a(this.element).addClass(b.toThemeProperty("jqx-item"));a(this.element).addClass(b.toThemeProperty("jqx-menu-item-top"))}else{a(this.element).addClass(b.toThemeProperty("jqx-item"));a(this.element).addClass(b.toThemeProperty("jqx-menu-item"))}})},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(d==e){return}if(c=="autoCloseOnClick"){if(d==false){a(document).unbind("mousedown.menu"+this.element.id,b._closeAll)}else{a(document).bind("mousedown.menu"+this.element.id,b,b._closeAll)}}else{if(c=="mode"||c=="width"||c=="height"||c=="showTopLevelArrows"){b.refresh();if(c=="mode"){b._render(d,e)}else{b._applyOrientation()}}else{if(c=="theme"){a.jqx.utilities.setTheme(e,d,b.host)}}}}})})(jQuery);(function(a){a.jqx._jqxMenu.jqxMenuItem=function(e,d,c){var b={id:e,parentId:d,parentItem:null,anchor:null,type:c,disabled:false,level:0,isOpen:false,hasItems:false,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:true};return b}})(jQuery);(function(a){a.jqx.jqxWidget("jqxExpander","",{});a.extend(a.jqx._jqxExpander.prototype,{defineInstance:function(){this.expandAnimationDuration=350,this.collapseAnimationDuration=400,this.expanded=true;this.disabled=false;this.animationType="slide";this.headerPosition="top";this.toggleMode="click";this.arrowPosition="right";this.showArrow=true;this.height="auto";this.width="auto";this._content=null;this.enableHover=true;this.toggleBehaviour="header";this._header=null;this._triggerMethod=undefined;this._contentResizeMethod=undefined;this._firstSlideExpand=true;this._events=["expanding","expanded","collapsing","collapsed"];this._directions={left:"right",right:"left",top:"bottom",bottom:"top"};this._invalidArgumentExceptions={invalidExpandAnimationDuration:"The duration of the expanding animation is invalid.",invalidCollapseAnimationDuration:"The duration of the collapsing animation is invalid.",invalidAnimationType:"The animation type is invalid.",invalidHeaderPosition:"The header position is invalid.",invalidToggleMode:"The toggle mode is invalid.",invalidArrowPosition:"The arrow position is invalid.",invalidExpanderSize:"This size is not valid.",invalidExpanderStructure:"Please add 2 sub div elements to your html that will represent the expander header and content."}},createInstance:function(b){this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-expander"));this.host.css("visibility","hidden");this._header=this.host.children("."+this.toThemeProperty("jqx-expander-header",true));this._content=this.host.children("."+this.toThemeProperty("jqx-expander-content",true));this._setExpanderSize();var e=this.host.children("div");if(e.length>0){if(this._header.length==0){this._header=a(e[0]);this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._header.addClass(this.toThemeProperty("jqx-expander-header"))}if(this._content.length==0&&e.length>1){this._content=a(e[1]);this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._content.addClass(this.toThemeProperty("jqx-expander-content"))}}try{if(this._header==null||this._content==null){throw this._invalidArgumentExceptions.invalidExpanderStructure}}catch(c){alert(c.Data)}this._createExpander();var d=this;if(this.expanded){this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"));this._content.addClass(this.toThemeProperty("jqx-expander-content-expanded"));this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}this.host.css("visibility","visible")},_setExpanderSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}},_createExpander:function(){var c=this._content[0];a.data(c,"isAnimating",false);this._firstSlideExpand=true;this._validateProperties();this._render(true);this._applyTheme();this._performLayout();this._addEventHandlers();if(!this.expanded){this._absoluteCollapse()}var b=this},_absoluteCollapse:function(b){var b=b||this;if(b.animationType!=="none"){b._content.css("visibility","hidden")}if(b.animationType==="slide"){b._slideCollapse(0)}else{if(b.animationType==="fade"){b._fadeCollapse(0)}else{if(b.animationType==="none"){b._toggleCollapse()}}}if((!b.height||b.height==="auto")&&b.animationType!=="none"){b._content.height(0)}this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._content.removeClass(this.toThemeProperty("jqx-expander-content-expanded"));b._raiseEvent(3)},_validateProperties:function(){try{if(this.expandAnimationDuration<=0){throw this._invalidArgumentExceptions.invalidExpandAnimationDuration}if(this.collapseAnimationDuration<=0){throw this._invalidArgumentExceptions.invalidCollapseAnimationDuration}if((parseInt(this.width)<=0||parseInt(this.height)<=0)&&(this.width!="auto"&&this.height!="auto"||this.width!=undefined&&this.height!=undefined)){throw this._invalidArgumentExceptions.invalidExpanderSize}if(this.animationType!="slide"&&this.animationType!="fade"&&this.animationType!="none"){throw this._invalidArgumentExceptions.invalidAnimationType}if(this.headerPosition!="top"&&this.headerPosition!="bottom"){throw this._invalidArgumentExceptions.invalidHeaderPosition}if(this.toggleMode!="click"&&this.toggleMode!="none"&&this.toggleMode!="dblclick"&&this.toggleMode!="mouseenter"){throw this._invalidArgumentExceptions.invalidToggleMode}if(this.arrowPosition!="left"&&this.arrowPosition!="right"){throw this._invalidArgumentExceptions.invalidArrowPosition}}catch(b){alert(b)}},_addEventHandlers:function(b){var c=this;var g=this._content;var f=this._header.children(this.toThemeProperty(".jqx-expander-arrow",true));if(this.toggleBehaviour!="arrow"){this.removeHandler(this._header,"click");this.removeHandler(this._header,"dblclick");this.removeHandler(this._header,"mouseover")}else{this.removeHandler(f,"click");this.removeHandler(f,"dblclick");this.removeHandler(f,"mouseover")}if(b!=undefined&&b!=this.toggleBehavior){if(b=="arrow"){this.removeHandler(f,"click");this.removeHandler(f,"dblclick");this.removeHandler(f,"mouseover")}else{this.removeHandler(this._header,"click");this.removeHandler(this._header,"dblclick");this.removeHandler(this._header,"mouseover")}}this.removeHandler(this._header,"mouseenter");this.removeHandler(this._header,"mouseleave");this.removeHandler(this._header,"mousedown");this.removeHandler(this._header,"mouseup");this.removeHandler(this._header,"selectstart");if(this._triggerMethod===undefined){c._triggerMethod=function(h){c._expanderTrigger(c);return false}}var e=this.toggleBehaviour=="arrow"?f:this._header;this.addHandler(this._header,"mousedown",function(){return false});this.addHandler(this._header,"mouseup",function(){return false});this.addHandler(this._header,"selectstart",function(){return false});switch(this.toggleMode){case"click":this.addHandler(e,"click",this._triggerMethod);this._header.removeClass(this.toThemeProperty("jqx-expander-header-toggle-none"));break;case"dblclick":this.addHandler(e,"dblclick",this._triggerMethod);this._header.removeClass(this.toThemeProperty("jqx-expander-header-toggle-none"));break;case"mouseenter":this.addHandler(e,"mouseover",this._triggerMethod);this._header.removeClass(this.toThemeProperty("jqx-expander-header-toggle-none"));break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-toggle-none"));break}this.removeHandler(a(window),"resize.expander"+this.element.id);this.addHandler(a(window),"resize.expander"+this.element.id,function(){if(a.data(g,"isAnimating")==false){c._performLayout()}});var d=a.jqx.mobile.isTouchDevice();this.addHandler(this._header,"mouseenter",function(){if(!c.disabled&&c.enableHover&&!d){c._header.addClass(c.toThemeProperty("jqx-expander-header-hover"));c._header.addClass(c.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this._header,"mouseleave",function(){if(!c.disabled&&c.enableHover&&!d){c._header.removeClass(c.toThemeProperty("jqx-expander-header-hover"));c._header.removeClass(c.toThemeProperty("jqx-fill-state-hover"))}})},_expanderTrigger:function(b){if(!b.disabled){if(b.expanded){b.collapse()}else{b.expand()}}},_render:function(b){if(b){this._headerRender()}switch(this.headerPosition){case"top":this._header.detach();this._content.detach();this._header.appendTo(this.host);this._content.appendTo(this.host);break;case"bottom":this._header.detach();this._content.detach();this._content.appendTo(this.host);this._header.appendTo(this.host);break}this._content.wrap('<div class="jqx-expander-contentWrapper" style="background-color: transparent; margin: 0; padding: 0; position: relative; overflow: hidden;">');this.$contentWrapper=this._content.closest(".jqx-expander-contentWrapper")},_performLayout:function(){if(!a.data(this._content[0],"isAnimating")){var b=this.host.width();this._headerPerformLayout();if(this.height&&this.height!=="auto"){this.host.height(parseInt(this.height)+"px");var c=parseInt(this._content.css("border-top-width"))+parseInt(this._content.css("border-bottom-width"))+parseInt(this._content.css("padding-bottom"))+parseInt(this._content.css("padding-top"));this._content.height(parseInt(this.host.innerHeight())-parseInt(this._header.outerHeight())-c);a.data(this._content,"contentHeight",this._content.height())}else{this._header.height("auto");this._content.height("auto");this.host.height("auto");a.data(this._content,"contentHeight","auto")}if(this.width){if(this.width=="auto"&&a.browser.msie&&a.browser.version<8){this.host.width(b)}else{this.host.width(this.width)}}else{this.host.width("100%")}return}},_headerRender:function(){var c=a('<div class="'+this.toThemeProperty("jqx-expander-arrow")+'"></div>');var b=a('<div class="'+this.toThemeProperty("jqx-expander-header-content")+'"></div>');b.html(this._header.html());this._header.empty();c.appendTo(this._header);b.appendTo(this._header);if(this.showArrow){var e="jqx-expander-arrow-"+((this.expanded)?(this._directions[this.headerPosition]):(this.headerPosition));var d=e;c.addClass(this.toThemeProperty(d))}},_headerPerformLayout:function(){var g=this._header.children(this.toThemeProperty(".jqx-expander-arrow",true));var f=this._header.children(this.toThemeProperty(".jqx-expander-header-content",true));var c=g.outerWidth();var e=this._header.innerWidth();switch(this.arrowPosition){case"left":g.removeClass(this.toThemeProperty("jqx-expander-arrow-align-right"));g.addClass(this.toThemeProperty("jqx-expander-arrow-align-left"));g.css("float","left");break;case"right":g.removeClass(this.toThemeProperty("jqx-expander-arrow-align-left"));g.addClass(this.toThemeProperty("jqx-expander-arrow-align-right"));g.css("float","right");break}var h=this._getImageSize();g.width(h.width);g.height(h.height);this._fitContent(this,g,f);var b=this._header.height();var d=parseInt(b)/2-parseInt(f.height())/2;f.css("margin-top",d+"px");var d=parseInt(b)/2-parseInt(g.height())/2;g.css("margin-top",d+"px")},_getImageSize:function(){var e=0;var b=0;if(this.showArrow){e=b=16;var d=this._header.children(this.toThemeProperty(".jqx-expander-arrow",true)).css("backgroundImage");d=d.replace('url("',"");d=d.replace('")',"");d=d.replace("url(","");d=d.replace(")","");var f=a('<span><img style="height: auto; width: auto; visibility:hidden;" src="'+d+'"  /></span>');f.appendTo(document.body);var c=this;e=f.width();b=f.height();f.load(function(){c._fitContent(c,headerArrow,headerContent);f.remove();e=f.width();b=f.height()});e=Math.max(16,e);b=Math.max(16,b);f.remove()}return{width:e,height:b}},_fitContent:function(d,c,b){},_showSpecificArrowDirection:function(b){this._header.children(this.toThemeProperty(".jqx-expander-arrow",true)).removeClass(this.toThemeProperty("jqx-expander-arrow-"+this._directions[b]));this._header.children(this.toThemeProperty(".jqx-expander-arrow",true)).addClass(this.toThemeProperty("jqx-expander-arrow-"+b))},_applyTheme:function(){if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-expander-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"));this._content.addClass(this.toThemeProperty("jqx-expander-content-disabled"))}switch(this.headerPosition){case"top":this._header.removeClass(this.toThemeProperty("jqx-expander-header-bottom"));this._content.removeClass(this.toThemeProperty("jqx-expander-content-top"));this._header.addClass(this.toThemeProperty("jqx-expander-header-top"));this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom"));break;case"bottom":this._header.removeClass(this.toThemeProperty("jqx-expander-header-top"));this._content.removeClass(this.toThemeProperty("jqx-expander-content-bottom"));this._header.addClass(this.toThemeProperty("jqx-expander-header-bottom"));this._content.addClass(this.toThemeProperty("jqx-expander-content-top"));break}},destroy:function(){this.host.removeClass()},_raiseEvent:function(g,c){if(c==undefined){c={owner:null}}var d=this._events[g];args=c;args.owner=this;var f=false;if(g==1){if(this.showArrow){this._showSpecificArrowDirection(this._directions[this.headerPosition])}this.expanded=true}if(g==3){if(this.showArrow){this._showSpecificArrowDirection(this.headerPosition)}this.expanded=false}var e=new jQuery.Event(d);e.owner=this;e.cancel=f;var b=this.host.trigger(e);if(!e.cancel){if(g==0){if(this.showArrow){this._showSpecificArrowDirection(this._directions[this.headerPosition])}return e.cancel}if(g==2){if(this.showArrow){this._showSpecificArrowDirection(this.headerPosition)}return e.cancel}}return b},collapse:function(){var b=this._raiseEvent(2);if(b){return}if(this.element!=null){if(this.animationType!="none"){a.data(this._content[0],"isAnimating",true);this._content.css("visibility","visible");if(!this.height||this.height==="auto"){this._content.height(a.data(this._content,"contentHeight"))}this._content.stop();if(this.animationType=="slide"){this._slideCollapse(this.collapseAnimationDuration,true)}else{if(this.animationType=="fade"){this._fadeCollapse(this.collapseAnimationDuration,true)}}}else{this._toggleCollapse(true)}}this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._content.removeClass(this.toThemeProperty("jqx-expander-content-expanded"))},_toggleCollapse:function(c){var b=this;a(b._content).hide(0,function(){b._collapseCallback(b,c)})},_fadeCollapse:function(d,c){var b=this;if(!this.height||this.height==="auto"){a(b._content).fadeOut(d,function(){b._collapseCallback(b,c)})}else{a(b._content).fadeTo(d,0.01,function(){b._collapseCallback(b,c)})}},_collapseCallback:function(c,b){a.data(c._content[0],"isAnimating",false);if(b){c._raiseEvent(3);c._content.css("height","0");c._content.css("visibility","hidden")}},_slideCollapse:function(g,f){var d=this;var e=d._content;var c=a(d._header);var b=Math.max(2,parseInt(c.css("border-bottom-width"))+parseInt(c.css("border-top-width")));if(isNaN(b)){b=0}if(a.browser.mozilla){b=1}e.stop();switch(this.headerPosition){case"top":a(e).animate({"margin-top":-parseInt(e.height())-b+"px"},g,"easeInOutSine",function(){d._collapseCallback(d,f)});break;case"bottom":if(this.height&&this.height!=="auto"){a(e).animate({bottom:-parseInt(e.height())+"px"},g,"linear",function(){d._collapseCallback(d,f)})}else{a(e).animate({"margin-bottom":-parseInt(e.height())+"px"},g,"easeInOutSine",function(){d._collapseCallback(d,f)})}break}},expand:function(){this._raiseEvent(0);if(this.element!=null){if(this.animationType!="none"){this._content.css("display","block");a.data(this._content[0],"isAnimating",true);this._content.css("visibility","visible");if((!this.height||this.height==="auto")){this._content.height(a.data(this._content,"contentHeight"))}else{if(this._content.height()==0){this._content.height(this._content.height(a.data(this._content,"contentHeight")))}}this._content.stop();if(this.animationType=="slide"){this._slideExpand(this.expandAnimationDuration,true)}else{if(this.animationType=="fade"){this._fadeExpand(this.expandAnimationDuration,true)}}}else{this._content.css("display","none");this._toggleExpand(true)}}this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._content.addClass(this.toThemeProperty("jqx-expander-content-expanded"))},_toggleExpand:function(c){var b=this;this._content.css("visibility","visible");if((!this.height||this.height==="auto")){this._content.height(a.data(this._content,"contentHeight"))}else{if(this._content.height()==0){this._content.height(this._content.height(a.data(this._content,"contentHeight")))}}a(b._content).show(0,function(){b._expandCallback(b,c)})},_fadeExpand:function(d,c){var b=this;if(!this.height||this.height==="auto"){a(b._content).fadeIn(d,function(){b._expandCallback(b,c)})}else{a(b._content).fadeTo(d,1,function(){b._expandCallback(b,c)})}},_expandCallback:function(c,b){a.data(c._content[0],"isAnimating",false);if(b){c._raiseEvent(1)}},_slideExpand:function(e,d){if(this._firstSlideExpand){this._slideCollapse(0,false);this._firstSlideExpand=false}var b=this;var c=this._content;c.stop();switch(this.headerPosition){case"top":a(c).animate({"margin-top":"0px"},e,"easeInOutSine",function(){b._expandCallback(b,d)});break;case"bottom":if(this.height&&this.height!=="auto"){a(c).animate({bottom:"0px"},e,"linear",function(){b._expandCallback(b,d)})}else{a(c).animate({"margin-bottom":"0px"},e,"easeInOutSine",function(){b._expandCallback(b,d)})}break}},setContentHeight:function(b){this._content.height(b);a.data(this._content,"contentHeight",b);if(b==="auto"){this._content.css("minHeight",0)}if(!this.expanded){this._absoluteCollapse()}},disable:function(){this.disabled=true;this._applyTheme()},enable:function(){this.disabled=false;this.host.removeClass(this.toThemeProperty("jqx-expander-disabled"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-expander-content-disabled"))},setHeaderContent:function(c){if(c){var b=this._header.children(this.toThemeProperty(".jqx-expander-header-content",true));b.html(c);this._performLayout()}},setContent:function(b){if(b){this._content.html(b);this._performLayout()}},getContent:function(){if(this._content!=null){return this._content.html()}return null},getHeaderContent:function(){return this._header.children(this.toThemeProperty(".jqx-expander-header-content",true)).html()},propertyChangedHandler:function(g,r,f,o){if(this.isInitialized==undefined||this.isInitialized==false){return}if(r=="theme"){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-expander"));this._header.removeClass();this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._header.addClass(this.toThemeProperty("jqx-expander-header"));this._content.removeClass();this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._content.addClass(this.toThemeProperty("jqx-expander-content"));var q=this.host.find(".jqx-expander-arrow");var m=this.host.find(".jqx-expander-header-content");q.removeClass();q.addClass(this.toThemeProperty("jqx-expander-arrow"));m.addClass(this.toThemeProperty("jqx-expander-header-content"));this._applyTheme();if(this.showArrow){var k="jqx-expander-arrow-"+((this.expanded)?(this._directions[this.headerPosition]):(this.headerPosition));var e=k;q.addClass(this.toThemeProperty(e))}this._headerPerformLayout()}if(r=="showArrow"){var p=this.host.find("."+this.toThemeProperty("jqx-expander-arrow",true));if(o){p.css("visibility","visible")}else{p.css("visibility","hidden")}}else{if(r=="arrowPosition"){this._headerPerformLayout()}else{if(r=="toggleMode"){this._addEventHandlers()}else{if(r=="toggleBehavior"){this._addEventHandlers(f)}else{if(r=="disabled"){this.disabled=o;if(o){this.host.addClass(this.toThemeProperty("jqx-expander-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"));this._content.addClass(this.toThemeProperty("jqx-expander-content-disabled"))}else{this.host.removeClass(this.toThemeProperty("jqx-expander-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-expander-content-disabled"))}}else{if(r=="expanded"&&!o){var s=this.expandAnimationDuration;var b=this.collapseAnimationDuration;this.collapseAnimationDuration=0;this.expandAnimationDuration=0;this.collapse();this.expandAnimationDuration=s;this.collapseAnimationDuration=b}else{if(r=="expanded"&&o){var d=undefined;if(r=="expanded"&&o){d=this._content.height()}if(d){this._content.height(d);a.data(this._content,"contentHeight",d)}var s=this.expandAnimationDuration;var b=this.collapseAnimationDuration;this.collapseAnimationDuration=0;this.expandAnimationDuration=0;this.expand();this.expandAnimationDuration=s;this.collapseAnimationDuration=b}else{if(r=="headerPosition"){var j=a("<div></div>").html(this._header.children(this.toThemeProperty(".jqx-expander-header-content",true)).html());var l=a("<div></div>").html(this._content.html());var c=this._header.attr("class").split(/\s+/);var n=this._content.attr("class").split(/\s+/);var d=undefined;if(r=="expanded"&&o){d=this._content.height()}this.$contentWrapper.detach();this._content.detach();this._header.detach();this._content=l;this._header=j;this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._header.addClass(this.toThemeProperty("jqx-expander-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._content.addClass(this.toThemeProperty("jqx-expander-content"));for(var h=0;h<c.length;h++){this._header.addClass(c[h])}for(var h=0;h<n.length;h++){this._content.addClass(n[h])}this._createExpander();if(d){this._content.height(d);a.data(this._content,"contentHeight",d)}}}}}}}}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxNavigationBar","",{});a.extend(a.jqx._jqxNavigationBar.prototype,{defineInstance:function(){this.expandAnimationDuration=350,this.collapseAnimationDuration=350,this.disabled=false;this.animationType="slide";this.toggleMode="click";this.expandMode="single";this.sizeMode="auto";this.showArrow=true;this.arrowPosition="right";this.expandedIndexes=undefined;this.expandedIndex=-1;this.height="auto";this.width="auto";this._expandersList=[];this._toggleModesBackup=[];this._expandedIndexes=undefined;this._maxHeight=0;this._currentExpandedItem=null;this._events=["expandingItem","expandedItem","collapsingItem","collapsedItem"];this._invalidArgumentExceptions={invalidStructure:"Invalid structure of the navigation bar!",invalidExpandAnimationDuration:"Expand animation duration is invalid!",invalidCollapseAnimationDuration:"Collapse animation duration is invalid!",invalidAnimationType:"The animation type is invalid!",invalidToggleMode:"The toggle mode is invalid!",invalidArrowPosition:"The arrow position is invalid!",invalidNavigationBarSize:"This size is not valid!",invalidExpandModeException:"The expand mode you've entered is invalid!",invalidExpandedIndexesLength:"expandedIndexes is not with valid size.",invalidExpandedIndex:"Invalid expanded index!",invalidModeException:"You can't use fitAvailableHeight in multiple expand mode!",invalidSizeMode:"You have entered invalid size mode!"}},createInstance:function(c){this.host.addClass(this.toThemeProperty("jqx-navigationbar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.css("visibility","hidden");var e=this.host.children("."+this.toThemeProperty("jqx-expander-header",true)).detach();var b=this.host.children("."+this.toThemeProperty("jqx-expander-content",true)).detach();try{if(e.length===0||b.length===0){var f=this._addExpanderClasses();e=f.headersList;b=f.contentsList}if(e.length!=b.length){throw this._invalidArgumentExceptions.invalidStructure}}catch(d){alert(d)}this.headersList=e;this.contentsList=b;this._createNavigationBar(e,b);this.host.css("visibility","visible")},_addExpanderClasses:function(){var f=this.host.children("div");if(f.length>0){var e=[];for(var d=0,c=0;d<f.length;d+=2,c++){e[c]=a(f[d]).detach();e[c].addClass(this.toThemeProperty("jqx-widget-header"));e[c].addClass(this.toThemeProperty("jqx-expander-header"))}if(f.length>1){var b=[];for(var d=1,c=0;d<f.length;d+=2,c++){b[c]=a(f[d]).detach();b[c].addClass(this.toThemeProperty("jqx-widget-content"));b[c].addClass(this.toThemeProperty("jqx-expander-content"))}}else{throw this._invalidArgumentExceptions.invalidStructure}}else{throw this._invalidArgumentExceptions.invalidStructure}return{headersList:e,contentsList:b}},_updateExpandedIndexes:function(c){if(c==null||c==undefined){c=0}this._expandedIndexes=[];if(this.expandedIndexes===undefined){this.expandedIndexes=[]}else{for(var b=0;b<c;b++){this._expandedIndexes[b]=false}for(var b=0;b<this.expandedIndexes.length;b++){if(this.expandedIndexes[b]<c){this._expandedIndexes[this.expandedIndexes[b]]=true}}}},_createNavigationBar:function(c,b){this._updateExpandedIndexes(c.length);this._render(c,b);this._refreshNavigationBar()},_refreshNavigationBar:function(){this._validateProperties();this._fixView();this._performLayout();this._fixView()},_collapseItems:function(){for(var b=0;b<this._expandersList.length;b++){if(!this._expandedIndexes[b]){a(this._expandersList[b]).jqxExpander("_absoluteCollapse")}}},_removeArrayItem:function(c,d){var b=this._getItemIndex(c,d);if(b>=0){d.splice(b,1)}},_removeEventHandlers:function(){var b=this;a.each(this._expandersList,function(){var c=this;b.removeHandler(a(c),"expanded");b.removeHandler(a(c),"collapsed");b.removeHandler(a(c),"collapsing");b.removeHandler(a(c),"expanding");b.removeHandler(a(window),"load")})},_addEventHandlers:function(c){var b=this;this.addHandler(a(c),"mouseenter",function(){c.css("z-index",100)});this.addHandler(a(c),"mouseleave",function(){c.css("z-index",0)});this.addHandler(a(c),"expanded",function(){var d=b._getItemIndex(c,b._expandersList);b._expandedIndexes[d]=true;if(b.expandMode==="single"){b.expandedIndex=d}a(this).css("margin-bottom",0);var e=b._getItemIndex(this,b._expandersList);if(b.expandedIndexes[e]==undefined){b.expandedIndexes.push(e)}b._raiseEvent(1,b._getItemIndex(this,b._expandersList))});this.addHandler(a(c),"collapsed",function(){var d=b._getItemIndex(c,b._expandersList);b._expandedIndexes[d]=false;b._removeArrayItem(b._getItemIndex(this,b._expandersList),b.expandedIndexes);b._raiseEvent(3,b._getItemIndex(this,b._expandersList))});this.addHandler(a(c),"collapsing",function(d){b._raiseEvent(2,b._getItemIndex(this,b._expandersList));if(b.expandMode==="single"){a(this).jqxExpander("toggleMode",b.toggleMode)}});this.addHandler(a(c),"expanding",function(d){if(b.expandMode==="single"||b.expandMode==="toggle"){if(b._currentExpandedItem&&b._getItemIndex(d.owner.element,b._expandersList)>=0){b.collapseAt(b._getItemIndex(b._currentExpandedItem,b._expandersList));a(b._currentExpandedItem).jqxExpander("toggleMode",b.toggleMode);if((b.sizeMode==="maxItemHeight"||b.sizeMode==="fitAvailableHeight")&&(a.browser.webkit||a.browser.opera||a.browser.msie&&parseInt(a.browser.version)<9)){}}b._currentExpandedItem=this;if(b.expandMode==="single"){a(this).jqxExpander("toggleMode","none")}if(b.animationType!=="none"){}}b._raiseEvent(0,b._getItemIndex(this,b._expandersList))});this.addHandler(a(window),"load",function(d){if(b.sizeMode==="maxItemHeight"){b._refreshNavigationBar()}})},_getItemIndex:function(c,d){for(var b=0;b<d.length;b++){if(d[b]===c||d[b][0]===c){return b}}return -1},_validateProperties:function(){try{if((parseInt(this.width)<=0||parseInt(this.height)<=0)&&(this.width!=="auto"&&this.height!=="auto"||this.width!==undefined&&this.height!==undefined)){throw this._invalidArgumentExceptions.invalidNavigationBarSize}if(this.animationType!=="slide"&&this.animationType!=="none"&&this.animationType!=="fade"){throw this._invalidArgumentExceptions.invalidAnimationType}if(this.expandMode!=="single"&&this.expandMode!=="multiple"&&this.expandMode!=="none"&&this.expandMode!=="toggle"){throw this._invalidArgumentExceptions.invalidExpandMode}if(this.expandedIndexes.length>this._expandersList.length){throw this._invalidArgumentExceptions.invalidExpandedIndexesLength}if(this.expandedIndex>(this._expandersList.length-1)){throw this._invalidArgumentExceptions.invalidExpandedIndex}if(this.sizeMode!=="auto"&&this.sizeMode!=="fitAvailableHeight"&&this.sizeMode!=="maxItemHeight"){throw this._invalidArgumentExceptions.invalidSizeMode}if(this.expandMode==="multiple"&&this.sizeMode==="fitAvailableHeight"){throw this._invalidArgumentExceptions.invalidModeException}}catch(b){alert(b)}},_render:function(e,c){this._maxHeight=0;for(var d=0;d<e.length;d++){var h=a(e[d]).addClass(this.toThemeProperty("jqx-expander-header"));var f=a(c[d]).addClass(this.toThemeProperty("jqx-expander-content"));h.addClass(this.toThemeProperty("jqx-widget-header"));f.addClass(this.toThemeProperty("jqx-widget-content"));var b=a('<div class="'+this.toThemeProperty("jqx-expander")+'"></div>');b.append(h);b.append(f);this.host.append(b);this._expandersList[d]=this._createExpanderByNavigationBarExpandMode(d,b);var g=parseInt(a(this._expandersList[d]).children(".jqx-expander-contentWrapper",true).children(this.toThemeProperty(".jqx-expander-content",true)).outerHeight());if(this._maxHeight<g){this._maxHeight=g}this._addEventHandlers(this._expandersList[d])}},_performLayout:function(){var d=0;for(var b=0;b<this._expandersList.length;b++){d+=this._expandersList[b].children(this.toThemeProperty(".jqx-expander-header",true)).outerHeight()}switch(this.sizeMode){case"auto":break;case"fitAvailableHeight":for(var c=0;c<this._expandersList.length;c++){var f=0;f+=parseInt(this._expandersList[0].children(this.toThemeProperty(".jqx-expander-header",true)).css("border-top-width"))+parseInt(this._expandersList[this._expandersList.length-1].children(".jqx-expander-contentWrapper").children(this.toThemeProperty(".jqx-expander-content",true)).css("border-bottom-width"));var e=parseInt(this.height)-d;a(this._expandersList[c]).jqxExpander("setContentHeight",e)}break;case"maxItemHeight":for(var c=0;c<this._expandersList.length;c++){a(this._expandersList[c]).jqxExpander("setContentHeight",this._maxHeight)}break}this._performHostLayout(d)},_performHostLayout:function(d){if(this.width){this.host.width(this.width)}for(var c=0;c<this._expandersList.length;c++){if(!this._expandedIndexes[c]){a(this._expandersList[c]).jqxExpander("expanded",false)}else{a(this._expandersList[c]).jqxExpander("expanded",true)}}if((this.sizeMode==="maxItemHeight")&&(this.expandMode==="single")){var b=parseInt(this._expandersList[this._expandersList.length-1].children(".jqx-expander-contentWrapper",true).children(this.toThemeProperty(".jqx-expander-content",true)).css("border-bottom-width"));this.host.height(d+this._maxHeight+b+"px")}else{if((this.sizeMode==="fitAvailableHeight")&&(this.expandMode==="toggle"||this.expandMode==="single")){this.host.height(parseInt(this.height))}else{this.host.height("auto")}}},_fixView:function(){for(var b=0;b<this._expandersList.length;b++){this._expandersList[b].css("position","relative");var d=this._expandersList[b].children("."+this.toThemeProperty("jqx-expander-header",true));var c=this._expandersList[b].children("."+this.toThemeProperty("jqx-expander-contentWrapper",true));if(b>0){d.css("margin-top","-1px")}c.css("border-left-width","0px");c.css("border-right-width","0px");c.css("border-top-width","0px");c.css("border-bottom-width","0px");c.children().css("border-top-width","0px");if(b!==0&&b!==(this._expandersList.length-1)){this._removeRoundedCorners(this._expandersList[b],true,true)}if(b===0){this._removeRoundedCorners(this._expandersList[b],false,true)}if(b===(this._expandersList.length-1)){this._removeRoundedCorners(this._expandersList[b],true,false)}}},_createExpander:function(b,c){var d=a(b).jqxExpander({expanded:true,width:this.width,arrowPosition:this.arrowPosition,expandAnimationDuration:this.expandAnimationDuration,collapseAnimationDuration:this.collapseAnimationDuration,disabled:this.disabled,animationType:this.animationType,showArrow:this.showArrow,toggleMode:c,theme:this.theme});return d},_createExpanderByNavigationBarExpandMode:function(c,b){var d=this;var e;switch(this.expandMode){case"single":e=this._singleExpandModeCreateExpander(c,b);break;case"multiple":e=this._multipleExpandModeCreateExpander(c,b);break;case"toggle":e=this._toggleExpandModeCreateExpander(c,b);break;case"none":e=this._noneExpandModeCreateExpander(c,b);break}return e},_disableItems:function(){for(var b=0;b<this._expandersList.length;b++){this._toggleModesBackup[b]=a(this._expandersList[b]).jqxExpander("toggleMode");a(this._expandersList[b]).jqxExpander("toggleMode","none")}},_enableItems:function(){for(var b=0;b<this._expandersList.length;b++){a(this._expandersList[b]).jqxExpander("toggleMode",this._toggleModesBackup[b])}},_isValidIndex:function(b){return(b<this._expandersList.length)},_toggleExpandModeCreateExpander:function(c,b){var d;if(this.expandedIndex===c){d=this._createExpander(b,this.toggleMode,true);this._expandedIndexes[c]=true;this._currentExpandedItem=d}else{d=this._createExpander(b,this.toggleMode,false);this._expandedIndexes[c]=false}return d},_singleExpandModeCreateExpander:function(c,b){var d;if((this.expandedIndex===-1&&c===0)||this.expandedIndex===c){d=this._createExpander(b,this.toggleMode,true);this._expandedIndexes[c]=true;this._currentExpandedItem=d}else{d=this._createExpander(b,this.toggleMode,false);this._expandedIndexes[c]=false}return d},_multipleExpandModeCreateExpander:function(c,b){var d;if(this._expandedIndexes[c]){d=this._createExpander(b,this.toggleMode,this._expandedIndexes[c]);this._expandedIndexes[c]=true}else{d=this._createExpander(b,this.toggleMode,this._expandedIndexes[c]);this._expandedIndexes[c]=false}return d},_noneExpandModeCreateExpander:function(c,b){var d;if(this._expandedIndexes[c]){d=this._createExpander(b,this.toggleMode,this._expandedIndexes[c]);this._expandedIndexes[c]=true}else{d=this._createExpander(b,this.toggleMode,this._expandedIndexes[c]);this._expandedIndexes[c]=false}return d},_removeRoundedCorners:function(f,d,b){if(d){var e=a(f).children(this.toThemeProperty(".jqx-expander-header",true));e.css("-moz-border-radius","0px");f.css("-moz-border-radius-topleft","0px");f.css("-moz-border-radius-topright","0px");e.css("border-radius","0px");f.css("border-top-left-radius","0px");f.css("border-top-right-radius","0px")}if(b){var c=a(f).children(".jqx-expander-contentWrapper").children(this.toThemeProperty(".jqx-expander-content",true));c.css("-moz-border-radius","0px");f.css("-moz-border-radius-topleft","0px");f.css("-moz-border-radius-topright","0px");c.css("border-radius","0px");f.css("border-bottom-left-radius","0px");f.css("border-bottom-right-radius","0px")}},collapseAt:function(b){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("collapse");this._expandedIndexes[b]=false;this.expandedIndexes.splice(b,1);if(this.expandedIndex==b){this.expandedIndex=-1}}},expandAt:function(b){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("expand");this._expandedIndexes[b]=true;this.expandedIndex=b}},getItemStates:function(){return this._expandedIndexes},disableAt:function(b){if(this._isValidIndex(b)){if(!a(this._expandersList[b]).jqxExpander("disabled")){a(this._expandersList[b]).jqxExpander("disabled",true)}}},enableAt:function(b){if(this._isValidIndex(b)){if(a(this._expandersList[b]).jqxExpander("disabled")){a(this._expandersList[b]).jqxExpander("disabled",false)}}},setContentAt:function(b,c){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("setContent",c)}},setHeaderContentAt:function(b,c){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("setHeaderContent",c)}},getHeaderContentAt:function(b){if(this._isValidIndex(b)){return a(this._expandersList[b]).jqxExpander("getHeaderContent")}return null},getContentAt:function(b){if(this._isValidIndex(b)){return a(this._expandersList[b]).jqxExpander("getContent")}return null},lockAt:function(b){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("toggleMode","none")}},unlockAt:function(b){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("toggleMode",this.toggleMode)}},showArrowAt:function(b){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("showArrow",true)}},hideArrowAt:function(b){if(this._isValidIndex(b)){a(this._expandersList[b]).jqxExpander("showArrow",false)}},disable:function(){for(var b=0;b<this._expandersList.length;b++){this.disableAt(b)}},enable:function(){for(var b=0;b<this._expandersList.length;b++){this.enableAt(b)}},destroy:function(){this.host.removeClass()},_raiseEvent:function(f,d){if(d==undefined){d=-1}var c=this._events[f];var e=a.Event(c);e.owner=d;e.item=d;var b=this.host.trigger(e);return b},_getHeaders:function(){var c=[];for(var b=0;b<this._expandersList.length;b++){c[b]=a('<div class="'+this.toThemeProperty("jqx-expander-header")+'" />').append(a(this._expandersList[b]).jqxExpander("getHeaderContent"))}return c},_getContents:function(){var b=[];for(var c=0;c<this._expandersList.length;c++){b[c]=a('<div class="'+this.toThemeProperty("jqx-expander-content")+'" />').append(a(this._expandersList[c]).jqxExpander("getContent"))}return b},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}this._validateProperties();if(c==="arrowPosition"){a.each(b._expandersList,function(){this.jqxExpander({arrowPosition:d})})}else{if(c==="expandAnimationDuration"){a.each(b._expandersList,function(){this.jqxExpander({expandAnimationDuration:d})})}else{if(c==="collapseAnimationDuration"){a.each(b._expandersList,function(){this.jqxExpander({collapseAnimationDuration:d})})}else{if(c==="showArrow"){a.each(b._expandersList,function(){this.jqxExpander({showArrow:d})})}else{if(c==="toggleMode"){a.each(b._expandersList,function(){this.jqxExpander({toggleMode:d})})}else{if(c==="theme"){a.each(b._expandersList,function(){this.jqxExpander({theme:d})})}else{if(c==="animationType"){a.each(b._expandersList,function(){this.jqxExpander({animationType:d})})}else{if(c==="disabled"){a.each(b._expandersList,function(){this.jqxExpander({disabled:d})})}else{if(c==="expandedIndexes"){a.each(b.expandedIndexes,function(){if(d){b.expandAt(this)}else{b.collapseAt(this)}})}else{if(c==="disabled"){if(d){this.disable()}else{this.enable()}}else{this._updateExpandedIndexes(this.headersList.length);this._refreshNavigationBar()}}}}}}}}}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxNumberInput","",{});a.jqx.textInput={};a.extend(a.jqx.textInput,{addHandler:function(b){a(b).data("lastValue",a(b).val());a(b).bind("keyup.textchange",a.jqx.textInput.handler);a(b).bind("cut.textchange paste.textchange input.textchange",a.jqx.textInput.delayedHandler)},removeHandler:function(b){a(b).unbind(".textchange")},handler:function(b){a.jqx.textInput.triggerIfChanged(a(this))},delayedHandler:function(c){var b=a(this);setTimeout(function(){a.jqx.textInput.triggerIfChanged(b)},25)},triggerIfChanged:function(d){var e=d.val();var c=d.data("lastValue");if(e!==d.data("lastValue")){d.trigger("textchange",[d.data("lastValue")]);var b=false;if(d.val()===""&&d.val()!=c){b=true;d.data("emptyValue",true)}else{b=false;d.data("emptyValue",false)}d.trigger("showPlaceHolder",b);d.data("lastValue",e)}}});a.extend(a.jqx._jqxNumberInput.prototype,{defineInstance:function(){this.value=null;this.decimal=0;this.min=0;this.max=99999999;this.width=null;this.validationMessage="Invalid value";this.height=50;this.textAlign="right";this.readOnly=false;this.promptChar="_";this.decimalDigits=2;this.decimalSeparator=".";this.groupSeparator=",";this.groupSize=3;this.symbol="";this.symbolPosition="left";this.digits=8;this.negative=false;this.negativeSymbol="-";this.disabled=false;this.inputMode="advanced";this.spinButtons=false;this.spinButtonsWidth=18;this.spinButtonsStep=1;this.spinMode="advanced";this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress",];this.invalidArgumentExceptions=["invalid argument exception"]},createInstance:function(g){this.host.attr({role:"numberInput"});this.tooltip=null;this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));if(this.spinButtons){this._spinButtons()}else{this.numberInput=a("<input autocomplete='off' type='textarea'/>").appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))}var f=a.data(this.host[0],"jqxNumberInput");f.jqxNumberInput=this;var h=this;this.addHandler(this.host,"loadContent",function(q){h._render()});if(this.host.parents("form").length>0){this.host.parents("form").bind("reset",function(){setTimeout(function(){h.setDecimal(0)},10)})}if(this.host.jqxTooltip){var l=this.host.append(a("<div></div>"));var b=l.jqxTooltip();this.tooltip=a.data(b[0],"jqxTooltip").instance;this.tooltip.disabled=true}this.propertyChangeMap.disabled=function(q,s,r,u){if(o.disabled){o.numberInput.addClass(o.toThemeProperty("jqx-input-disabled"));o.numberInput.attr("disabled",true)}else{o.host.removeClass(o.toThemeProperty("jqx-input-disabled"));o.numberInput.attr("disabled",false)}if(o.spinButtons&&o.host.jqxRepeatButton){o.upbutton.jqxRepeatButton({disabled:o.disabled});o.downbutton.jqxRepeatButton({disabled:o.disabled})}};if(this.disabled){this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled"));this.numberInput.attr("disabled",true);this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.selectedText="";this.decimalSeparatorPosition=-1;var c=this.element.id;var d=this.element;var o=this;this.oldValue=this._value();this.items=new Array();var n=this.value;var e=this.decimal;this._initializeLiterals();this._render();this.setDecimal(e);var h=this;setTimeout(function(){h._render()},100);if(a.jqx.mobile.isChromeMobileBrowser()){this.addHandler(this.numberInput,"input",function(q){window.setTimeout(function(){var s=h._selection();if(s.start<h.numberInput.val().length){h._setSelectionStart(s.start+1)}else{var r=h.numberInput.val();h.numberInput.val(r+"0");h._setSelectionStart(s.start+1)}h._handleBackspace()},10);return false})}this._addHandlers()},refresh:function(b){if(!b){this._render()}},wheel:function(d,c){var e=0;if(!d){d=window.event}if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(d.preventDefault){d.preventDefault()}if(d.originalEvent!=null){d.originalEvent.mouseHandled=true}if(d.stopPropagation!=undefined){d.stopPropagation()}if(b){b=false;d.returnValue=b;return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},_handleDelta:function(b){if(b<0){this.spinDown()}else{this.spinUp()}return true},_addHandlers:function(){var b=this;this.addHandler(this.numberInput,"mousedown",function(e){return b._raiseEvent(2,e)});this._mousewheelfunc=this._mousewheelfunc||function(e){if(!b.editcell){b.wheel(e,b);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d=a.jqx.mobile.isOperaMiniMobileBrowser();if(d){this.inputMode="simple";var c=a.jqx.mobile.isOperaMiniBrowser();if(c){b.numberInput.attr("readonly",true)}this.addHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}this.addHandler(this.numberInput,"focus",function(e){if(b.inputMode=="simple"){}a.data(b.numberInput,"selectionstart",b._selection().start);b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.numberInput,"blur",function(e){if(b.inputMode=="simple"){b._exitSimpleInputMode(e,b,false)}b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.numberInput,"mouseup",function(e){return b._raiseEvent(3,e)});this.addHandler(this.numberInput,"keydown",function(e){return b._raiseEvent(4,e)});this.addHandler(this.numberInput,"keyup",function(e){return b._raiseEvent(5,e)});this.addHandler(this.numberInput,"keypress",function(e){return b._raiseEvent(6,e)})},_removeHandlers:function(){var b=this;this.removeHandler(this.numberInput,"mousedown");var c=a.jqx.mobile.isOperaMiniMobileBrowser();if(c){this.removeHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}this.removeHandler(this.numberInput,"focus");this.removeHandler(this.numberInput,"blur");this.removeHandler(this.numberInput,"mouseup");this.removeHandler(this.numberInput,"keydown");this.removeHandler(this.numberInput,"keyup");this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(this.host.jqxRepeatButton){this.numberInput=a("<input autocomplete='off' style='float: left;' type='textarea'/>");this.numberInput.appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"));this.spincontainer=a('<div style="float: left; height: 100%; overflow: hidden; position: relative;"></div>');this.host.append(this.spincontainer);this.upbutton=a('<div style="padding: 0px; margin-left: -1px; position: relative;"><div style="width: 100%; height: 100%;"></div></div>');this.spincontainer.append(this.upbutton);this.upbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"top-right"});this.downbutton=a('<div style="padding: 0px; margin-left: -1px; position: relative;"><div style="width: 100%; height: 100%;"></div></div>');this.spincontainer.append(this.downbutton);this.downbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"bottom-right"});var b=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.addHandler(this.downbutton,"mouseup",function(c){if(!b.disabled){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-selected"))}});this.addHandler(this.upbutton,"mouseup",function(c){if(!b.disabled){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-selected"))}});this.addHandler(this.downbutton,"mousedown",function(c){if(!b.disabled){b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed"));b._downArrow.addClass(b.toThemeProperty("icon-arrow-down-selected"));return false}});this.addHandler(this.upbutton,"mousedown",function(c){if(!b.disabled){b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed"));b._upArrow.addClass(b.toThemeProperty("icon-arrow-up-selected"));return false}});this.upbutton.hover(function(){if(!b.disabled){b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-hover"))});this.downbutton.hover(function(){if(!b.disabled){b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-hover"))}},function(){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover"));b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"))});this.upbutton.css("border-width","0px");this.downbutton.css("border-width","0px");if(this.disabled){this.upbutton[0].disabled=true;this.downbutton[0].disabled=true}else{this.upbutton[0].disabled=false;this.downbutton[0].disabled=false}this.spincontainer.addClass(this.toThemeProperty("jqx-input"));this.spincontainer.css("border-width","0px");this.spincontainer.css("border-left-width","1px");this._upArrow=this.upbutton.find("div");this._downArrow=this.downbutton.find("div");this._upArrow.addClass(this.toThemeProperty("icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("icon-arrow-down"));var b=this;this._upArrow.hover(function(){if(!b.disabled){b._upArrow.addClass(b.toThemeProperty("icon-arrow-up-hover"))}},function(){b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-hover"))});this._downArrow.hover(function(){if(!b.disabled){b._downArrow.addClass(b.toThemeProperty("icon-arrow-down-hover"))}},function(){b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"))});this.addHandler(this.downbutton,"click",function(){if(b._selection().start==0){b._setSelectionStart(b.numberInput.val().length)}b.spinDown()});this.addHandler(this.upbutton,"click",function(){if(b._selection().start==0){b._setSelectionStart(b.numberInput.val().length)}b.spinUp()})}},spinDown:function(){var l=this;if(!l.disabled){var n=l.decimal;var o=this._selection();var g=parseFloat(l.decimal);if(l.spinButtonsStep<0){l.spinButtonsStep=1}var c=parseInt(l.decimal)+l.spinButtonsStep;c=c.toString().length;var e=c<=l.digits;if(l.spinMode!="advanced"){if(g>0&&g+l.spinButtonsStep<=l.max&&e){var s=1;for(i=0;i<l.decimalDigits;i++){s=s*10}var d=(s*g)-(s*l.spinButtonsStep);d=d/s;if(d<0){d=0}d=this._parseDecimalValueToEditorValue(d);l._setDecimal(d)}}else{var q=this._getspindecimal();var h=this._getSeparatorPosition();var g=parseFloat(q.decimal);if(l.spinButtonsStep<0){l.spinButtonsStep=1}var c=parseInt(g)+l.spinButtonsStep;c=c.toString().length;var e=c<=l.digits;var s=1;var b=q.decimal.indexOf(".");if(b!=-1){var f=q.decimal.length-b-1;var s=1;for(i=0;i<f;i++){s=s*10}g-=new Number(l.spinButtonsStep/s);if(g<0){g=0}g=g.toFixed(f);var b=g.toString().indexOf(".");if(b==-1){g=g.toString()+"."}var r=g.toString()+q.afterdecimal;r=new Number(r);r=r.toFixed(l.decimalDigits);r=this._parseDecimalValueToEditorValue(r);l._setDecimal(r)}else{if(g>0&&g+l.spinButtonsStep<=l.max&&e){var d=(s*g)-(s*l.spinButtonsStep);d=d/s;var r=d.toString()+q.afterdecimal;if(r<0){r=0}r=this._parseDecimalValueToEditorValue(r);l._setDecimal(r)}}}if(r==undefined||this.inputMode!="simple"){this._setSelectionStart(o.start);return}if(r!=undefined&&(n==undefined||n.toString().length==r.length)){this._setSelectionStart(o.start)}else{this._setSelectionStart(o.start-1)}}},_getspindecimal:function(){var g=this._selection();var l="";var f=this._getSeparatorPosition();var o=this._getVisibleItems();var b=this._getHiddenPrefixCount();var n=this.numberInput.val();if(this.numberInput.val().length==g.start&&g.length==0){this._setSelection(g.start,g.start+1);g=this._selection()}var e=this.inputMode!="advanced";for(i=0;i<g.start;i++){if(e){var h=n.substring(i,i+1);var d=(!isNaN(parseInt(h)));if(d){l+=h}if(h==this.decimalSeparator){l+=h}continue}if(o[i].canEdit&&o[i].character!=this.promptChar){l+=o[i].character}else{if(!o[i].canEdit&&this.decimalSeparatorPosition!=-1&&o[i]==o[this.decimalSeparatorPosition-b]){if(l.length==0){l="0"}l+=o[i].character}}}var c="";for(i=g.start;i<o.length;i++){if(e){var h=n.substring(i,i+1);var d=(!isNaN(parseInt(h)));if(d){c+=h}if(h==this.decimalSeparator){c+=h}continue}if(o[i].canEdit&&o[i].character!=this.promptChar){c+=o[i].character}else{if(!o[i].canEdit&&this.decimalSeparatorPosition!=-1&&o[i]==o[this.decimalSeparatorPosition-b]){c+=o[i].character}}}return{decimal:this._parseDecimalValue(l),afterdecimal:this._parseDecimalValue(c)}},_parseDecimalValue:function(c){if(this.decimalSeparator!="."){var d=c.toString().indexOf(this.decimalSeparator);if(d>=0){var b=c.toString().substring(0,d)+"."+c.toString().substring(d+1);return b}}return c},_parseDecimalValueToEditorValue:function(c){if(this.decimalSeparator!="."){var d=c.toString().indexOf(".");if(d>=0){var b=c.toString().substring(0,d)+this.decimalSeparator+c.toString().substring(d+1);return b}}return c},spinUp:function(){var n=this;if(!n.disabled){var q=this._selection();var o=n.decimal;var h=parseFloat(n.decimal);if(n.spinButtonsStep<0){n.spinButtonsStep=1}var c=parseInt(n.decimal)+n.spinButtonsStep;c=c.toString().length;var f=c<=n.digits;if(n.spinMode!="advanced"){if(h+n.spinButtonsStep<=n.max&&f){var u=1;for(i=0;i<n.decimalDigits;i++){u=u*10}var e=(u*h)+(u*n.spinButtonsStep);e=e/u;e=this._parseDecimalValueToEditorValue(e);n._setDecimal(e)}}else{var r=this._getspindecimal();var l=this._getSeparatorPosition();var h=parseFloat(r.decimal);if(n.spinButtonsStep<0){n.spinButtonsStep=1}var c=parseInt(h)+n.spinButtonsStep;c=c.toString().length;var f=c<=n.digits;var u=1;var b=r.decimal.indexOf(".");if(b!=-1){var g=r.decimal.length-b-1;var u=1;for(i=0;i<g;i++){u=u*10}h+=new Number(n.spinButtonsStep/u);h=h.toFixed(g);var b=h.toString().indexOf(".");if(b==-1){h=h.toString()+"."}var s=h.toString()+r.afterdecimal;s=new Number(s);s=s.toFixed(n.decimalDigits);var d=new Number(s).toFixed(n.decimalDigits);if(d<=n.max){s=this._parseDecimalValueToEditorValue(s);n._setDecimal(s)}else{s=undefined}}else{if(h+n.spinButtonsStep<=n.max&&f){var e=(u*h)+(u*n.spinButtonsStep);e=e/u;var s=e.toString()+r.afterdecimal;var d=new Number(s).toFixed(n.decimalDigits);if(d<=n.max){s=this._parseDecimalValueToEditorValue(s);n._setDecimal(s)}else{s=undefined}}}}if(s==undefined||this.inputMode!="simple"){this._setSelectionStart(q.start);return}if(s!=undefined&&(o==undefined||o.toString().length==s.length)){this._setSelectionStart(q.start)}else{this._setSelectionStart(1+q.start)}}},_exitSimpleInputMode:function(b,n,g){if(n==undefined){n=b.data}if(n==null){return}if(g==undefined){if(b.target!=null&&n.element!=null){if((b.target.id!=undefined&&b.target.id.toString().length>0&&n.host.find("#"+b.target.id).length>0)||b.target==n.element){return}}var e=n.host.offset();var d=e.left;var f=e.top;var c=n.host.width();var l=n.host.height();var o=a(b.target).offset();if(o.left>=d&&o.left<=d+c){if(o.top>=f&&o.top<=f+l){return}}}if(a.jqx.mobile.isOperaMiniBrowser()){n.numberInput.attr("readonly",true)}if(n.disabled||n.readOnly){return}var h=a.data(n.numberInput,"simpleInputMode");if(h==null){return}a.data(n.numberInput,"simpleInputMode",null);this._parseDecimalInSimpleMode();return false},_parseDecimalInSimpleMode:function(){var e=this;var c=e.getvalue("negative");var b=this.ValueString;if(b==undefined){b=this.GetValueString(this.numberInput.val(),this.decimalSeparator,this.decimalSeparator!="")}var f=c?"-":"";if(this.symbolPosition=="left"){f+=this.symbol}var d=this.digits%this.groupSize;if(d==0){d=this.groupSize}var g=b.toString();f+=g;if(this.symbolPosition=="right"){f+=this.symbol}e.numberInput.val(f)},_enterSimpleInputMode:function(f,d){if(d==undefined){d=f.data}var e=this._selection();if(d==null){return}var c=d.getvalue("negative");var b=d.decimal;if(c){if(b>0){b=-b}}d.numberInput.val(b);a.data(d.numberInput,"simpleInputMode",true);if(a.jqx.mobile.isOperaMiniBrowser()){d.numberInput.attr("readonly",false)}this._parseDecimalInSimpleMode();this._setSelectionStart(e.start)},setvalue:function(b,c){if(this[b]!=undefined){if(b=="decimal"){this._setDecimal(c)}else{this[b]=c;this.propertyChangedHandler(this,b,c,c)}}},getvalue:function(b){if(b=="decimal"){if(this.negative!=undefined&&this.negative==true){return -Math.abs(this[b])}}if(b in this){return this[b]}return null},_getString:function(){var b="";for(i=0;i<this.items.length;i++){var c=this.items[i].character;b+=c}return b},_literal:function(d,b,c,e){return{character:d,regex:b,canEdit:c,isSeparator:e}},_initializeLiterals:function(){var f=0;var d=this.negativeSymbol.length;for(i=0;i<d;i++){var e=this.negativeSymbol.substring(i,i+1);var l="";var b=false;var n=null;if(this.negative){n=this._literal(e,l,b,false)}else{n=this._literal("",l,b,false)}this.items[f]=n;f++}var c=this.symbol.length;if(this.symbolPosition=="left"){for(i=0;i<c;i++){var e=this.symbol.substring(i,i+1);var l="";var b=false;var n=this._literal(e,l,b,false);this.items[f]=n;f++}}var g=this.digits%this.groupSize;if(g==0){g=this.groupSize}for(i=0;i<this.digits;i++){var e=this.promptChar;var l="\\d";var b=true;var n=this._literal(e,l,b,false);this.items[f]=n;f++;if(i<this.digits-1&&this.groupSeparator!=undefined&&this.groupSeparator.length>0){g--;if(g==0){g=this.groupSize;var h=this._literal(this.groupSeparator,"",false,false);this.items[f]=h;f++}}else{if(i==this.digits-1){n.character=0}}}this.decimalSeparatorPosition=-1;if(this.decimalDigits!=undefined&&this.decimalDigits>0){var e=this.decimalSeparator;if(e.length==0){e="."}var n=this._literal(e,"",false,true);this.items[f]=n;this.decimalSeparatorPosition=f;f++;for(i=0;i<this.decimalDigits;i++){var q=0;var l="\\d";var o=this._literal(q,l,true,false);this.items[f]=o;f++}}if(this.symbolPosition=="right"){for(i=0;i<c;i++){var e=this.symbol.substring(i,i+1);var l="";var b=false;var n=this._literal(e,l,b);this.items[f]=n;f++}}},_match:function(c,b){var d=new RegExp(b,"i");return d.test(c)},_raiseEvent:function(r,d){var o=this.events[r];var b={};b.owner=this;if(this.host.css("display")=="none"){return true}var z=d.charCode?d.charCode:d.keyCode?d.keyCode:0;var g=true;var l=this.readOnly;var x=this;if(r==3||r==2){if(!this.disabled){if(this.inputMode!="simple"){this._handleMouse(d);if(a.jqx.mobile.isChromeMobileBrowser()){a.data(this.numberInput,"selectionstart",this._selection().start)}}else{return true}}}if(r==0){if(this.tooltip!=null&&this.tooltip!=undefined&&this.validationMessage.length>0){var h=this.getvalue("decimal");if((this.max<h)||(this.min>h)){this.host.addClass(this.toThemeProperty("jqx-input-invalid"));var s=a.data(this.numberInput[0],"Tooltip");if(!this.tooltip.isOpen){this.tooltip.location="relative";this.tooltip.disabled=false;this.tooltip.open(this.numberInput,this.validationMessage);s=a.data(this.numberInput[0],"Tooltip");var f=a.data(this.numberInput[0],"TooltipBounds");s.css({top:parseInt(f.position.top)+parseInt(f.elementHeight)+3,left:parseInt(f.position.left)+parseInt(f.elementWidth)-parseInt(f.width)})}var c=a(s).find(".jqx-tooltip-content",true)[0];if(c!=null){c.className=this.toThemeProperty("jqx-tooltip-content-invalid")}}else{var s=a.data(this.numberInput[0],"Tooltip");if(s!=null){this.tooltip.events.closed=function(){var e=a(s).find(".jqx-tooltip-content-invalid",true)[0];if(e!=null){e.className=this.toThemeProperty("jqx-tooltip-content")}}}this.tooltip.close(this.numberInput[0]);this.host.removeClass(this.toThemeProperty("jqx-input-invalid"));this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.tooltip.disabled=true}}}var u=new jQuery.Event(o);u.owner=this;b.value=this.getvalue("decimal");b.text=this.numberInput.val();u.args=b;g=this.host.trigger(u);var x=this;if(this.inputMode!="simple"){if(r==4){if(l||this.disabled){return false}if(a.jqx.mobile.isChromeMobileBrowser()){var A=x._selection();window.setTimeout(function(){var e=a.data(x.numberInput,"selectionstart");if(e!=null&&e!=A.start){a.data(x.numberInput,"selectionstart",A.start)}g=x._handleKeyDown(d,z)},25)}else{g=x._handleKeyDown(d,z)}}else{if(r==5){if(l||this.disabled){g=false}}else{if(r==6){if(l||this.disabled){return false}g=x._handleKeyPress(d,z)}}}}else{if(r==4||r==5||r==6){if(l||this.disabled){return false}var y=String.fromCharCode(z);var q=parseInt(y);var v=true;if(!d.ctrlKey&&!d.shiftKey){if(z>=65&&z<=90){v=false}}if(r==6&&a.browser.opera!=undefined){if(z==8){return false}}if(v){if(r==4){v=x._handleSimpleKeyDown(d,z)}if(!a.browser.msie){var w=d;if((w.ctrlKey&&z==99)||(w.ctrlKey&&z==67)||(w.ctrlKey&&z==122)||(w.ctrlKey&&z==90)||(w.ctrlKey&&z==118)||(w.ctrlKey&&z==86)||(w.shiftKey&&z==45)){if(r==6&&a.browser.webkit){x._handleSimpleKeyDown(d,z)}return false}}if((d.ctrlKey&&z==97)||(d.ctrlKey&&z==65)){return true}if(r==6&&v){var n=this._isSpecialKey(z);return n}}return v}}return g},GetSelectionInValue:function(h,g,f,e){var c=0;for(i=0;i<g.length;i++){if(i>=h){break}var d=g.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(b||(e&&g[i].toString()==f)){c++}}return c},GetSelectionLengthInValue:function(g,h,f,e){var c=0;for(i=0;i<f.length;i++){if(i>=g+h){break}var d=f.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(h>0&&i>=g&&b||(i>=g&&f[i].toString()==e)){c++}}return c},GetInsertTypeByPositionInValue:function(e,g,h,f){var c="before";var b=this.GetValueString(h,g,f);var d=this.GetDigitsToSeparator(0,b);if(e>d){c="after"}return c},RemoveRange:function(f,e,q,g,w,b){var h=this.digits;var r=f;var x=e;var c=0;var s=this.decimal;var B=this._selection();var q=this.numberInput.val();var g=this.decimalSeparator;var l=g!="";if(x==0&&this.ValueString.length<this.decimalPossibleChars-1){return c}var y=this.GetSeparatorPositionInText(g,q);if(!w){y=this.GetSeparatorPositionInText(".",q)}if(y<0&&!l&&q.length>1){y=q.length}if(y==-1){y=q.length}var d=l?1:0;if(e<2&&b==true){var A=this.ValueString.length-this.decimalDigits-d;if((A)==h&&f+e<y){x++}}var n="";for(i=0;i<q.length;i++){if(i<r||i>=r+x){n+=q.substring(i,i+1);continue}else{if(q[i].toString()==g){n+=g;continue}else{var v=q.substring(i,i+1);if(i>y){n+="0";continue}}}var v=q.substring(i,i+1);var u=(!isNaN(parseInt(v)));if(u){c++}}if(n.length==0){n="0"}if(w){this.numberInput.val(n)}else{this.ValueString=n}var o=n.substring(0,1);if(o==g&&isNaN(parseInt(o))){var z="0"+n;n=z}this.ValueString=this.GetValueString(n,g,l);this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(r);return c},InsertDigit:function(w,C){if(typeof this.digits!="number"){this.digits=parseInt(this.digits)}if(typeof this.decimalDigits!="number"){this.decimalDigits=parseInt(this.decimalDigits)}var l=1+this.digits;var D=this._selection();var q=this.getvalue("negative");var d=false;if(D.start==0&&this.symbol!=""&&this.symbolPosition=="left"){this._setSelectionStart(D.start+1);D=this._selection();d=true}if((q&&d)||(q&&!d&&D.start==0)){this._setSelectionStart(D.start+1);D=this._selection()}var A=this.numberInput.val().substring(D.start,D.start+1);var s=this.numberInput.val();var g=this.decimalSeparator;var n=g!=""&&this.decimalDigits>0;if(A==this.symbol&&this.symbolPosition=="right"){if(this.decimalDigits==0){this.ValueString=this.GetValueString(s,g,n);if(this.ValueString.length>=l){return}}else{return}}this.ValueString=this.GetValueString(s,g,n);var z=this.ValueString;if(this.decimalDigits>0&&C>=z.length){C=z.length-1}var u="";if(C<z.length){u=z.substring(C,C+1)}var h=false;var B=false;var e=this.GetInsertTypeByPositionInValue(C,g,s,n);if(e=="after"){h=true}var b=n?1:0;if(u!="."&&(this.ValueString.length-this.decimalDigits-b)>=l-1){h=true}var v=false;var x=n?1:0;if(!h&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+x){return}if(h&&u!="."){if(v){C++}var r=z.substring(0,C);if(r.length==z.length){if(this.ValueString.length>=this.digits+this.decimalDigits+x){return}}var y=w;var c="";if(C+1<z.length){c=z.substring(C+1)}var o=r+y+c;this.ValueString=o}else{var r=z.substring(0,C);var y=w;var c=z.substring(C);var o=r+y+c;if(z.substring(0,1)=="0"){o=y+z.substring(1);if(u=="."){this._setSelectionStart(D.start-1);D=this._selection()}}this.ValueString=o}if(q){this.decimal=-this.ValueString}else{this.decimal=this.ValueString}this._parseDecimalInSimpleMode();var f=D.start;f+=1;this._setSelectionStart(f);this.value=this.decimal;this._raiseEvent(0,this.value);this._raiseEvent(1,this.numberInput.val())},GetStringToSeparator:function(h,f,e){var d="";var b=f;var g=this.GetSeparatorPositionInText(f,h);var c=h.subString(0,g);d=this.GetValueString(c,f,e);return d},GetSeparatorPositionInText:function(c,d){var b=-1;for(i=0;i<d.length;i++){if(d[i].toString()==c){b=i;break}}return b},GetValueString:function(g,f,e){var c="";for(i=0;i<g.length;i++){var d=g.substring(i,i+1);var b=(!isNaN(parseInt(d)));if(b){c+=d}if(d==f){c+=f}}return c},Backspace:function(){var d=this._selection();var e=this._selection();var f=this.numberInput.val();if(d.start==0&&d.length==0){return}this.isBackSpace=true;var c=f.substring[d.start,d.start+1];var b=(!isNaN(parseInt(c)));if(d.start>0&&d.length==0){this._setSelectionStart(d.start-1);var d=this._selection()}this.Delete();this._setSelectionStart(e.start-1);this.isBackSpace=false},Delete:function(c){var e=this._selection();var g=this.numberInput.val();var f=e.start;var h=e.length;h=Math.max(h,1);this.ValueString=this.GetValueString(g,this.decimalSeparator,this.decimalSeparator!="");this.RemoveRange(e.start,h,this.ValueString,".",false);var d=this.ValueString.substring(0,1);var b=(!isNaN(parseInt(d)));if(!b){this.ValueString="0"+this.ValueString}this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(f);this.value=this.decimal;this._raiseEvent(0,this.value);this._raiseEvent(1,this.numberInput.val())},insertsimple:function(d){var l=this._selection();var n=this.numberInput.val();if(l.start==n.length&&this.decimalDigits>0){return}var b=this.decimal;var g=this.decimalSeparator;this.ValueString=this.GetValueString(n,g,g!="");var h=this.GetSelectionInValue(l.start,n,g,g!="");var e=this.GetSelectionLengthInValue(l.start,l.length,n,g);var f=this.GetDigitsToSeparator(0,this.ValueString);var c=false;if(this.decimalDigits>0&&h>=this.ValueString.length){h--}this.RemoveRange(l.start,e,this.ValueString,g,false,true);this.InsertDigit(d,h,l)},GetDigitsToSeparator:function(c,b){if(b.indexOf(".")<0){return b.length}for(i=0;i<b.length;i++){if(b.substring(i,i+1)=="."){c=i;break}}return c},_handleSimpleKeyDown:function(h,u){var s=this._selection();if(s.start>=0&&s.start<this.items.length){var c=String.fromCharCode(u)}if(u==8){this.Backspace();return false}if(u==190||u==110){var g=this.GetSeparatorPositionInText(".",this.numberInput.val());this._setSelectionStart(g+1);return false}if(u==188){var r=this.numberInput.val();for(f=s.start;f<r.length;f++){if(r[f]==this.groupSeparator){this._setSelectionStart(1+f);break}}return false}if((h.ctrlKey&&u==99)||(h.ctrlKey&&u==67)){var s=this._selection();var v="";var q=this.numberInput.val();if(s.start>0||s.length>0){for(var f=s.start;f<s.end;f++){v+=q.substring(f,f+1)}}if(a.browser.msie){window.clipboardData.setData("Text",v)}this.savedText=v;return false}if((h.ctrlKey&&u==122)||(h.ctrlKey&&u==90)){return false}if((h.ctrlKey&&u==118)||(h.ctrlKey&&u==86)||(h.shiftKey&&u==45)){if(this.savedText!=null&&this.savedText.length>0){for(var f=0;f<this.savedText.length;f++){var n=parseInt(this.savedText.substring(f,f+1));if(!isNaN(n)){this.insertsimple(n)}}}return false}var c=String.fromCharCode(u);var n=parseInt(c);if(u>=96&&u<=105){n=u-96;u=u-48}if(!isNaN(n)){var l=this;this.insertsimple(n);return false}if(u==46){this.Delete();return false}if(u==189||u==45){var b=this.getvalue("negative");if(b==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}this._parseDecimalInSimpleMode();this._setSelectionStart(s.start)}if(u==37||u==39){if(a.jqx.mobile.isChromeMobileBrowser()){var d=u==37?-1:1;a.data(this.numberInput,"selectionstart",this._selection().start+d)}}if(u==38){this.spinUp();return false}else{if(u==40){this.spinDown();return false}}var o=this._isSpecialKey(u);if(!a.browser.mozilla){return true}return o},_getEditRange:function(){var c=0;var b=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){c=i;break}}for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit){b=i;break}}return{start:c,end:b}},_getVisibleItems:function(){var b=new Array();var c=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.toString().length>0){b[c]=this.items[i];c++}}return b},_hasEmptyVisibleItems:function(){var b=this._getVisibleItems();for(i=0;i<b.length;i++){if(b[i].canEdit&&b[i].character==this.promptChar){return true}}return false},_getFirstVisibleNonEmptyIndex:function(){var b=this._getVisibleItems();for(i=0;i<b.length;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){return i}}},_handleMouse:function(f,b){var d=this._selection();if(d.length<=1){var c=this._getFirstVisibleNonEmptyIndex();if(d.start<c){this._setSelectionStart(c)}}},_insertKey:function(n){this.numberInput[0].focus();var d=String.fromCharCode(n);var e=parseInt(d);if(isNaN(e)){return}var r=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.length==0){r++}}var l=this._selection();if(a.jqx.mobile.isChromeMobileBrowser()){var f=a.data(this.numberInput,"selectionstart");if(f!=null){l.start=f;l.end=f}}var b=this;if(l.start>=0&&l.start<=this.items.length){var g=false;var h=this._getFirstVisibleNonEmptyIndex();if(l.start<h&&l.length==0){if(!isNaN(d)||d==" "){this._setSelectionStart(h);l=this._selection()}}var c=this._getFirstEditableItemIndex();var q=this._getLastEditableItemIndex();var o=this._getVisibleItems();a.each(o,function(z,D){if(l.start>z&&z!=o.length-1){return}var G=o[z];if(z>q){G=o[q]}if(isNaN(d)||d==" "){return}if(!G.canEdit){return}var C=b._getSeparatorPosition();if(b._match(d,G.regex)){if(!g&&l.length>0){for(j=l.start+r;j<l.end+r;j++){if(b.items[j].canEdit){if(j>C){b.items[j].character="0"}else{b.items[j].character=b.promptChar}}}var F=b._getString();g=true}var C=b._getSeparatorPosition();var A=b._hasEmptyVisibleItems();if(l.start<=C&&A){var x=z;if(b.decimalSeparatorPosition==-1&&l.start==C){x=z+1}var w="";for(p=0;p<x;p++){if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}}w+=d;var y=b.decimal<1?1:0;if(l.start==C&&b.decimalSeparatorPosition!=-1){w+=b.decimalSeparator;y=0}for(p=x+y;p<o.length;p++){if(o[p].character==b.decimalSeparator&&o[p].isSeparator){w+=o[p].character}else{if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}}}if(b.decimalSeparator!="."){w=b._parseDecimalValue(w)}w=parseFloat(w).toString();w=new Number(w);w=w.toFixed(b.decimalDigits);if(b.decimalSeparator!="."){w=b._parseDecimalValueToEditorValue(w)}b.setvalue("decimal",w);var F=b._getString();if(l.end<C){b._setSelectionStart(l.end+y)}else{b._setSelectionStart(l.end)}if(l.length>=1){b._setSelectionStart(l.end)}if(l.length==b.numberInput.val().length){var s=b._moveCaretToDecimalSeparator();var E=b.decimalSeparatorPosition>=0?1:0;b._setSelectionStart(s-E)}}else{if(l.start<C||l.start>C){if(b.numberInput.val().length==l.start&&b.decimalSeparatorPosition!=-1){return false}else{if(b.numberInput.val().length==l.start&&b.decimalSeparatorPosition==-1&&!A){return false}}var w="";var u=false;for(p=0;p<z;p++){if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}if(o[p].character==b.decimalSeparator&&o[p].isSeparator){w+=o[p].character;u=true}}w+=d;var y=b.decimal<1?1:0;if(!u&&l.start==C-1){w+=b.decimalSeparator;u=true}for(p=z+1;p<o.length;p++){if(!u&&o[p].character==b.decimalSeparator&&o[p].isSeparator){w+=o[p].character}else{if(o[p].canEdit&&o[p].character!=b.promptChar){w+=o[p].character}}}b.setvalue("decimal",w);var F=b._getString();if(b.decimalSeparatorPosition<0&&G==o[q]){b._setSelectionStart(z);return false}var B=F.indexOf(b.symbol);var v=!b.getvalue("negative")?0:1;if(B<=v){B=F.length}if(l.start<B){b._setSelectionStart(z+1)}else{b._setSelectionStart(z)}if(l.length>=1){}if(l.length==b.numberInput.val().length){var s=b._moveCaretToDecimalSeparator();b._setSelectionStart(s-1)}}}return false}})}},_handleKeyPress:function(h,d){var f=this._selection();var b=this;if((h.ctrlKey&&d==97)||(h.ctrlKey&&d==65)){return true}if(d==8){if(f.start>0){b._setSelectionStart(f.start)}return false}if(d==46){if(f.start<this.items.length){b._setSelectionStart(f.start)}return false}if(d==45){var c=this.getvalue("negative");if(c==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}}if(a.browser.msie){this._insertKey(d)}var g=this._isSpecialKey(d);return g},_deleteSelectedText:function(){var d=this._selection();var c="";var f=this._getSeparatorPosition();var b=this._getVisibleItems();var e=this._getHiddenPrefixCount();if(this.numberInput.val().length==d.start&&d.length==0){this._setSelection(d.start,d.start+1);d=this._selection()}for(i=0;i<d.start;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){c+=b[i].character}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}for(i=d.start;i<d.end;i++){if(i>f&&this.decimalSeparatorPosition!=-1){if(b[i].canEdit&&b[i].character!=this.promptChar){c+="0"}}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}for(i=d.end;i<b.length;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){c+=b[i].character}else{if(!b[i].canEdit&&this.decimalSeparatorPosition!=-1&&b[i]==b[this.decimalSeparatorPosition-e]){if(c.length==0){c="0"}c+=b[i].character}}}this.setvalue("decimal",c);return d.length>0},_restoreInitialState:function(){var b=parseInt(this.decimalDigits);if(b>0){b+=2}for(k=this.items.length-1;k>this.items.length-1-b;k--){if(this.items[k].canEdit&&this.items[k].character==this.promptChar){this.items[k].character=0}}},clearDecimal:function(){for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){this.items[i].character=this.promptChar}}this._restoreInitialState()},_saveSelectedText:function(){var c=this._selection();var d="";var b=this._getVisibleItems();if(c.start>0||c.length>0){for(i=c.start;i<c.end;i++){if(b[i].canEdit&&b[i].character!=this.promptChar){d+=b[i].character}else{if(b[i].isSeparator){d+=b[i].character}}}}if(a.browser.msie){window.clipboardData.setData("Text",d)}return d},_pasteSelectedText:function(){var f=this._selection();var l="";var e=0;var d=window.clipboardData.getData("Text");if(d!=this.selectedText&&d.length>0){this.selectedText=window.clipboardData.getData("Text");if(this.selectedText==null||this.selectedText==undefined){return}}var c=f.start;var b=this._getVisibleItems();for(t=0;t<this.selectedText.length;t++){var g=parseInt(this.selectedText[t]);if(!isNaN(g)){var h=48+g;this._insertKey(h)}}},_getHiddenPrefixCount:function(){var b=0;if(!this.negative){b++}if(this.symbolPosition=="left"){for(i=0;i<this.symbol.length;i++){if(this.symbol.substring(i,i+1)==""){b++}}}return b},_getEditableItem:function(){var b=this._selection();for(i=0;i<this.items.length;i++){if(i<b.start){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return this.items[i]}}}return null},_getEditableItems:function(){var c=new Array();var b=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){c[b]=this.items[i];b++}}return c},_getValidSelectionStart:function(b){for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return i}}return -1},_getEditableItemIndex:function(c){var e=this._selection();var f=this._getHiddenPrefixCount();var b=this._getVisibleItems();var d=e.start;var g=-1;for(i=0;i<d;i++){if(i<b.length&&b[i].canEdit){g=i+f}}if(g==-1&&e.length>0){d=e.end;for(i=0;i<d;i++){if(i<b.length&&b[i].canEdit){g=i+f;break}}}return g},_getEditableItemByIndex:function(b){for(k=0;k<this.items.length;k++){if(k>b){if(this.items[k].canEdit&&this.items[k].character!=this.promptChar){return k}}}return -1},_getFirstEditableItemIndex:function(){var b=this._getVisibleItems();for(m=0;m<b.length;m++){if(b[m].character!=this.promptChar&&b[m].canEdit&&b[m].character!="0"){return m}}return -1},_getLastEditableItemIndex:function(){var b=this._getVisibleItems();for(m=b.length-1;m>=0;m--){if(b[m].character!=this.promptChar&&b[m].canEdit){return m}}return -1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--){if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator){if(!this.negative){this._setSelectionStart(i);return i}else{this._setSelectionStart(i+1);return i}break}}return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection();var f=this._getHiddenPrefixCount();var b=this._getEditableItemIndex()-f;if(b>=0){if(e.length==0&&b!=-1){this._setSelection(b,b+1)}var g=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;if(g){e=this._selection()}var d=this._deleteSelectedText();if(e.length<1||g){this._setSelectionStart(e.start)}else{if(e.length>=1){this._setSelectionStart(e.end)}}if(e.length==this.numberInput.val().length){var c=this._moveCaretToDecimalSeparator();this._setSelectionStart(c-1)}}else{this._setSelectionStart(e.start)}},_handleKeyDown:function(d,o){var n=this._selection();if((d.ctrlKey&&o==97)||(d.ctrlKey&&o==65)){return true}if((d.ctrlKey&&o==120)||(d.ctrlKey&&o==88)){this.selectedText=this._saveSelectedText(d);this._handleBackspace();return false}if((d.ctrlKey&&o==99)||(d.ctrlKey&&o==67)){this.selectedText=this._saveSelectedText(d);return false}if((d.ctrlKey&&o==122)||(d.ctrlKey&&o==90)){return false}if((d.ctrlKey&&o==118)||(d.ctrlKey&&o==86)||(d.shiftKey&&o==45)){this._pasteSelectedText();return false}if(n.start>=0&&n.start<this.items.length){var b=String.fromCharCode(o);var r=this.items[n.start]}if(o==8){this._handleBackspace();return false}if(o==190||o==110){this._moveCaretToDecimalSeparator();return false}if(o==188){var l=this.numberInput.val();for(i=n.start;i<l.length;i++){if(l[i]==this.groupSeparator){this._setSelectionStart(1+i);break}}return false}if(a.browser.msie==null){var b=String.fromCharCode(o);var g=parseInt(b);if(o>=96&&o<=105){g=o-96;o=o-48}if(!isNaN(g)){var f=this;f._insertKey(o);return false}}if(o==46){var q=this._getVisibleItems();if(n.start<q.length){var c=q[n.start].canEdit==false?2:1;if(n.length==0){this._setSelection(n.start+c,n.start+c+n.length)}this._handleBackspace();if(new Number(this.decimal)<1||n.start>this._getSeparatorPosition()){this._setSelectionStart(n.end+c)}else{if(n.start+1<this.decimalSeparatorPosition){this._setSelectionStart(n.end+c)}}}return false}if(o==37||o==39){if(a.jqx.mobile.isChromeMobileBrowser()){var c=o==37?-1:1;a.data(this.numberInput,"selectionstart",this._selection().start+c)}}if(o==38){this.spinUp();return false}else{if(o==40){this.spinDown();return false}}var h=this._isSpecialKey(o);if(!a.browser.mozilla){return true}return h},_isSpecialKey:function(b){if(b!=8&&b!=9&&b!=13&&b!=35&&b!=36&&b!=37&&b!=39&&b!=27&&b!=46){return false}return true},_selection:function(){if("selectionStart" in this.numberInput[0]){var f=this.numberInput[0];var g=f.selectionEnd-f.selectionStart;return{start:f.selectionStart,end:f.selectionEnd,length:g,text:f.value}}else{var c=document.selection.createRange();if(c==null){return{start:0,end:f.value.length,length:0}}var b=this.numberInput[0].createTextRange();var d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);var g=c.text.length;return{start:d.text.length,end:d.text.length+c.text.length,length:g,text:c.text}}},_setSelection:function(d,b){if("selectionStart" in this.numberInput[0]){this.numberInput[0].focus();this.numberInput[0].setSelectionRange(d,b)}else{var c=this.numberInput[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",d);c.select()}},_setSelectionStart:function(b){this._setSelection(b,b);a.data(this.numberInput,"selectionstart",b)},_render:function(){var c=parseInt(this.host.css("border-left-width"));var g=parseInt(this.host.css("border-left-width"));var f=parseInt(this.host.css("border-left-width"));var d=parseInt(this.host.css("border-left-width"));var l=parseInt(this.host.css("height"))-f-d;var e=parseInt(this.host.css("width"))-c-g;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){e=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){e=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){l=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){l=this.height}}e=parseInt(e);l=parseInt(l);this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0});this.numberInput.css("text-align",this.textAlign);var n=this.numberInput.css("font-size");if(!isNaN(l)){this.numberInput.css("height",parseInt(n)+4+"px")}if(!isNaN(e)){this.numberInput.css("width",e-2)}var h=l-2*f-2*d-parseInt(n);if(isNaN(h)){h=0}if(!isNaN(l)){this.host.height(l)}if(!isNaN(e)){this.host.width(e)}if(this.spinButtons){e-=parseInt(this.spinButtonsWidth-2);this.spincontainer.width(this.spinButtonsWidth);this.upbutton.width(this.spinButtonsWidth+2);this.downbutton.width(this.spinButtonsWidth+2);this.upbutton.height(Math.round(l/2));this.downbutton.height(Math.round(l/2));this.spincontainer.width(this.spinButtonsWidth);this.numberInput.css("width",e-5);this.numberInput.css("margin-right","2px")}var b=h/2;if(a.browser.msie&&a.browser.version<8){b=h/4}this.numberInput.css("padding-left","0px");this.numberInput.css("padding-right","0px");this.numberInput.css("padding-top",b);this.numberInput.css("padding-bottom",h/2);this.numberInput.val(this._getString());if(this.inputMode!="advanced"){this._parseDecimalInSimpleMode()}},destroy:function(){this._removeHandlers();this.host.remove()},inputValue:function(b){if(b===undefined){return this._value()}this.propertyChangedHandler(this,"value",this._value,b);this._refreshValue();return this},_value:function(){var b=this.numberInput.val();return b},val:function(b){if(b!=undefined&&typeof b!="object"){this.setDecimal(b)}else{return this.getDecimal()}},getDecimal:function(){if(this.inputMode=="simple"){this._parseDecimalInSimpleMode()}var b=this.getvalue("negative");if(b&&this.decimal>0){return -this.decimal}return this.decimal},setDecimal:function(b){if(b<0){this.setvalue("negative",true)}else{this.setvalue("negative",false)}this._setDecimal(Math.abs(b))},_setDecimal:function(l){if(l==null||l==undefined){l=0}if(l.toString().indexOf("e")!=-1){l=0}this.clearDecimal();var n=l.toString();var o="";var b="";var c=true;if(n.length==0){n="0"}for(var e=0;e<n.length;e++){if(n.substring(e,e+1)==this.decimalSeparator){c=false;continue}if(c){o+=n.substring(e,e+1)}else{b+=n.substring(e,e+1)}}if(o.length>0){o=parseFloat(o).toString()}var g=this.digits;if(g<o.length){o=o.substr(0,g)}var d=0;var h=this._getSeparatorPosition();var f=this._getHiddenPrefixCount();h=h+f;for(e=h;e>=0;e--){if(e<this.items.length&&this.items[e].canEdit){if(d<o.length){this.items[e].character=o.substring(o.length-d-1,o.length-d);d++}}}d=0;for(e=h;e<this.items.length;e++){if(this.items[e].canEdit){if(d<b.length){this.items[e].character=b.substring(d,d+1);d++}}}this._refreshValue();this.ValueString=new Number(l).toFixed(this.decimalDigits);if(this.inputMode=="simple"){this._parseDecimalInSimpleMode();this._raiseEvent(1,this.ValueString)}},_getSeparatorPosition:function(){var b=this._getHiddenPrefixCount();if(this.decimalSeparatorPosition>0){return this.decimalSeparatorPosition-b}return this.items.length-b},_setTheme:function(){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));if(this.spinButtons){this.downbutton.removeClass();this.upbutton.removeClass();this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this._upArrow.removeClass();this._downArrow.removeClass();this._upArrow.addClass(this.toThemeProperty("icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("icon-arrow-down"))}this.numberInput.removeClass();this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(c,d,g,f){if(d=="digits"||d=="groupSize"||d=="decimalDigits"){if(f<0){throw new Exception(this.invalidArgumentExceptions[0])}}if(d==="theme"){a.jqx.utilities.setTheme(g,f,c.host)}if(d=="digits"){if(f!=g){c.digits=parseInt(f)}}if(d=="decimalDigits"){if(f!=g){c.decimalDigits=parseInt(f)}}if(d=="digits"||d=="symbol"||d=="symbolPosition"||d=="groupSize"||d=="groupSeparator"||d=="decimalDigits"||d=="negativeSymbol"){var b=c.decimal;if(g!=f){var e=c._selection();c.items=new Array();c._initializeLiterals();c.value=c._getString();c._refreshValue();c._setSelection(e.start,e.end);c._setDecimal(b)}}if(d=="spinButtons"){if(!f){c.spincontainer.css("display","none")}else{c.spincontainer.css("display","block")}c._render()}if(d=="negative"&&c.inputMode=="advanced"){var e=c._selection();var h=0;if(f){c.items[0].character=c.negativeSymbol[0];h=1}else{c.items[0].character="";h=-1}c._refreshValue();c._setSelection(e.start+h,e.end+h)}if(d=="decimal"){c.setDecimal(f)}if(d==="value"){c.value=f;c.setDecimal(f);c._raiseEvent(1,f)}if(d=="textAlign"){c.textAlign=f;c._render()}if(d=="disabled"){c.numberInput.attr("disabled",f);if(c.disabled){c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled"))}else{c.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled"))}}if(d=="readOnly"){c.readOnly=f}if(d=="promptChar"){for(i=0;i<c.items.length;i++){if(c.items[i].character==c.promptChar){c.items[i].character=f}}c.promptChar=f}if(d=="width"){c.width=f;c._render()}else{if(d=="height"){c.height=f;c._render()}}},_value:function(){var b=this.value;return b},_refreshValue:function(){var e=this.value;var b=0;this.value=this._getString();e=this.value;var d="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){d+=this.items[i].character}if(i==this.decimalSeparatorPosition){d+="."}}this.decimal=d;var c=false;if(this.oldValue!==e){this.oldValue=e;this._raiseEvent(0,e);c=true}if(this.inputMode!="simple"){this.numberInput.val(e);if(c){this._raiseEvent(1,e)}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxProgressBar","",{});a.extend(a.jqx._jqxProgressBar.prototype,{defineInstance:function(){this.value=0;this.oldValue=null;this.max=100;this.min=0;this.orientation="horizontal";this.width=null;this.height=null;this.showText=false;this.animationDuration=300;this.disabled=false;this.events=["valuechanged","invalidvalue","complete"]},createInstance:function(c){var b=this;this.host.addClass(this.toThemeProperty("jqx-progressbar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}this.valueDiv=a("<div></div>").appendTo(this.element);if(this.orientation=="horizontal"){this.valueDiv.width(0);this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))}else{this.valueDiv.height(0);this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))}this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.feedbackElementHost=a("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host);this.feedbackElement=a("<span class='text'></span>").appendTo(this.feedbackElementHost);this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text"));this.oldValue=this._value();this.refresh();a(window).resize(function(){b.refresh()})},destroy:function(){this.host.removeClass();this.valueDiv.removeClass();this.valueDiv.remove();this.feedbackElement.remove()},_raiseevent:function(g,d,f){if(this.isInitialized!=undefined&&this.isInitialized==true){var c=this.events[g];var e=new jQuery.Event(c);e.previousValue=d;e.currentValue=f;e.owner=this;var b=this.host.trigger(e);return b}},actualValue:function(b){if(b===undefined){return this._value()}a.jqx.setvalueraiseevent(this,"value",b);return this._value()},propertyChangedHandler:function(c,d,b,f){if(!this.isInitialized){return}var e=this;if(d=="min"&&c.value<f){c.value=f}else{if(d=="max"&&c.value>f){c.value=f}}if(d==="value"&&e.value!=undefined){e.value=f;e.oldValue=b;if(f<e.min||f>e.max){e._raiseevent(1,b,f)}e.refresh();if(e._value()===e.max){e._raiseevent(2,b,f)}}if(d=="renderText"||d=="orientation"||d=="showText"||d=="min"||d=="max"){e.refresh()}else{if(d=="width"&&e.width!=undefined){if(e.width!=undefined&&!isNaN(e.width)){e.host.width(e.width);e.refresh()}}else{if(d=="height"&&e.height!=undefined){if(e.height!=undefined&&!isNaN(e.height)){e.host.height(e.height);e.refresh()}}}}},_value:function(){var c=this.value;if(typeof c!=="number"){var b=parseInt(c);if(isNaN(b)){c=0}else{c=b}}return Math.min(this.max,Math.max(this.min,c))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(d){var c=a("<span>"+d+"</span>");a(this.host).append(c);var b=c.width();c.remove();return b},_textheight:function(d){var c=a("<span>"+d+"</span>");a(this.host).append(c);var b=c.height();c.remove();return b},refresh:function(){var i=this.actualValue();var l=this._percentage();if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));a(this.element.children[0]).hide();return}else{this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));a(this.element.children[0]).show()}if(isNaN(i)){return}if(isNaN(l)){return}if(this.oldValue!==i){this._raiseevent(0,this.oldValue,i);this.oldValue=i}var j=this.host.outerHeight();var b=this.host.outerWidth();if(this.width!=null){b=parseInt(this.width)}if(this.height!=null){j=parseInt(this.height)}var c=parseInt(this.host.outerWidth())/2;var f=parseInt(this.host.outerHeight())/2;if(isNaN(l)){l=0}var g=this;try{if(this.orientation=="horizontal"){a(this.element.children[0]).toggle(i>=this.min);a(this.element.children[0]).animate({width:l.toFixed(0)+"%"},this.animationDuration,function(){});this.feedbackElementHost.css("margin-top",-this.host.height())}else{a(this.element.children[0]).toggle(i>=this.min);this.feedbackElementHost.animate({"margin-top":-(l.toFixed(0)*g.host.height())/100},this.animationDuration,function(){});a(this.element.children[0]).animate({height:l.toFixed(0)+"%"},this.animationDuration,function(){})}}catch(e){}this.feedbackElement.html(l.toFixed(0)+"%").toggle(this.showText==true);if(this.renderText){this.feedbackElement.html(this.renderText(l.toFixed(0)+"%"))}this.feedbackElement.css("position","absolute");this.feedbackElement.css("top","50%");this.feedbackElement.css("left","0");var h=this.feedbackElement.height();var d=this.feedbackElement.width();var k=Math.floor(c-(parseInt(d)/2));this.feedbackElement.css({left:(k),"margin-top":-parseInt(h)/2+"px"})}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxRadioButton","",{});a.extend(a.jqx._jqxRadioButton.prototype,{defineInstance:function(){this.animationShowDelay=300,this.animationHideDelay=300,this.width=null;this.height=null;this.boxSize="13px";this.checked=false;this.hasThreeStates=false;this.disabled=false;this.enableContainerClick=true;this.locked=false;this.groupName="";this.events=["checked","unchecked","indeterminate","change"]},createInstance:function(b){this.setSize();var d=this;this.propertyChangeMap.width=function(e,g,f,h){d.setSize()};this.propertyChangeMap.height=function(e,g,f,h){d.setSize()};this.radiobutton=a("<div><div><span></span></div></div>");this.host.attr("tabIndex",0);this.host.prepend(this.radiobutton);this.checkMark=a(this.radiobutton).find("span");this.box=a(this.radiobutton).find("div");this._supportsRC=true;if(a.browser.msie&&a.browser.version<9){this._supportsRC=false}this.box.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.box.addClass(this.toThemeProperty("jqx-radiobutton-default"));this.host.addClass(this.toThemeProperty("jqx-widget"));if(this.disabled){this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled"))}this.host.addClass(this.toThemeProperty("jqx-radiobutton"));if(this.locked){this.host.css("cursor","auto")}var c=this.element.getAttribute("checked");if(c=="checked"||c=="true"||c==true){this.checked=true}this._render();this._addHandlers()},refresh:function(b){if(!b){this.setSize();this._render()}},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}},_addHandlers:function(){var b=this;this.addHandler(this.box,"click",function(c){if(!b.disabled&&!b.enableContainerClick){b.toggle();c.preventDefault();return false}});this.addHandler(this.host,"keydown",function(c){if(!b.disabled&&!b.locked){if(c.keyCode==32){b.toggle();c.preventDefault();return false}}});this.addHandler(this.host,"click",function(c){if(!b.disabled&&b.enableContainerClick){b.toggle();c.preventDefault();return false}});this.addHandler(this.host,"selectstart",function(c){if(!b.disabled&&b.enableContainerClick){c.preventDefault();return false}});this.addHandler(this.host,"mouseup",function(c){if(!b.disabled&&b.enableContainerClick){c.preventDefault();return false}});this.addHandler(this.host,"mousedown",function(c){if(!b.disabled&&b.enableContainerClick){b.host.focus();c.preventDefault();return false}});this.addHandler(this.host,"focus",function(c){if(!b.disabled&&b.enableContainerClick&&!b.locked){b.box.addClass(b.toThemeProperty("jqx-radiobutton-hover"));b.box.addClass(b.toThemeProperty("jqx-fill-state-focus"));c.preventDefault();return false}});this.addHandler(this.host,"blur",function(c){if(!b.disabled&&b.enableContainerClick&&!b.locked){b.box.removeClass(b.toThemeProperty("jqx-radiobutton-hover"));b.box.removeClass(b.toThemeProperty("jqx-fill-state-focus"));c.preventDefault();return false}});this.addHandler(this.host,"mouseenter",function(c){if(!b.disabled&&b.enableContainerClick&&!b.locked){b.box.addClass(b.toThemeProperty("jqx-radiobutton-hover"));b.box.addClass(b.toThemeProperty("jqx-fill-state-hover"));c.preventDefault();return false}});this.addHandler(this.host,"mouseleave",function(c){if(!b.disabled&&b.enableContainerClick&&!b.locked){b.box.removeClass(b.toThemeProperty("jqx-radiobutton-hover"));b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover"));c.preventDefault();return false}});this.addHandler(this.box,"mouseenter",function(){if(!b.disabled&&!b.enableContainerClick){b.box.addClass(b.toThemeProperty("jqx-radiobutton-hover"));b.box.addClass(b.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.box,"mouseleave",function(){if(!b.disabled&&!b.enableContainerClick){b.box.removeClass(b.toThemeProperty("jqx-radiobutton-hover"));b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}})},_removeHandlers:function(){this.removeHandler(this.box,"click");this.removeHandler(this.box,"mouseenter");this.removeHandler(this.box,"mouseleave");this.removeHandler(this.host,"click");this.removeHandler(this.host,"mouseup");this.removeHandler(this.host,"mousedown");this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur")},_render:function(){if(this.boxSize==null){this.boxSize=13}this.box.width(this.boxSize);this.box.height(this.boxSize);if(!this.disabled){if(this.enableContainerClick){this.host.css("cursor","pointer")}else{this.host.css("cursor","auto")}}else{this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled-box"));this.host.addClass(this.toThemeProperty("jqx-radiobutton-disabled"))}this.updateStates()},check:function(){this.checked=true;var b=this;this.checkMark.removeClass();this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(a.browser.msie){if(!this.disabled){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled"))}}else{if(!this.disabled){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled"))}this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}var c=a.find(".jqx-radiobutton");if(this.groupName==null){this.groupName=""}a.each(c,function(){var d=a(this).jqxRadioButton("groupName");if(d==b.groupName&&this!=b.element){a(this).jqxRadioButton("uncheck")}});this._raiseEvent("0");this._raiseEvent("3",{checked:true});if(this.checkMark.height()==0){this.checkMark.height(this.boxSize);this.checkMark.width(this.boxSize)}},uncheck:function(){var c=this.checked;this.checked=false;var b=this;if(a.browser.msie){b.checkMark.removeClass()}else{this.checkMark.css("opacity",1);this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){b.checkMark.removeClass()})}if(c){this._raiseEvent("1");this._raiseEvent("3",{checked:false})}},indeterminate:function(){var b=this.checked;this.checked=null;this.checkMark.removeClass();if(a.browser.msie){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}if(b!=null){this._raiseEvent("2");this._raiseEvent("3",{checked:null})}},toggle:function(){if(this.disabled){return}if(this.locked){return}var b=this.checked;if(this.checked==true){this.checked=this.hasTreeStates?null:true}else{this.checked=true}if(b!=this.checked){this.updateStates()}},updateStates:function(){if(this.checked){this.check()}else{if(this.checked==false){this.uncheck()}else{if(this.checked==null){this.indeterminate()}}}},disable:function(){this.checkMark.removeClass();this.disabled=true;if(this.checked==true){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled"))}else{if(this.checked==null){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled"))}}this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.checkMark.removeClass();this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false},destroy:function(){this._removeHandlers()},_raiseEvent:function(g,e){var c=this.events[g];var f=new jQuery.Event(c);f.owner=this;f.args=e;try{var b=this.host.trigger(f)}catch(d){}return b},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c==this.enableContainerClick&&!this.disabled&&!this.locked){if(d){this.host.css("cursor","pointer")}else{this.host.css("cursor","auto")}}if(c=="checked"){switch(d){case true:this.check();break;case false:this.uncheck();break;case null:this.indeterminate();break}}if(c=="theme"){a.jqx.utilities.setTheme(e,d,this.host)}if(c=="disable"){if(d){this.disable()}else{this.enable()}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxRating","",{});a.extend(a.jqx._jqxRating.prototype,{defineInstance:function(){this.count=5;this.disabled=false;this.value=0;this.height="auto";this.width="auto";this.precision=1;this.singleVote=false;this.itemHeight="20";this.itemWidth="20";this._itemHeight;this._itemWidth;this._images=[];this._events=["change"];this._invalidArgumentExceptions={invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}},createInstance:function(b){this._createRating()},_createRating:function(){this.host.css("display","none");this.host.empty();this._validateProperties();this._render();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this.host.css("display","block")},_render:function(){for(var b=1;b<=this.count;b++){this._images[b-1]=a('<div style="float:left;width:auto;height:auto;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>');this.host.append(this._images[b-1])}},_performLayout:function(){for(var d=1;d<=this.count;d++){var e=this._images[d-1].find(this.toThemeProperty(".jqx-rating-image-backward",true)),h=this._images[d-1].find(this.toThemeProperty(".jqx-rating-image-default",true)),c=this._images[d-1].find(this.toThemeProperty(".jqx-rating-image-hover",true)),b=this._getImageName(h),f=this._getImageName(c),g=this._getImageName(e);h.css("background-image","none");c.css("background-image","none");e.css("background-image","none");this._appendImage(c,f,d-1);this._appendImage(e,g,d-1);this._appendImage(h,b,d-1)}},_setControlSize:function(c,b){this.host.css("height",this.height);this.host.css("width",this.width);if(this.itemHeight&&this.itemHeight!=="auto"){this._itemHeight=parseInt(this.itemHeight)}else{this._itemHeight=b}if(this.itemWidth&&this.itemWidth!=="auto"){this._itemWidth=parseInt(this.itemWidth)}else{this._itemWidth=c}},_appendImage:function(b,d,e){var c=this;var f=a('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+d+'" />');b.append(f);f.load(function(){if(!c._initialized){c._setControlSize(a(this).width(),a(this).height());c._setValue(c.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward");c._initialized=true}c._images[e].height(c._itemHeight);a(this).height(c._itemHeight);c._images[e].width(c._itemWidth);a(this).width(c._itemWidth)});return f},_validateProperties:function(){try{if(this.precision<0.001||this.precision>1){throw this._invalidArgumentExceptions.invalidPrecision}if(this.height!=="auto"&&parseInt(this.height)<0){throw this._invalidArgumentExceptions.invalidHeight}if(this.width!=="auto"&&parseInt(this.width)<0){throw this._invalidArgumentExceptions.invalidWidth}if(this.count<=0){throw this._invalidArgumentExceptions.invalidCount}if(this.value>this.count||this.value<0){throw this._invalidArgumentExceptions.invalidValue}}catch(b){alert(b)}},_getImageIndex:function(c){var b=0;while(c!==this._images[b][0]){b++}return ++b},_getRating:function(h,d){var g=this._getImageIndex(h);if(this.precision<1){var f=parseInt(d)-parseInt(a(h).position().left),c=this._itemWidth*this.precision,e=0;while(e<f){e+=c}if(e>parseInt(this._itemWidth)-c){e=parseInt(this._itemWidth)}var b=e/a(h).width();g-=1-b}return g},_addEventHandlers:function(){var b=this;for(var c=0;c<this.count;c++){if(!a.jqx.mobile.isTouchDevice()){this.addHandler(this._images[c],"mousemove",function(d){var e=b._getRating(this,d.pageX);b._setValue(e,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")});this.addHandler(this._images[c],"mouseenter",function(e){var f=b._getImageIndex(this);for(var d=0;d<f;d++){b._images[d].children(".jqx-rating-hoverWrapper").css("z-index","10");b._images[d].children(".jqx-rating-voteWrapper").css("z-index","1");b._images[d].children(".jqx-rating-hoverWrapper").css("visibility","visible")}});this.addHandler(this._images[c],"mouseleave",function(e){var f=b._getImageIndex(this);for(var d=0;d<f;d++){b._images[d].children(".jqx-rating-voteWrapper").css("z-index","10");b._images[d].children(".jqx-rating-hoverWrapper").css("z-index","1");b._images[d].children(".jqx-rating-hoverWrapper").css("visibility","hidden")}})}this.addHandler(this._images[c],"click",function(d){var e=b._getRating(this,d.pageX);b._raiseEvent(0,e);b._setValue(e,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward");if(b.singleVote){b.disable()}d.stopPropagation()});this.addHandler(this._images[c],"dragstart",function(d){return false})}},_removeEventHandlers:function(){for(var b=0;b<this.count;b++){this.removeHandler(this._images[b],"mousemove");this.removeHandler(this._images[b],"mouseenter");this.removeHandler(this._images[b],"mouseleave");this.removeHandler(this._images[b],"click");this.removeHandler(this._images[b],"dragstart")}},_getImageName:function(c){var b=c.css("background-image");b=b.replace('url("',"");b=b.replace('")',"");b=b.replace("url(","");b=b.replace(")","");return b},_setValue:function(d,k,h,f){for(var e=1;e<=this.count;e++){var j=1,g=this._images[e-1].children(k),c=g.children(h),b=g.children(f);if(e>d){if(Math.abs(e-d)<1){j=1-Math.abs(e-d)}else{j=0}}c.width(this._itemWidth*j);b.width(this._itemWidth-parseInt(c.width()));g.children(this.toThemeProperty(f)).children(0).css("margin-left",-this._itemWidth*j+"px")}},_raiseEvent:function(d,c){var b=new a.Event(this._events[d]);b.owner=this;b.value=c;b.oldvalue=this.value;this.value=c;return this.host.trigger(b)},setValue:function(b){this._setValue(b,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward");this.value=b},getValue:function(){return this.value},disable:function(){this._removeEventHandlers();this.disabled=true},enable:function(){this._removeEventHandlers();this._addEventHandlers();this.disabled=false},propertyChangedHandler:function(b,c,e,d){this._validateProperties();if(c==="disabled"){if(d){this.disable()}else{this.enable()}return}else{if(c==="precision"){this.precision=d;return}else{this._createRating()}}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxSlider","",{});a.extend(a.jqx._jqxSlider.prototype,{defineInstance:function(){this.disabled=false;this.width=300;this.height=30;this.step=1;this.max=10;this.min=0;this.orientation="horizontal";this.showTicks=true;this.ticksPosition="both";this.ticksFrequency=2;this.showButtons=true;this.buttonsPosition="both";this.mode="default";this.showRange=true;this.rangeSlider=false;this.value=0;this.values=[0,10];this.tooltip=true;this.sliderButtonSize=15;this.tickSize=7;this._dimentions={vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",dimention:"top",oDimention:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",dimention:"left",oDimention:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}};this._touchEvents={mousedown:"touchstart",click:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"};this._events=["change","slide","slideEnd","slideStart","created"];this._invalidArgumentExceptions={invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"};this._lastValue=[];this._track=null;this._leftButton=null;this._rightButton=null;this._slider=null;this._rangeBar=null;this._slideEvent=null;this._capturedElement=null;this._slideStarted=false},createInstance:function(b){this.host.addClass(this.toThemeProperty("jqx-slider"));this.host.addClass(this.toThemeProperty("jqx-widget"));this._isTouchDevice=a.jqx.mobile.isTouchDevice();this.host.width(this.width);this.host.height(this.height);this._refresh();this._raiseEvent(4,{value:this.getValue()})},_getDimention:function(b){return this._dimentions[this.orientation][b]},_getEvent:function(b){if(this._isTouchDevice){return this._touchEvents[b]}else{return b}},refresh:function(b){if(!b){this._refresh()}},_refresh:function(){this._render();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initialSettings()},_render:function(){this._addTrack();this._addSliders();this._addTickContainers();this._addContentWrapper();this._addButtons();this._addRangeBar()},_addTrack:function(){if(this._track===null||this._track.length<1){this._track=a('<div class="'+this.toThemeProperty("jqx-slider-track")+'"></div>');this.host.append(this._track)}this._track.attr("style","");this._track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getDimention("opposite")));this._track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation));this._track.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._track.addClass(this.toThemeProperty("jqx-rc-all"))},_addSliders:function(){if(this._slider===null||this._slider.length<1){this._slider={};this._slider.left=a('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>');this._track.append(this._slider.left);this._slider.right=a('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>');this._track.append(this._slider.right)}this._slider.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getDimention("opposite")));this._slider.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation));this._slider.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getDimention("opposite")));this._slider.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation));this._slider.right.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._slider.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){if(this._bottomTicks!==null||this._bottomTicks.length<1||this._topTicks!==null||this._topTicks.length<1){this._addTickContainers()}if(!this.showTicks){this._bottomTicks.css("visibility","hidden");this._topTicks.css("visibility","hidden")}else{this._bottomTicks.css("visibility","visible");this._topTicks.css("visibility","visibility")}},_addTickContainers:function(){if(typeof this._bottomTicks==="undefined"||this._bottomTicks.length<1){this._bottomTicks=a('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>');this.host.prepend(this._bottomTicks)}if(typeof this._topTicks==="undefined"||this._topTicks.length<1){this._topTicks=a('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>');this.host.append(this._topTicks)}},_addButtons:function(){if(this._leftButton===null||this._leftButton.length<1||this._rightButton===null||this._rightButton.length<1){this._createButtons()}if(!this.showButtons||this.rangeSlider){this._rightButton.css("display","none");this._leftButton.css("display","none")}else{this._rightButton.css("display","block");this._leftButton.css("display","block")}},_createButtons:function(){this._leftButton=a('<div class="jqx-slider-left"><div style="width: 100%; height: 100%;"></div></div>');this._rightButton=a('<div class="jqx-slider-right"><div style="width: 100%; height: 100%;"></div></div>');this.host.prepend(this._rightButton);this.host.prepend(this._leftButton);this._leftButton.jqxRepeatButton({theme:this.theme,delay:250,width:this.sliderButtonSize,height:this.sliderButtonSize});this._rightButton.jqxRepeatButton({theme:this.theme,delay:250,width:this.sliderButtonSize,height:this.sliderButtonSize})},_addContentWrapper:function(){if(this._contentWrapper===undefined||this._contentWrapper.length===0){this.host.wrapInner("<div></div>");this._contentWrapper=this.host.children(0)}if(this.orientation==="horizontal"){this._contentWrapper.css("float","left")}else{this._contentWrapper.css("float","none")}},_addTicks:function(b){var g=this.max-this.min,d=b[this._getDimention("size")](),f=Math.round(g/this.ticksFrequency),h=d/f;b.empty();this._addTick(b,0,this.min);for(var c=1;c<f;c++){var e=c*h;e=Math.floor(e);this._addTick(b,e,c)}this._addTick(b,f*h,this.max)},_addTick:function(c,b,f){var d,e=c[this._getDimention("oSize")]();if(this.orientation==="horizontal"){d=a('<div style="float: left; position:absolute; left:'+b+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+'"></div>');this._tickLayout(c,d)}else{d=a('<div style="float: none; position:absolute; top:'+b+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+'"></div>');this._tickLayout(c,d)}d.addClass(this.toThemeProperty("jqx-slider-tick"));d.addClass(this.toThemeProperty("jqx-fill-state-pressed"));c.append(d);d[this._getDimention("oSize")](this.tickSize)},_tickLayout:function(b,c){var d=b[this._getDimention("oSize")]();if(b[0]===this._topTicks[0]){c.css(this._getDimention("oDimention"),"2px")}else{c.css(this._getDimention("oDimention"),d-this.tickSize-2)}},_addRangeBar:function(){if(this._rangeBar===null||this._rangeBar.length<1){this._rangeBar=a('<div class="'+this.toThemeProperty("jqx-slider-rangebar")+'"></div>');this._rangeBar.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._rangeBar.addClass(this.toThemeProperty("jqx-rc-all"));this._track.append(this._rangeBar)}if(!this.showRange){this._rangeBar.css("display","none")}else{this._rangeBar.css("display","block")}},_getLeftDisplacement:function(){if(!this.showButtons){return 0}if(this.rangeSlider){return 0}switch(this.buttonsPosition){case"left":return this._leftButton[this._getDimention("outerSize")](true)+this._rightButton[this._getDimention("outerSize")](true);break;case"right":return 0;break;default:return this._leftButton[this._getDimention("outerSize")](true);break}return 0},_performLayout:function(){this.host.width(this.width);this.host.height(this.height);var b=this.host.height();if(this._getDimention("size")=="width"){b=this.host.width()}this._performButtonsLayout();this._performTrackLayout(b);this._contentWrapper[this._getDimention("size")](this._track[this._getDimention("size")]());this._contentWrapper[this._getDimention("oSize")](this[this._getDimention("oSize")]);this._performTicksLayout();this._performRangeBarLayout();if(this.rangeSlider){this._slider.left.css("visibility","visible")}else{this._slider.left.css("visibility","hidden")}this._refreshRangeBar()},_performTrackLayout:function(b){this._track[this._getDimention("size")](b-((this.showButtons&&!this.rangeSlider)?this._leftButton[this._getDimention("outerSize")](true)+this._rightButton[this._getDimention("outerSize")](true):0));this._slider.left.css("left",0);this._slider.left.css("top",0);this._slider.right.css("left",0);this._slider.right.css("top",0)},_performTicksLayout:function(){this._performTicksContainerLayout();this._addTicks(this._topTicks);this._addTicks(this._bottomTicks);this._topTicks.css("visibility","hidden");this._bottomTicks.css("visibility","hidden");if((this.ticksPosition==="top"||this.ticksPosition==="both")&&this.showTicks){this._bottomTicks.css("visibility","visible")}if((this.ticksPosition==="bottom"||this.ticksPosition==="both")&&this.showTicks){this._topTicks.css("visibility","visible")}},_performTicksContainerLayout:function(){this._topTicks[this._getDimention("size")](this._track[this._getDimention("size")]());this._bottomTicks[this._getDimention("size")](this._track[this._getDimention("size")]());this._topTicks[this._getDimention("oSize")]((this[this._getDimention("oSize")]-this._track[this._getDimention("outerOSize")](true))/2);this._bottomTicks[this._getDimention("oSize")]((this[this._getDimention("oSize")]-this._track[this._getDimention("outerOSize")](true))/2);if(this.orientation==="vertical"){this._topTicks.css("float","left");this._track.css("float","left");this._bottomTicks.css("float","left")}else{this._topTicks.css("float","none");this._track.css("float","none");this._bottomTicks.css("float","none")}},_performButtonsLayout:function(){this._addButtonsStyles();this._addButtonsClasses();this._addButtonsHover();this._orderButtons();this._centerElement(this._rightButton);this._centerElement(this._leftButton);this._layoutButtons()},_addButtonsStyles:function(){this._leftButton.css("background-position","center");this._rightButton.css("background-position","center");if(this.orientation==="vertical"){this._leftButton.css("float","none");this._rightButton.css("float","none")}else{this._leftButton.css("float","left");this._rightButton.css("float","left")}},_addButtonsClasses:function(){var b={prev:"left",next:"right"};if(this.orientation==="vertical"){b={prev:"up",next:"down"}}this._leftButton.addClass(this.toThemeProperty("jqx-rc-all"));this._rightButton.addClass(this.toThemeProperty("jqx-rc-all"));this._leftButton.addClass(this.toThemeProperty("jqx-slider-button"));this._rightButton.addClass(this.toThemeProperty("jqx-slider-button"));this._leftArrow=this._leftButton.find("div");this._rightArrow=this._rightButton.find("div");this._leftArrow.removeClass(this.toThemeProperty("icon-arrow-left"));this._rightArrow.removeClass(this.toThemeProperty("icon-arrow-right"));this._leftArrow.removeClass(this.toThemeProperty("icon-arrow-up"));this._rightArrow.removeClass(this.toThemeProperty("icon-arrow-down"));this._leftArrow.addClass(this.toThemeProperty("icon-arrow-"+b.prev));this._rightArrow.addClass(this.toThemeProperty("icon-arrow-"+b.next))},_addButtonsHover:function(){var c=this,b={prev:"left",next:"right"};if(this.orientation==="vertical"){b={prev:"up",next:"down"}}this.addHandler(a(document),"mouseup.arrow"+this.element.id,function(){c._leftArrow.removeClass(c.toThemeProperty("icon-arrow-"+b.prev+"-selected"));c._rightArrow.removeClass(c.toThemeProperty("icon-arrow-"+b.next+"-selected"))});this.addHandler(this._leftButton,"mousedown",function(){c._leftArrow.addClass(c.toThemeProperty("icon-arrow-"+b.prev+"-selected"))});this.addHandler(this._leftButton,"mouseup",function(){c._leftArrow.removeClass(c.toThemeProperty("icon-arrow-"+b.prev+"-selected"))});this.addHandler(this._rightButton,"mousedown",function(){c._rightArrow.addClass(c.toThemeProperty("icon-arrow-"+b.next+"-selected"))});this.addHandler(this._rightButton,"mouseup",function(){c._rightArrow.removeClass(c.toThemeProperty("icon-arrow-"+b.next+"-selected"))});this._leftButton.hover(function(){c._leftArrow.addClass(c.toThemeProperty("icon-arrow-"+b.prev+"-hover"))},function(){c._leftArrow.removeClass(c.toThemeProperty("icon-arrow-"+b.prev+"-hover"))});this._rightButton.hover(function(){c._rightArrow.addClass(c.toThemeProperty("icon-arrow-"+b.next+"-hover"))},function(){c._rightArrow.removeClass(c.toThemeProperty("icon-arrow-"+b.next+"-hover"))})},_layoutButtons:function(){if(this.orientation==="horizontal"){this._horizontalButtonsLayout()}else{this._verticalButtonsLayout()}},_horizontalButtonsLayout:function(){var b=(1+Math.ceil(this.sliderButtonSize/2));if(this.buttonsPosition=="left"){this._leftButton.css("margin-right","0px");this._rightButton.css("margin-right",b)}else{if(this.buttonsPosition=="right"){this._leftButton.css("margin-left",2+b);this._rightButton.css("margin-right","0px")}else{this._leftButton.css("margin-right",b);this._rightButton.css("margin-left",2+b)}}},_verticalButtonsLayout:function(){var b=(1+Math.ceil(this.sliderButtonSize/2));if(this.buttonsPosition=="left"){this._leftButton.css("margin-bottom","0px");this._rightButton.css("margin-bottom",b)}else{if(this.buttonsPosition=="right"){this._leftButton.css("margin-top",2+b);this._rightButton.css("margin-bottom","0px")}else{this._leftButton.css("margin-bottom",b);this._rightButton.css("margin-top",2+b)}}},_orderButtons:function(){this._rightButton.detach();this._leftButton.detach();switch(this.buttonsPosition){case"left":this.host.prepend(this._rightButton);this.host.prepend(this._leftButton);break;case"right":this.host.append(this._leftButton);this.host.append(this._rightButton);break;case"both":this.host.prepend(this._leftButton);this.host.append(this._rightButton);break}},_performRangeBarLayout:function(){this._rangeBar[this._getDimention("oSize")](this._track[this._getDimention("oSize")]());this._rangeBar[this._getDimention("size")](this._track[this._getDimention("size")]());this._rangeBar.css("position","absolute");this._rangeBar.css("left",0);this._rangeBar.css("top",0)},_centerElement:function(c){var b=(a(c.parent())[this._getDimention("oSize")]()-c[this._getDimention("outerOSize")]())/2;c.css("margin-"+[this._getDimention("dimention")],0);c.css("margin-"+[this._getDimention("oDimention")],b);return c},_raiseEvent:function(d,b){var c=a.Event(this._events[d]);c.args=b;if(d===1){c.args.cancel=false;this._slideEvent=c}this._lastValue[d]=b.value;return this.host.trigger(c)},_initialSettings:function(){if(this.rangeSlider){if(typeof this.value!=="number"){this.setValue(this.value)}else{this.setValue(this.values)}}else{this.setValue(this.value)}if(this.disabled){this.disable()}this.element.tabIndex=0;this.host.find("DIV").css("tab-index",0)},_addEventHandlers:function(){var b=this;this.addHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag,{self:this});this.addHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag,{self:this});this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(){b._stopDrag(b)});if(window.frameElement){if(window.top!=null){var c=function(d){b._stopDrag(b)};if(window.top.document){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",c,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",c)}}}}}this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag,{self:this});this.addHandler(this._slider.left,"mouseenter",function(){b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._slider.right,"mouseenter",function(){b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._slider.left,"mouseleave",function(){b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._slider.right,"mouseleave",function(){b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._slider.left,"mousedown",function(){b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-pressed"))});this.addHandler(this._slider.right,"mousedown",function(){b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-pressed"))});this.addHandler(this._slider.left,"mouseup",function(){b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))});this.addHandler(this._slider.right,"mouseup",function(){b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))});this.addHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler,{self:this});this.addHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler,{self:this});this.addHandler(this.host,this._getEvent("mousedown"),this._trackMouseDownHandler,{self:this});this.element.onselectstart=function(){return false};this._addMouseWheelListeners();this._addKeyboardListeners()},_addMouseWheelListeners:function(){var b=this;this.addHandler(this.host,"mousewheel",function(d){var c=d.wheelDelta;if(d.originalEvent&&d.originalEvent.wheelDelta){d.wheelDelta=d.originalEvent.wheelDelta}if(!("wheelDelta" in d)){c=d.detail*-40}if(c>0){b.incrementValue()}else{b.decrementValue()}d.preventDefault()})},_addKeyboardListeners:function(){var b=this;this.addHandler(this.host,"keydown",function(c){switch(c.keyCode){case 40:case 37:b.decrementValue();return false;case 38:case 39:b.incrementValue();return false;case 36:if(b.rangeSlider){b.setValue([b.values[0],b.max])}else{b.setValue(b.min)}return false;case 35:if(b.rangeSlider){b.setValue([b.min,b.values[1]])}else{b.setValue(b.max)}return false}})},_trackMouseDownHandler:function(g){var c=g.data.self,g=(c._isTouchDevice)?g.originalEvent.touches[0]:g,b=c._track.offset()[c._getDimention("dimention")],d=g[c._getDimention("page")]-c._slider.left[c._getDimention("size")]()/2,f=c._getClosest(d),e=parseInt(c._track[c._getDimention("size")]());if(d>=b&&d<=e+b){var h=c._getValueByPosition(d);c._setValue(h,f);g.target=f;c._startDrag(g)}},_getClosest:function(b){if(!this.rangeSlider){return this._slider.right}else{b=b-this._track.offset()[this._getDimention("dimention")]-this._slider.left[this._getDimention("size")]()/2;if(Math.abs(parseInt(this._slider.left.css(this._getDimention("dimention")),10)-b)<Math.abs(parseInt(this._slider.right.css(this._getDimention("dimention")),10)-b)){return this._slider.left}else{return this._slider.right}}},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag);this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag);this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag);this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag);this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler);this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler);this.removeHandler(this.host,this._getEvent("mousedown"),this._trackMouseDownHandler);this.element.onselectstart=null;this.removeHandler(this.host,this._getEvent("mousewheel"));this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonHandler:function(c){var b=c.data.self;if(b.orientation=="horizontal"){b.incrementValue()}else{b.decrementValue()}},_leftButtonHandler:function(c){var b=c.data.self;if(b.orientation=="horizontal"){b.decrementValue()}else{b.incrementValue()}},_startDrag:function(c){var b=c.data.self;b._capturedElement=a(c.target);b._startX=a(c.target).offset().left;b._startY=a(c.target).offset().top;b._mouseStartX=(b._isTouchDevice)?c.originalEvent.touches[0].pageX:c.pageX;b._mouseStartY=(b._isTouchDevice)?c.originalEvent.touches[0].pageY:c.pageY;return false},_stopDrag:function(b){if(b._slideStarted){b._raiseEvent(2,{value:b.getValue()})}b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-pressed"));b._slideStarted=false;b._capturedElement=null},_performDrag:function(c){var b=c.data.self,c=(b._isTouchDevice)?c.originalEvent.touches[0]:c;if(b._capturedElement!==null){if(c.which===0&&a.browser.msie&&a.browser.version<9){b._stopDrag(b);return false}b._isDragged(c[b._getDimention("page")]);if(b._slideStarted){return b._dragHandler(c[b._getDimention("page")])}}},_isDragged:function(b){if(Math.abs(b-this[this._getDimention("mouse")])>2&&!this._slideStarted){this._slideStarted=true;if(this._valueChanged(3)){this._raiseEvent(3,{value:this.getValue()})}}else{this._slideStarted=false}},_dragHandler:function(b){b=(b-this[this._getDimention("mouse")])+this[this._getDimention("start")];var c=this._getValueByPosition(b);if(this.rangeSlider){var d=this._slider.right,f=this._slider.left;var e=this._getDimention("dimention");if(this._capturedElement[0]===f[0]){if(parseFloat(b)>d.offset()[e]){b=d.offset()[e]}}else{if(parseFloat(b)<f.offset()[e]){b=f.offset()[e]}}}this._setValue(c,this._capturedElement,b);return false},_getValueByPosition:function(b){if(this.mode==="default"){return this._getFloatingValueByPosition(b)}else{return this._getFixedValueByPosition(b)}},_getFloatingValueByPosition:function(b){var c=b-this._track.offset()[this._getDimention("dimention")]+this._slider.left.width()/2,d=c/this._track[this._getDimention("size")](),e=(this.max-this.min)*d+this.min;if(this.orientation==="horizontal"){return e}else{return(this.max+this.min)-e}},_getFixedValueByPosition:function(b){var g=this.step,f=(this.max-this.min)/g,c=(this._track[this._getDimention("size")]())/f,e=this._track.offset()[this._getDimention("dimention")]-this._slider.left[this._getDimention("size")]()/2,h={number:-1,distance:Number.MAX_VALUE};for(var d=this.min;d<=this.max+this.step;d+=this.step){if(Math.abs(h.distance-b)>Math.abs(e-b)){h.distance=e;h.number=d}e+=c}if(this.orientation==="horizontal"){return h.number}else{return(this.max+this.min)-h.number}},_setValue:function(e,d,b){if(!this._slideEvent||!this._slideEvent.args.cancel){e=this._handleValue(e,d);this._setSliderPosition(e,d,b);this._fixZIndexes();if(this._valueChanged(1)){var c=this._raiseEvent(1,{value:this.getValue()})}if(this._valueChanged(0)){this._raiseEvent(0,{value:this.getValue()})}if(this.tooltip){d.attr("title",e)}}},_valueChanged:function(c){var b=this.getValue();return(!this.rangeSlider&&this._lastValue[c]!==b)||(this.rangeSlider&&(typeof this._lastValue[c]!=="object"||Math.round(this._lastValue[c].rangeEnd)!==Math.round(b.rangeEnd)||Math.round(this._lastValue[c].rangeStart)!==Math.round(b.rangeStart)))},_handleValue:function(c,b){c=this._validateValue(c,b);if(b[0]===this._slider.left[0]){this.values[0]=c}if(b[0]===this._slider.right[0]){this.values[1]=c}if(this.rangeSlider){this.value={rangeStart:this.values[0],rangeEnd:this.values[1]}}else{this.value=c}return c},_fixZIndexes:function(){if(this.values[1]-this.values[0]<0.5&&this.max-this.values[0]<0.5){this._slider.left.css("z-index",20);this._slider.right.css("z-index",15)}else{this._slider.left.css("z-index",15);this._slider.right.css("z-index",20)}},_refreshRangeBar:function(){var b=this._slider.left.position()[this._getDimention("dimention")];if(this.orientation==="vertical"){b=this._slider.right.position()[this._getDimention("dimention")]}this._rangeBar.css(this._getDimention("dimention"),b+this._slider.left[this._getDimention("size")]()/2);this._rangeBar[this._getDimention("size")](Math.abs(this._slider.right.position()[this._getDimention("dimention")]-this._slider.left.position()[this._getDimention("dimention")]))},_validateValue:function(c,b){if(c>this.max){c=this.max}if(c<this.min){c=this.min}if(b[0]===this._slider.left[0]){if(c>=this.values[1]){c=this.values[1]}}else{if(c<=this.values[0]){c=this.values[0]}}return c},_setSliderPosition:function(f,e,b){var d=this._track[this._getDimention("size")](),c,g;if(b){b-=this._track.offset()[this._getDimention("dimention")]}if(this.orientation==="horizontal"){c=(f-this.min)/(this.max-this.min)}else{c=1-((f-this.min)/(this.max-this.min))}g=(typeof b==="undefined"||this.mode!=="default")?(d*c-this._slider.left[this._getDimention("size")]()/2):b;g=this._validateDropPosition(g,e);e.css(this._getDimention("dimention"),g);this._refreshRangeBar()},_validateDropPosition:function(e,d){var b=this._track[this._getDimention("size")](),c=d[this._getDimention("size")]();if(e<-c/2){e=-c/2}if(e>b-c/2){e=b-c/2}return Math.floor(e)},_addDisabledClasses:function(){},_removeDisabledClasses:function(){},propertyChangedHandler:function(b,c,e,d){switch(c){case"theme":a.jqx.utilities.setTheme(e,d,b.host);b._leftButton.jqxRepeatButton({theme:d});b._rightButton.jqxRepeatButton({theme:d});break;case"disabled":if(!d){b.disabled=true;b.enable()}else{b.disabled=false;b.disable()}break;case"width":b.width=parseInt(d);b._performLayout();b._initialSettings();break;case"height":b.height=parseInt(d);b._performLayout();b._initialSettings();break;case"min":b._performLayout();if(!b.rangeSlider){b._setValue(d,b._slider.left)}b._initialSettings();break;case"step":break;case"max":case"showTicks":case"ticksPosition":case"ticksFrequency":case"tickSize":b._performLayout();b._initialSettings();break;case"showRange":case"showButtons":case"orientation":b._render();b._performLayout();b._initialSettings();break;case"buttonsPosition":b._refresh();break;case"mode":break;case"rangeSlider":if(!d){b.value=b.value.rangeEnd}else{b.value={rangeEnd:b.value,rangeStart:b.value}}b._render();b._performLayout();b._initialSettings();break;case"value":b.setValue(d);break;case"values":b.setValue(d);break;case"tooltip":if(!d){b._slider.left.removeAttr("title");b._slider.right.removeAttr("title")}break;default:b._refresh()}},incrementValue:function(b){if(b==undefined||isNaN(parseFloat(b))){b=this.step}if(this.rangeSlider){if(this.values[1]<this.max){this._setValue(this.values[1]+b,this._slider.right)}}else{if(this.values[1]>=this.min&&this.values[1]<this.max){this._setValue(this.values[1]+b,this._slider.right)}}},decrementValue:function(b){if(b==undefined||isNaN(parseFloat(b))){b=this.step}if(this.rangeSlider){if(this.values[0]>this.min){this._setValue(this.values[0]-b,this._slider.left)}}else{if(this.values[1]<=this.max&&this.values[1]>this.min){this._setValue(this.values[1]-b,this._slider.right)}}},setValue:function(d){if(this.rangeSlider){var c,b;if(arguments.length<2){if(d instanceof Array){c=d[0];b=d[1]}else{if(typeof d==="object"&&typeof d.rangeStart!=="undefined"&&typeof d.rangeEnd!=="undefined"){c=d.rangeStart;b=d.rangeEnd}}}else{c=arguments[0];b=arguments[1]}this._setValue(c,this._slider.left);this._setValue(b,this._slider.right)}else{this._setValue(this.min,this._slider.left);this._setValue(d,this._slider.right)}},getValue:function(){return this.value},disable:function(){this._removeEventHandlers();this.disabled=true;this._addDisabledClasses()},enable:function(){if(this.disabled){this._addEventHandlers();this.disabled=false;this._removeDisabledClasses()}}})})(jQuery);(function(a){a.jqx.jqxWidget("jqxSplitter","",{});a.extend(a.jqx._jqxSplitter.prototype,{defineInstance:function(){this.width=null;this.height=null;this.roundedcorners=false;this.panels=[];this.orientation="vertical";this.disabled=false;this.splitBarSize=5;this.enableCollapseAnimation=false;this.animationDuration="fast";this.cookies=false;this.cookieOptions={};this.touchSplitBarSize=15;this._dimentions={horizontal:{size:"height",outerSize:"outerHeight",dimention:"top",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"vertical"},vertical:{size:"width",outerSize:"outerWidth",dimention:"left",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"horizontal"}};this._touchEvents={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"};this._isTouchDevice=false;this._splitBars=[];this._splitPanels=[];this._cursor="";this._panelWrapper=null;this._events=["resize","expanded","collapsed","resizeStart"];this._exceptions={invalidArgument:"Invalid ",invalidOrientation:"Invalid orientation!",invalidStructure:"Invalid structure!",invalidSplitBarSize:"Invalid splitbar size!"}},createInstance:function(){this._cursor=this.host.css("cursor");this._setSplitterSize();this._isTouchDevice=a.jqx.mobile.isTouchDevice();this._validateProperties();this._refresh(true);var c=a.data(document.body,"jqx-splitters")||[];c.push(this.host);a.data(document.body,"jqx-splitters",c);if(this.disabled){this.disabled=false;this.disable()}this._splittersLayout();var b=this;setTimeout(function(){b.refresh()},10)},_setSplitterSize:function(){var g=0,c,f,b=0,d=0,h=true;if(this.width==="auto"||!isNaN(parseInt(this.width,10))){this.host.css("width",this.width)}if(this.height==="auto"||!isNaN(parseInt(this.height,10))){this.host.css("height",this.height)}for(var e=0;e<this.panels.length;e+=1){b=parseInt(this.panels[e].min,10);if(!this.panels[e].max){h=false}else{d+=parseInt(this.panels[e].max,10)}if(!isNaN(b)){g+=b}}this.host.css("min-"+this._getDimention("size"),g);if(h){this.host.css("max-"+this._getDimention("size"),d)}},_getDimention:function(b){return this._dimentions[this.orientation][b]},_validateProperties:function(){try{this._validatePanels();this._validateStructure();this._validateOptions()}catch(b){alert(b)}},_validatePanels:function(){var e=["max","min","size","collapsed","collapsible","resizable"],b;for(var c=0;c<e.length;c+=1){for(var d=0;d<this.panels.length;d+=1){if(typeof this.panels[d][e[c]]!=="undefined"){this._validatePanel(e[c],this.panels[d])}}}},_validatePanel:function(d,b){var c;if(d!=="collapsed"&&d!=="collapsible"&&d!=="resizable"){c=b[d];b[d]=parseInt(b[d],10);if(isNaN(b[d])){throw new Error(this._exceptions.invalidArgument+d+" for panel "+(i+1)+".")}else{if(typeof c==="string"&&c.indexOf("%")>=0){b["_"+d]=c;b[d]=this.host[this._getDimention("size")]()*b[d]/100}}}else{b[d]=this._parseBoolean(b[d])}},_parseBoolean:function(b){return/^true$/i.test(b)},_validateStructure:function(){if(this.host.children("div").length<2){throw new Error(this._exceptions.invalidStructure)}},_validateOptions:function(){if(this.orientation!=="vertical"&&this.orientation!=="horizontal"){throw new Error(this._exceptions.invalidOrientation)}if(parseInt(this.splitBarSize,10)<0||isNaN(parseInt(this.splitBarSize,10))){throw new Error(this._exceptions.invalidSplitBarSize)}if(parseInt(this.touchSplitBarSize,10)<0||isNaN(parseInt(this.touchSplitBarSize,10))){throw new Error(this._exceptions.invalidSplitBarSize)}},_refresh:function(b){this._render();this._startupLayout(b);this._removeEventHandlers();this._addEventHandlers()},refresh:function(){this._performLayout()},_startupLayout:function(b){var c=false;if(b){if(this.cookies){var d=a.jqx.cookie.cookie("jqxSplitter"+this.element.id);if(d!==null){this.importLayout(d);c=true}}}if(!c){this._refreshWidgetLayout()}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-splitter"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));if(this.roundedcorners){this.host.addClass(this.toThemeProperty("jqx-rc-all"))}var c=this.host.children("div"),b;if(this._splitPanels.length<1){for(var d=0;d<c.length;d+=1){b=a(c[d]);b.options={max:9007199254740992,min:0,collapsible:true,resizable:true,collapsed:false,size:b[this._getDimention("size")]()};this._splitPanels.push(b)}this._createSplitBars();this._addCollapseButtons();this._addPanelProperties()}this._wrapperHandler()},_createSplitBars:function(){var e,d,b;for(var c=0;c<this._splitPanels.length;c+=1){if(c+1<this._splitPanels.length){e=this._splitPanels[c];d=this._splitPanels[c+1];b={previous:e,next:d};b.splitBar=this._addSplitBar(e,d);this._splitBars.push(b)}}},_addSplitBar:function(d,c){var b=a("<div/>");b.insertAfter(d);if(this.orientation==="horizontal"){b.width(d.width())}else{b.height(d.height())}return b},_addCollapseButtons:function(){var d=this._splitBars.length;for(var c=0;c<d;c+=1){var b=a("<div/>");this._splitBars[c].splitBar.append(b);if(c!==0&&c!==d-1){b.css("visibility","hidden")}}},_refreshWidgetLayout:function(){this._setSplitterSize();this._removeClasses();this._addClasses();this._validateSize();this._applyOptions();this._performLayout()},_addClasses:function(){var d,b;for(var c=0;c<this._splitPanels.length;c+=1){this._splitPanels[c].addClass(this.toThemeProperty("jqx-splitter-panel"));this._splitPanels[c].addClass(this.toThemeProperty("jqx-widget-content"));if(c<this._splitBars.length){b=this._splitBars[c].splitBar;d=b.children(0);b.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation));b.addClass(this.toThemeProperty("jqx-fill-state-normal"));b.removeClass(this.toThemeProperty("jqx-splitter-splitbar-"+this._getDimention("opposite")));d.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation));d.addClass(this.toThemeProperty("jqx-fill-state-pressed"));d.removeClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this._getDimention("opposite")));if(a.browser.msie&&a.browser.version<=7){this._splitBars[c].previous.css("position","relative");this._splitBars[c].next.css("position","relative")}}}},_removeClasses:function(e){var b=this.theme;this.theme=e;for(var d=0;d<this._splitPanels.length;d+=1){this._splitPanels[d].removeClass(this.toThemeProperty("jqx-splitter-panel"));this._splitPanels[d].removeClass(this.toThemeProperty("jqx-widget-content"));if(d<this._splitBars.length){var c=this._splitBars[d].splitBar.children(0);this._splitBars[d].splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation));this._splitBars[d].splitBar.removeClass(this.toThemeProperty("jqx-fill-state-normal"));c.removeClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation));c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}}this.theme=b},_addPanelProperties:function(){var e=["max","min","size","collapsed","collapsible","resizable"],c=(this.panels instanceof Array)?this.panels:[];for(var d=0;d<this._splitPanels.length;d+=1){for(var b=0;b<e.length;b+=1){if(typeof c[d]!=="undefined"&&typeof c[d][e[b]]!=="undefined"){this._splitPanels[d].options[e[b]]=c[d][e[b]]}else{if(e[b]==="size"){if(this._splitPanels[d][0].style[this._getDimention("size")]!=="auto"&&this._splitPanels[d][0].style[this._getDimention("size")]!==""){this._splitPanels[d].options.size=this._splitPanels[d][this._getDimention("size")]()}else{this._splitPanels[d].options.size=Math.floor(this.host.width()/this._splitPanels.length)}}}}}},_wrapperHandler:function(){if(this._panelWrapper===null){this._panelWrapper=a('<div class="jqx-splitter-panel-wrapper" style="height: 100%;"></div>');this.host.wrapInner(this._panelWrapper);this._panelWrapper=this.host.children()}},_performLayout:function(){var b=this._splitBars.length;while(b){b-=1;this._performSplitterLayout(this._splitBars[b])}this._refreshLayout()},_performSplitterLayout:function(b){if(this.orientation==="horizontal"){b.previous.css("float","none");b.splitBar.css("float","none");b.next.css("float","none");b.splitBar.css("width","100%");b.next.css("width","100%");b.previous.css("width","100%")}else{b.previous.css("float","left");b.splitBar.css("float","left");b.next.css("float","left");b.next.css("height","100%");b.previous.css("height","100%")}},_refreshLayout:function(){if(this.orientation==="vertical"){this._panelWrapper.width(2*this.host.width())}else{this._panelWrapper.css("width",this.host.width())}this._performSplitBarsLayout();this._performPanelLayout()},_performSplitBarsLayout:function(){var d=this.host.height(),e=this.host.width(),c=(this._isTouchDevice)?this.touchSplitBarSize:this.splitBarSize;for(var b=0;b<this._splitBars.length;b+=1){if(this.orientation==="vertical"){this._splitBars[b].splitBar.height(d);this._splitBars[b].splitBar.width(c)}else{this._splitBars[b].splitBar.width(e);this._splitBars[b].splitBar.height(c)}this._centerChild(this._splitBars[b].splitBar.children(0))}},_centerChild:function(b){var c=(a(b.parent()).height()-b.outerHeight())/2,d=(a(b.parent()).width()-b.outerWidth())/2;b.css("margin-top",c);b.css("margin-left",d);return b},_performPanelLayout:function(){var e=this._splitPanels.length,d=0,c=(e-1)*this._splitBars[0].splitBar[this._getDimention("outerSize")](true),b=this.host[this._getDimention("size")](),f;while(d<e){f=this._splitPanels[d];d++;if(!f.options.collapsed){c+=this._handlerPanelSize(f,c,b)}}if(c<b){this._fillContainer(b,c,e-1)}},_getBorderSize:function(c){if(c==null){return 0}var b=this.orientation=="vertical"?parseInt(c.css("border-left-width")):parseInt(c.css("border-top-width"));return b},_handlerPanelSize:function(h,c,b){this._setPanelSize(h,h.options.size);var f=h.options.size,d;if(c+f>=b&&!h.options.collapsed){d=b-c;var e=this._getBorderSize(h),g=c+d-b;if(!isNaN(e)){d-=e}d=Math.min(d,h.options.max);d=Math.max(d,h.options.min);if(!h.options.collapsed){h[this._getDimention("size")](d);h.options.size=d}}return h[this._getDimention("outerSize")](true)},_fillContainer:function(b,d,e){if(typeof e==="undefined"){e=0}var h=this._splitPanels[e],c=b-d,f=h[this._getDimention("size")](),g=c+f;if(e<=this._splitPanels.length){if(h.options.collapsed){this._fillHelper(d,b)}else{if(g>h.options.max){h.options.max=g}h[this._getDimention("size")](g);h.options.size=g}return}g=Math.min(g,h.options.max);if(!h.options.collapsed){h[this._getDimention("size")](g);h.options.size=g}else{g=f=0}if(g+(d-f)<b||h.options.collapsed){this._fillContainer(b,(d-f)+g,e-1)}},_fillHelper:function(d,b){var c,f=false;for(var e=0;e<this._splitPanels.length&&!f;e+=1){c=this._splitPanels[e];if(!c.options.collapsed){f=true}}c[this._getDimention("size")](b-d+c[this._getDimention("size")]())},_applyOptions:function(){for(var b=0;b<this._splitPanels.length;b+=1){if(this._splitPanels[b].options.collapsed){this._splitPanels[b].options.collapsed=false;this.collapseAt(b,true)}if(!this._splitPanels[b].options.collapsible){if(b<this._splitPanels.length-1){this.hideCollapseButtonAt(b)}else{this.hideCollapseButtonAt(b-1)}}else{if(this._splitPanels[b].options.collapsible){if(b<this._splitPanels.length-1){this.showCollapseButtonAt(b)}else{this.showCollapseButtonAt(b-1)}}}}},_validateSize:function(){var b,d=this._getDimention("size");for(var c=0;c<this._splitPanels.length;c+=1){b=this._splitPanels[c].options;if(b.max<b.size){b.size=b.max}else{if(b.min>b.size){b.min=b.size}}this._splitPanels[c][d](b.size)}},_getEvent:function(b){if(this._isTouchDevice){return this._touchEvents[b]}else{return b}},_removeEventHandlers:function(){var c=this._splitBars.length;var b=this;this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"));while(c){c-=1;this._removeSplitBarHandlers(this._splitBars[c]);this._removeCollapseButtonHandlers(a(this._splitBars[c].splitBar.children(0)),c)}},_removeSplitBarHandlers:function(b){this.removeHandler(b.splitBar,this._getEvent("mouseenter"));this.removeHandler(b.splitBar,this._getEvent("mouseleave"));this.removeHandler(b.splitBar,this._getEvent("mousedown"))},_removeCollapseButtonHandlers:function(b){this.removeHandler(b,this._getEvent("mouseenter"));this.removeHandler(b,this._getEvent("mouseleave"));this.removeHandler(b,this._getEvent("mousedown"))},_addEventHandlers:function(){var d=this._splitBars.length,b=this;b.autoResize=true;this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(){b.autoResize=false;b._stopDrag(b)});this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){b._performDrag(b,e)});this.addHandler(a(window),"resize",function(g){if(!b.windowWidth){b.windowWidth=a(window).width()}if(!b.windowHeight){b.windowHeight=a(window).height()}var f=a(window).width();var h=a(window).height();if(b.autoResize){if(f!=b.windowWidth||h!=h){if((typeof b.width==="string"&&b.width.indexOf("%")>=0&&b.orientation=="vertical")||(typeof b.height==="string"&&b.height.indexOf("%")>=0&&b.orientation=="horizontal")){for(var e=0;e<b.panels.length;e+=1){if(b.panels[e]["_size"]!=undefined){b.panels[e]["size"]=b.panels[e]["_size"];b._validatePanel("size",b.panels[e])}}b._addPanelProperties()}}}b.windowWidth=a(window).width();b.windowHeight=a(window).height();b._refreshLayout()});while(d){d-=1;this._addSplitBarHandlers(this._splitBars[d]);this._addCollapseButtonHandlers(a(this._splitBars[d].splitBar.children(0)),d)}if(window.frameElement){if(window.top!=null){var c=function(e){b._stopDrag(b)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",c,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",c)}}}}},_addSplitBarHandlers:function(b){var c=this;this.addHandler(b.splitBar,this._getEvent("mousedown"),this._startDrag,{self:this});this.addHandler(b.splitBar,this._getEvent("mouseenter"),function(){a(this).addClass(c.toThemeProperty("jqx-splitter-splitbar-hover"));a(this).addClass(c.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(b.splitBar,this._getEvent("mouseleave"),function(){a(this).removeClass(c.toThemeProperty("jqx-splitter-splitbar-hover"));a(this).removeClass(c.toThemeProperty("jqx-fill-state-hover"))})},_addCollapseButtonHandlers:function(d,c){var b=this;this.addHandler(d,this._getEvent("mouseenter"),function(){d.addClass(b.toThemeProperty("jqx-splitter-collapse-button-hover"));d.addClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(d,this._getEvent("mouseleave"),function(){d.removeClass(b.toThemeProperty("jqx-splitter-collapse-button-hover"));d.removeClass(b.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(d,this._getEvent("mousedown"),function(){var e=b._splitBars.length;if(e==1){a.each(b._splitPanels,function(g){var f=b._splitPanels[g].options;if(f.collapsible){b._collapseButtonClickHandler(g);return false}})}else{if(c<e/2){b._collapseButtonClickHandler(c)}else{b._collapseButtonClickHandler(1+c)}}return false})},_collapseButtonClickHandler:function(b){if(this._splitPanels[b].options.collapsed){this.expandAt(b)}else{this.collapseAt(b)}},_initOverlay:function(c){var b=this;if(b.overlay||c=="undefined"){b.overlay.remove()}else{if(c==true){b.overlay=a("<div></div>");b.overlay.width(b.host.width());b.overlay.height(b.host.height());b.overlay.css("position","absolute");b.overlay.appendTo(a(document.body));var d=b.host.offset();b.overlay.css("left",d.left);b.overlay.css("top",d.top)}}},_startDrag:function(f){var b=f.data.self;var g=b._indexOf(a(f.target));b._resizeArea=b._splitBars[g];if(b._resizeArea!=null){b._initOverlay(true);if((typeof b._resizeArea.previous.options.resizable==="undefined"||b._resizeArea.previous.options.resizable)&&(typeof b._resizeArea.next.options.resizable==="undefined"||b._resizeArea.next.options.resizable)){var e=b._resizeArea.previous,c=b._resizeArea.next;if((!e.options.collapsed&&!c.options.collapsed)&&!(c.options.max<=c[b._getDimention("outerSize")]()&&e.options.max<=e[b._getDimention("outerSize")]())){b._capturedElement=b._makeClone(f.target);b._startX=b._capturedElement.offset().left;b._startY=b._capturedElement.offset().top;b._mouseStartX=(b._isTouchDevice)?f.originalEvent.touches[0].pageX:f.pageX;b._mouseStartY=(b._isTouchDevice)?f.originalEvent.touches[0].pageY:f.pageY;var d=b._getPanelOptions();b._raiseEvent(3,{firstPanel:{index:g,size:e.options.size},secondPanel:{index:g+1,size:c.options.size},panels:d})}}return false}},_makeClone:function(b){var c=a(b).clone();c.css({position:"absolute",top:a(b).offset().top,left:a(b).offset().left});c.fadeTo(0,0.7);c.css("z-index",9999);a(document.body).append(c);return c},_clickCollapse:function(c){var b=c.data.self;b.collapseAt(0)},_performDrag:function(c,e){var d=(c._isTouchDevice)?e.originalEvent.touches[0][c._getDimention("page")]:e[c._getDimention("page")];if(e.which===0&&a.browser.msie&&a.browser.version<9){c._stopDrag(c);return false}if(c._capturedElement!==null&&typeof c._capturedElement!=="undefined"){var b=(d-c[c._getDimention("mouse")])+c[c._getDimention("start")];c._moveSplitBar(b);return false}return true},_moveSplitBar:function(b){b=this._validatePosition(b);if(b.invalid){this._capturedElement.addClass(this.toThemeProperty("jqx-splitter-invalid"))}else{this._capturedElement.removeClass(this.toThemeProperty("jqx-splitter-invalid"))}this._capturedElement.css(this._getDimention("dimention"),b.position)},_validatePosition:function(b){var f=this._resizeArea,h=this._getNextBoundary(f),e=this._getPreviousBoundary(f),d=Math.min(h,h-f.next.options.min,e+f.previous.options.max),c=Math.max(e,e+f.previous.options.min,h-f.next.options.max),g;if(c>d){g=f.next.offset()[this._getDimention("dimention")]-this._capturedElement[this._getDimention("outerSize")](true);return{position:g,invalid:true}}if(b<c){return{position:c,invalid:true}}if(b>d){return{position:d,invalid:true}}return{position:b,invalid:false}},_getNextBoundary:function(b){var d=b.next.offset()[this._getDimention("dimention")]+b.next[this._getDimention("size")]()-this._capturedElement[this._getDimention("outerSize")](true),c=this._nextPanel(b.next);if(c!==null&&c.options.collapsed){d-=c.options.min}return d},_getPreviousBoundary:function(b){var d=b.previous.offset()[this._getDimention("dimention")],c=this._previousPanel(b.previous);if(c!==null&&c.options.collapsed){d+=c.options.min}return d},_previousPanel:function(b){var c=this._indexOfSplitPanel(b);if(c===0){return null}else{return this._splitPanels[c-1]}},_nextPanel:function(b){var c=this._indexOfSplitPanel(b);if(c===this._splitPanels.length-1){return null}else{return this._splitPanels[c+1]}},_indexOfSplitPanel:function(b){var c=this._splitPanels.length;while(c){c-=1;if(this._splitPanels[c][0]===b[0]){return c}}return -1},_stopDrag:function(b){if(b._capturedElement){b._performAreaResize();b._capturedElement.remove()}b._capturedElement=null;b._initOverlay()},_performAreaResize:function(){var b=this._resizeArea,c=this._capturedElement.offset()[this._getDimention("dimention")]-this[this._getDimention("start")],h=b.previous[this._getDimention("size")]()+c,g=b.next[this._getDimention("size")]()-c,f=this._indexOf(b.splitBar),d=b.previous[this._getDimention("size")]();this._setPanelSize(b.previous,h);this._setPanelSize(b.next,g);this._splittersLayout();if(d!==h){var e=this._getPanelOptions();this._raiseEvent(0,{firstPanel:{index:f,size:h},secondPanel:{index:f+1,size:g},panels:e})}},_splittersLayout:function(){var c=a.data(document.body,"jqx-splitters")||[];if(this.cookies){a.jqx.cookie.cookie("jqxSplitter"+this.element.id,this.exportLayout(),this.cookieOptions)}for(var b=0;b<c.length;b+=1){if(c[b][0]!==this.element){a(c[b]).jqxSplitter("_performLayout")}}},_raiseEvent:function(b,d){var c=new a.Event(this._events[b]);c.owner=this;c.args=d;return this.host.trigger(c)},_setPanelSize:function(b,c){if(!b.options.collapsed){b.options.size=c;b[this._getDimention("size")](c)}else{b[this._getDimention("size")](0)}},_indexOf:function(b){var c=this._splitBars.length;while(c){c-=1;if(this._splitBars[c].splitBar[0]===b[0]){return c}}return -1},_neighborPanel:function(b){var c;if(b===this._splitPanels.length-1){c=this._splitPanels[b-1]}else{c=this._splitPanels[b+1]}return c},_animateResize:function(b,d,f,g){var e={},c=this;e[this._getDimention("size")]=d;b.animate(e,{step:function(){c._splittersLayout.call(c)},duration:f,complete:function(){c._splittersLayout.call(c);if(g&&g instanceof Function){g()}}})},_addDisabledClasses:function(){var c;for(var b=0;b<this._splitBars.length;b+=1){c=this._splitBars[b].splitBar;c.addClass(this.toThemeProperty("jqx-splitter-splitbar-disabled"));c.children(0).addClass(this.toThemeProperty("jqx-splitter-collapse-button-disabled"))}this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_removeDisabledClasses:function(){var c;for(var b=0;b<this._splitBars.length;b+=1){c=this._splitBars[b].splitBar;c.removeClass(this.toThemeProperty("jqx-splitter-splitbar-disabled"));c.children(0).removeClass(this.toThemeProperty("jqx-splitter-collapse-button-disabled"))}this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_closestSplitBar:function(d,c){for(var b=0;b<this._splitBars.length;b+=1){if((this._splitBars[b].previous[0]===d[0]&&this._splitBars[b].next[0]===c[0])||(typeof c==="undefined"&&this._splitBars[b].previous[0]===d[0])||(this._splitBars[b].next[0]===d[0]&&this._splitBars[b].previous[0]===c[0])){return this._splitBars[b].splitBar}}return null},propertyChangedHandler:function(b,c,e,d){if(c==="disabled"){if(d){this.disable()}else{this.enable()}}else{if(c==="theme"){a.jqx.utilities.setTheme(e,d,this.host)}else{if(c==="panels"){this._validatePanels();this._addPanelProperties();this._refreshWidgetLayout()}else{this._refreshWidgetLayout()}}}},exportLayout:function(){var b='{ "panels": [';for(var c=0;c<this._splitPanels.length;c+=1){b+="{";for(var d in this._splitPanels[c].options){b+='"'+d+'":';b+='"'+this._splitPanels[c].options[d]+'",'}b=b.substring(0,b.length-1)+" },"}b=b.substring(0,b.length-1)+'],                 "orientation": "'+this.orientation+'" }';return b},importLayout:function(b){try{var c=a.parseJSON(b);this.panels=c.panels;this.orientation=c.orientation;this._validatePanels();this._addPanelProperties();this._refreshWidgetLayout()}catch(d){alert(d)}},expandAt:function(d){if(d<=this._splitPanels.length&&d>=0&&this._splitPanels[d].options.collapsed){var g=this._neighborPanel(d),f=this._splitPanels[d],c=this,e=(this.enableCollapseAnimation)?this.animationDuration:0,b;f.options.collapsed=false;f.options.size=Math.min(f.options.size,g[this._getDimention("size")]());g.options.size=g[this._getDimention("size")]()-f.options.size;b=this._closestSplitBar(f,g);b.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this._animateResize(g,g.options.size,e);this._animateResize(f,f.options.size,e,function(){var h=c._getPanelOptions();c._raiseEvent(1,{index:d,expandedPanel:h[d],panels:h})})}},_getPanelOptions:function(){var b=new Array();a.each(this._splitPanels,function(){b[b.length]=this.options});return b},collapseAt:function(d,g){var j=this._splitPanels[d].options;if(d<this._splitPanels.length&&d>=0&&!j.collapsed&&j.collapsible){var c=this._splitPanels[d],b=c[this._getDimention("size")](),f=(this.enableCollapseAnimation)?this.animationDuration:0,h=this._neighborPanel(d),k=this,e;c.options.size=(b)?b:c.options.size;c.options.collapsed=true;e=this._closestSplitBar(c,h);e.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));h.options.size=h[this._getDimention("size")]()+b;this._animateResize(h,h.options.size,f);this._animateResize(c,0,f,function(){if(g==undefined){var l=k._getPanelOptions();k._raiseEvent(2,{index:d,collapsedPanel:l[d],panels:l})}})}},disable:function(){this._removeEventHandlers();this.disabled=true;this._addDisabledClasses()},enable:function(){this._addEventHandlers();this.disabled=false;this._removeDisabledClasses()},showCollapseButtonAt:function(b){if(b>=0&&b<this._splitBars.length){this._splitBars[b].splitBar.children(0).css("visibility","visible")}},hideCollapseButtonAt:function(b){if(b>=0&&b<this._splitBars.length){this._splitBars[b].splitBar.children(0).css("visibility","hidden")}}})}(jQuery));(function(a){a.jqx.jqxWidget("jqxTabs","",{});a.extend(a.jqx._jqxTabs.prototype,{defineInstance:function(){this.scrollAnimationDuration=200;this.enabledHover=true;this.disabled=false;this.collapsible=false;this.animationType="none";this.enableScrollAnimation=true;this.contentTransitionDuration=450;this.toggleMode="click";this.selectedItem=0;this.height="auto";this.width="auto";this.position="top";this.selectionTracker=false;this.scrollable=true;this.scrollPosition="right";this.scrollStep=70;this.autoHeight=true;this.showCloseButtons=false;this.canCloseAllTabs=true;this.dropAnimationDuration=250;this.closeButtonSize=16;this.arrowButtonSize=16;this.keyboardNavigation=true;this.reorder=false;this.enableDropAnimation=false;this.selectionTrackerAnimationDuration=300;this._isTouchDevice=false;this.roundedCorners=true;this._headerExpandingBalance=0;this._dragStarted=false;this._tabCaptured=false;this._lastUnorderedListPosition=0;this._selectedItem=0;this._titleList=[];this._contentList=[];this._contentWrapper=null;this._unorderedList=null;this._scrollTimeout=null;this.isCollapsed=false;this._currentEvent=null;this._needScroll=true;this._isAnimated={};this._events=["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"];this._invalidArgumentExceptions={invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!",invalidDropAnimationDuration:"Invalid dropAnimationDuration!"}},createInstance:function(){this.host.addClass(this.toThemeProperty("jqx-tabs"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._unorderedList=this.host.children("ul");this._titleList=this.host.children("ul").children("li");this._contentList=this.host.children("div");this._selectedItem=this.selectedItem;this._isTouchDevice=a.jqx.mobile.isTouchDevice();this._needScroll=this.scrollable;if(this.selectionTracker){this.selectionTracker=this._seletionTrackerBrowserCheck()}if(this._isTouchDevice){this.reorder=false;this.keyboardNavigation=false}var d=this.length();while(d){d--;this._titleList[d]=a(this._titleList[d]);this._contentList[d]=a(this._contentList[d])}this._validateProperties();this._refresh();this._moveSelectionTrack(this._selectedItem,0);if(this.disabled){this.disable()}this.element.tabIndex=0;this._raiseEvent(0);var b=false;var c=this;if(c.width!=null&&c.width.toString().indexOf("%")!=-1){b=true}if(c.height!=null&&c.height.toString().indexOf("%")!=-1){b=true}a(window).bind("resize",function(){if(b){if(c.refreshTimer){clearTimeout(c.refreshTimer)}c.refreshTimer=setTimeout(function(){c.refresh()},1)}});if(b){setInterval(function(){var f=c.host.width();var e=c.host.height();if(c._lastWidth!=f||c._lastHeight!=e){c.refresh()}c._lastWidth=f;c._lastHeight=e},100)}},refresh:function(b){if(!b){this._performResize()}},_seletionTrackerBrowserCheck:function(){var b="Browser CodeName: "+navigator.appCodeName+"";b+="Browser Name: "+navigator.appName+"";b+="Browser Version: "+navigator.appVersion+"";b+="Cookies Enabled: "+navigator.cookieEnabled+"";b+="Platform: "+navigator.platform+"";b+="User-agent header: "+navigator.userAgent+"";if(b.indexOf("IEMobile")!=-1){return false}if(b.indexOf("Windows Phone OS")!=-1){return false}if(a.browser.msie&&a.browser.version<=7){return false}return true},_uiRefresh:function(b){this._unorderedListLeftBackup=this._unorderedList.css("left");if(b){this._render()}this._addStyles();this._performLayout();this._prepareTabs();this._removeEventHandlers();this._addEventHandlers();if(this._unorderedListLeftBackup==="auto"){this._unorderedListLeftBackup=this._getArrowsDisplacement()}this._unorderedList.css("left",this._unorderedListLeftBackup)},_refresh:function(){this._uiRefresh(true)},_addStyles:function(){this.host.find("UL").addClass(this.toThemeProperty("jqx-reset"));this.host.find("LI").addClass(this.toThemeProperty("jqx-reset"));this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container"));this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});var b=this.length();while(b){b--;this._titleList[b].removeClass();this._titleList[b].css("padding","");this._titleList[b].addClass("jqx-reset");this._titleList[b].addClass("jqx-disableselect");this._titleList[b].addClass(this.toThemeProperty("jqx-tabs-title"));this._titleList[b].addClass(this.toThemeProperty("jqx-item"));if(this.position=="bottom"){this._titleList[b].addClass(this.toThemeProperty("jqx-tabs-title-bottom"))}if(this._titleList[b].disabled){this._titleList[b].addClass(this.toThemeProperty("jqx-tabs-title-disable"))}this._titleList[b].removeClass(this.toThemeProperty("jqx-rc-b"));this._titleList[b].removeClass(this.toThemeProperty("jqx-rc-t"));this._contentList[b].removeClass(this.toThemeProperty("jqx-rc-b"));this._contentList[b].removeClass(this.toThemeProperty("jqx-rc-t"));switch(this.position){case"top":this._titleList[b].addClass(this.toThemeProperty("jqx-rc-t"));this._contentList[b].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[b].addClass(this.toThemeProperty("jqx-rc-b"));this._contentList[b].addClass(this.toThemeProperty("jqx-rc-t"));break}}if(this.selectionTracker){this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b"));this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t"));switch(this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"));break}}},_raiseEvent:function(d,g){var f=new a.Event(this._events[d]);f.owner=this;f.args=g;if(d===6||d===7){f.cancel=false;this._currentEvent=f}var b="";try{b=this.host.trigger(f);if(d==1){if(this.selectionTracker||this.animationType!="none"){var e=this;setTimeout(function(){var h=new a.Event("loadContent");h.owner=this;if(e._contentList.length>0&&e._contentList[e.selectedItem]){e._contentList[e.selectedItem].find("div").trigger(h)}},50+e.selectionTrackerAnimationDuration)}else{var f=new a.Event("loadContent");f.owner=this;if(this._contentList.length>0&&this._contentList[this.selectedItem]){this._contentList[this.selectedItem].find("div").trigger(f)}}}}catch(c){}return b},_getArrowsDisplacement:function(){if(!this._needScroll){return 0}var d;var c=this.arrowButtonSize;var b=this.arrowButtonSize;if(this.scrollPosition==="left"){d=c+b}else{if(this.scrollPosition==="both"){d=c}else{d=0}}return d},_scrollRight:function(e,h){this._unorderedList.stop();this._unlockAnimation("unorderedList");var f=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),j=parseInt(this.host.width(),10),g,k,b=parseInt(this._unorderedList.css("left"),10),c=this._getArrowsDisplacement(),d=0,l=undefined;if(this.scrollable){g=parseInt(this._leftArrow.outerWidth(),10);k=parseInt(this._rightArrow.outerWidth(),10)}else{g=0;k=0}e=(this.enableScrollAnimation)?e:0;if(parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)){d=c}else{if(Math.abs(b)+this.scrollStep<Math.abs(j-f)+g+k+c){d=b-this.scrollStep;l=b-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)}else{d=j-f-(2*this.arrowButtonSize-c);if(d<parseInt(this._unorderedList.css("left"),10)-4&&d>parseInt(this._unorderedList.css("left"),10)+4){l=j-f-g-k+parseInt(this._titleList[this._selectedItem].position().left)}}}this._performScrollAnimation(d,l,e)},_scrollLeft:function(f,g){this._unorderedList.stop();this._unlockAnimation("unorderedList");var b=parseInt(this._unorderedList.css("left")),c=this._getArrowsDisplacement(),e=0,d=undefined;f=(this.enableScrollAnimation)?f:0;if(parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())){e=c}else{if(b+this.scrollStep<c){e=b+this.scrollStep;d=b+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)}else{e=c;if(e<parseInt(this._unorderedList.css("left"))-4&&e>parseInt(this._unorderedList.css("left"))+4){d=parseInt(this._titleList[this._selectedItem].position().left)}}}this._performScrollAnimation(e,d,f)},_performScrollAnimation:function(e,d,c){var b=this;if(d!==undefined){this._moveSelectionTrack(this._selectedItem,0,d)}this._lockAnimation("unorderedList");this._unorderedList.animate({left:e},c,function(){b._moveSelectionTrack(b.selectedItem,0);b._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var b=this;if(this.keyboardNavigation){this.addHandler(this.host,"keydown",function(d){if(!b._activeAnimation()){var e=b._selectedItem;var c=b.selectionTracker;switch(d.keyCode){case 37:b.previous();return true;case 39:b.next();return true;case 36:b.first();return true;case 35:b.last();return true;case 27:if(b._tabCaptured){b._cancelClick=true;b._uncapture(null,b.selectedItem);b._tabCaptured=false}break}b.selectionTracker=c}return true})}},_addScrollHandlers:function(){var b=this;this.addHandler(this._leftArrow,"mousedown",function(){b._startScrollRepeat(true,b.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mousedown",function(){b._startScrollRepeat(false,b.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)});this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)});this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this);this.addHandler(a(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(c){var b=c.data;clearTimeout(b._scrollTimeout)},_mouseUpScrollDocumentHandler:function(c){var b=c.data;clearTimeout(b._scrollTimeout)},_mouseUpDragDocumentHandler:function(c){var b=c.data;if(b._tabCaptured&&b._dragStarted){b._uncapture(c)}b._tabCaptured=false;c.stopImmediatePropagation()},_addReorderHandlers:function(){var b=this;this.addHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement,this);this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){var d=this.length();while(d){d--;this._addEventListenerAt(d)}if(this.keyboardNavigation){this._addKeyboardHandlers()}if(this.scrollable){this._addScrollHandlers()}if(this.reorder&&!this._isTouchDevice){this._addReorderHandlers()}var c=this;if(window.frameElement){if(window.top!=null){var b=function(e){if(c._tabCaptured){c._cancelClick=true;c._uncapture(null,c.selectedItem);c._tabCaptured=false}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",b,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",b)}}}}},_getFocusedItem:function(f,e){var j=this.length();while(j){j--;var h=this._titleList[j],g=parseInt(h.outerWidth(true)),d=parseInt(h.offset().left),c=parseInt(this._unorderedList.offset().left),k=parseInt(this.host.offset().left),b=d;if((b<=f&&b+g>=f)&&(h!==this._capturedElement)&&(!this._titleList[j].locked)&&(this._titleList[j].disabled!==true)){return j}}return -1},_simulateDropAnimation:function(p,f){var s=this;var r=function(){s._headerWrapper.css("visibility","visible");c.remove()};var o=this._headerWrapper.position().top;var h=this._headerWrapper.position().left;var c=this._headerWrapper.clone();var d=c.children(0);var n=c.find(this.toThemeProperty(".jqx-tabs-selection-tracker-top",true));this._headerWrapper.css("visibility","hidden");n.css("display","none");c.appendTo(this.host);c.css({position:"absolute",left:h,top:((this.position==="top")?o:o),height:c.height(),width:c.width()});var m=this.length();var b=0;var q=a(d.children()[p]);var k=a(d.children()[f]);for(var j=0;j<m;j++){var e=a(d.children()[j]);e.width(e.width());var g=this.isVisibleAt(j);if(!g&&j!=p){e.css("visibility","hidden")}if(j!==0){b+=parseInt(a(d.children()[j-1]).outerWidth(true))}if(j!==p){e.css({position:"absolute",left:b,top:0})}else{e.css({position:"absolute",left:this._capturedElement.position().left,top:0})}e.css("z-index",0)}var l=function(){s._selectedItem=-1;s.select(f);s._selectedItem=f};if(p>f){b=parseInt(k.css("left"));this._lockAnimation("simulation");q.animate({left:b},this.dropAnimationDuration,function(){r();s._unlockAnimation("simulation");l()});for(var j=f;j<p;j++){var e=a(d.children()[j]);if(j===f){b+=q.outerWidth(true)}else{b+=a(d.children()[j-1]).outerWidth(true)}this._lockAnimation("simulation");e.animate({left:b},this.dropAnimationDuration,function(){s._unlockAnimation("simulation");l()})}}else{if(p<f){this._lockAnimation("simulation");q.animate({left:parseInt(k.css("left"))+parseInt(k.outerWidth(true))-parseInt(q.outerWidth(true))},this.dropAnimationDuration,function(){r();s._unlockAnimation("simulation");l()});for(var j=p+1;j<=f;j++){this._lockAnimation("simulation");a(d.children()[j]).animate({left:parseInt(a(d.children()[j]).css("left"))-parseInt(q.outerWidth(true))},this.dropAnimationDuration,function(){s._unlockAnimation("simulation");l()})}}}},_uncapture:function(e){var d=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left");this._dragStarted=false;this._tabCaptured=false;var b=this._indexOf(this._capturedElement);if(!this._capturedElement){return}switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0);break}if(e){var c=this._getFocusedItem(e.clientX,e.clientY)}if(c===-1||!e){this._capturedElement.css("left",0)}else{if(this.enableDropAnimation){this._simulateDropAnimation(b,c)}this._raiseEvent(10,{item:b,dropIndex:c});this._reorderItems(c,b)}a.each(this._titleList,function(){this.css("position","static")});this._reorderHeaderElements();this._unorderedList.css({position:"relative",top:"0px"});this._prepareTabs();if(c===-1||!e){this._selectedItem=b;this._moveSelectionTrack(b,0);this._addSelectStyle(this._selectedItem,true)}else{this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this._selectedItem,true)}if(document.selection){document.selection.clear()}this._unorderedList.css("left",this._unorderedListLeftBackup);this.selectionTracker=d},_reorderItems:function(c,b){var d=this._titleList[this.selectedItem];var e=this._contentList[b];if(typeof this._capturedElement==="undefined"){this._capturedElement=this._titleList[b]}this._titleList[b].remove();if(b<c){this._titleList[b].insertAfter(this._titleList[c])}else{this._titleList[b].insertBefore(this._titleList[c])}this._reorderElementArrays(c,b);this._getSelectedItem(d);this._removeEventHandlers();this._addEventHandlers()},_reorderElementArrays:function(d,b){var e=this._titleList[this.selectedItem];var f=this._contentList[b];if(b<d){for(var c=b;c<=d;c++){this._titleList[c]=this._titleList[c+1];this._contentList[c]=this._contentList[c+1]}this._contentList[d]=f;this._titleList[d]=this._capturedElement}else{for(var c=b;c>=d;c--){this._titleList[c]=this._titleList[c-1];this._contentList[c]=this._contentList[c-1]}this._contentList[d]=f;this._titleList[d]=this._capturedElement}},_getSelectedItem:function(c){var b=this.length();while(b){b--;if(this._titleList[b]===c){this._selectedItem=this.selectedItem=b;break}}},_moveElement:function(c,b){var b=c.data;if(b._tabCaptured){if(document.selection){document.selection.clear()}if(!b._dragStarted){unorderedListLeft=-parseInt(b._unorderedList.css("left"),10);if(c.clientX+unorderedListLeft>b._startX+3||c.clientX+unorderedListLeft<b._startX-3){b._prepareTabForDragging();b._dragStarted=true}}else{b._performDrag(c);clearTimeout(b._scrollTimeout);b._dragScroll(c)}}},_performDrag:function(c){var b=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._capturedElement.css("left",unorderedListLeft+c.clientX/b-this._startX/b);this._lastX=c.clientX/b;this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var c=1;if(document.body.getBoundingClientRect){var d=document.body.getBoundingClientRect();var e=d.right-d.left;var b=document.body.offsetWidth;c=Math.round((e/b)*100)/100}return c},_prepareTabForDragging:function(){this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"});this.selectedItem=this._indexOf(this._capturedElement);switch(this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")));break}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(d){var c=parseInt(this._unorderedList.css("left"));var b=this;var e=parseInt(this._capturedElement.css("left"));if(d.clientX<=this._headerWrapper.offset().left){this._scrollLeft(this.scrollAnimationDuration);this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-c)}else{if(d.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)){this._scrollRight(this.scrollAnimationDuration);this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-c)}else{this._unorderedList.stop();this._unlockAnimation("unorderedList");clearTimeout(this._scrollTimeout)}}var b=this;this._scrollTimeout=setTimeout(function(){b._dragScroll(d)},this.scrollAnimationDuration);this._lastUnorderedListPosition=c},_captureElement:function(c,b){if(!this._tabCaptured&&!this._titleList[b].locked&&this._titleList[b].disabled!==true&&!this._activeAnimation()){unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._startX=unorderedListLeft+c.clientX;this._startY=c.clientY;this._lastX=c.clientX;this._lastY=c.clientY;this._tabCaptured=true;this._capturedElement=this._titleList[b]}},_titleInteractionTrigger:function(b){if(this._headerExpandingBalance>0){this._removeOppositeBorder()}if(this._selectedItem!==b){this.select(this._titleList[b],"toggle");this._titleList[b].collapsed=false;if(!this.collapsible){if(this.height!=="auto"){this._contentWrapper.css("visibility","visible")}else{this._contentWrapper.css("display","block")}}}else{if(this.collapsible){if(this.isCollapsed){this.expand()}else{this.collapse()}}}},collapse:function(){var c=this._selectedItem,b=this;this.isCollapsed=true;if(b.height!=="auto"){b._contentWrapper.css("visibility","hidden")}else{b._contentWrapper.hide()}b._raiseEvent(13,{item:c});if(this.position=="top"){b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed"));b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))}else{b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom"));b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom"))}},expand:function(){var c=this._selectedItem,b=this;this.isCollapsed=false;this._select(c,b.contentTransitionDuration,null,false,true);if(b.height!=="auto"){b._contentWrapper.css("visibility","visible")}else{b._contentWrapper.show()}b._raiseEvent(14,{item:c});if(this.position=="top"){b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed"));b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))}else{b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom"));b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom"))}},_addSelectHandler:function(c){var b=this;this.addHandler(this._titleList[c],"selectstart",function(d){return false});this.addHandler(this._titleList[c],this.toggleMode,function(d){return function(){b._raiseEvent("15",{item:d});if(!b._tabCaptured&&!b._cancelClick){b._titleInteractionTrigger(d)}return true}}(c))},_addDragDropHandlers:function(c){var b=this;this.addHandler(this._titleList[c],"mousedown",function(d){b._captureElement(d,c);return false});this.addHandler(this._titleList[c],"mouseup",function(d){if(b._tabCaptured&&b._dragStarted){b._cancelClick=true;b._uncapture(d,c)}else{b._cancelClick=false}b._tabCaptured=false;return false})},_removeHoverStates:function(){var b=this;a.each(this._titleList,function(){this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top"));this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(c){var b=this;var d=this._titleList[c];this.addHandler(d,"mouseenter",function(f){if(c!=b._selectedItem){if(b.position=="top"){d.addClass(b.toThemeProperty("jqx-tabs-title-hover-top"))}else{d.addClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))}d.addClass(b.toThemeProperty("jqx-fill-state-hover"));if(b.showCloseButtons){var e=d.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",true));e.addClass(b.toThemeProperty("jqx-tabs-close-button-hover",true))}}});this.addHandler(d,"mouseleave",function(f){if(c!=b._selectedItem){if(b.position=="top"){d.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top"))}else{d.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))}d.removeClass(b.toThemeProperty("jqx-fill-state-hover"));if(b.showCloseButtons){var e=d.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",true));e.removeClass(b.toThemeProperty("jqx-tabs-close-button-hover",true))}}})},_addEventListenerAt:function(d){var c=this;if(this._titleList[d].disabled){return}if(this.reorder&&!this._isTouchDevice){this._addDragDropHandlers(d)}this._addSelectHandler(d);if(this.enabledHover){this._addHoverHandlers(d)}var b=this._titleList[d].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));this.addHandler(b,"click",function(e){c.removeAt(d);return false})},_removeEventHandlers:function(){var b=this;var c=this.length();while(c){c--;this._removeEventListenerAt(c)}if(this.scrollable){this.removeHandler(this._leftArrow,"mousedown");this.removeHandler(this._rightArrow,"mousedown")}this.removeHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement);this.removeHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement);this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler);this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler);this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(d){var c=this;this.removeHandler(this._titleList[d],this.toggleMode);this.removeHandler(this._titleList[d],"mouseenter");this.removeHandler(this._titleList[d],"mouseleave");this.removeHandler(this._titleList[d],"mousedown");this.removeHandler(this._titleList[d],"mouseup");var b=this._titleList[d].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));this.removeHandler(b,"click")},_moveSelectionTrack:function(l,c,b){var m=this;if(l==-1){return}if(this.selectionTracker){this._selectionTracker.stop();this._unlockAnimation("selectionTracker");if(b===undefined){var g=parseInt(this._titleList[l].position().left);if(!isNaN(parseInt(this._unorderedList.css("left")))){g+=parseInt(this._unorderedList.css("left"))}if(!isNaN(parseInt(this._unorderedList.css("margin-left")))){g+=parseInt(this._unorderedList.css("margin-left"))}if(!isNaN(parseInt(this._titleList[l].css("margin-left")))){g+=parseInt(this._titleList[l].css("margin-left"))}if(!isNaN(parseInt(this._titleList[l].css("margin-right")))){}}else{var g=b}var f=0;var d=0;if(this.position==="top"){f=parseInt(this._headerWrapper.height())-parseInt(this._titleList[l].outerHeight());if(!this.autoHeight){d+=parseInt(this._titleList[l].css("margin-top"))}}this._lockAnimation("selectionTracker");var k=parseInt(this._titleList[l].css("padding-left"))+parseInt(this._titleList[l].css("padding-right"));var e=this.position=="top"?0:1;var j=parseInt(this._headerWrapper.css("padding-top"));var h=parseInt(this._titleList[l].css("padding-top"))+parseInt(this._titleList[l].css("padding-bottom"));this._selectionTracker.css("visibility","visible");this._moveSelectionTrackerContainer.css("visibility","visible");this._selectionTracker.animate({top:j+parseInt(this._titleList[l].css("margin-top"))-e,left:g+"px",height:parseInt(this._titleList[l].height()+h),width:this._titleList[l].width()+k},c,function(){m._unlockAnimation("selectionTracker");m._selectionTracker.css("visibility","hidden");m._addSelectStyle(l,true);m._moveSelectionTrackerContainer.css("visibility","hidden")})}},_switchTabs:function(b,d){if(b!==d&&!this._activeAnimation()&&!this._tabCaptured){var c=this;this._raiseEvent(7,{item:d});this._raiseEvent(6,{item:b});if(this._currentEvent){if(this._currentEvent.cancel){this._currentEvent=null;return}}this._unselect(d,null,true);this._select(b,c.contentTransitionDuration,null,true);return true}return false},_activeAnimation:function(){for(child in this._isAnimated){if(this._isAnimated.hasOwnProperty(child)){if(this._isAnimated[child]){return true}}}return false},_indexOf:function(c){var b=this.length();while(b){b--;if(this._titleList[b][0]===c[0]||this._contentList[b][0]===c[0]){return b}}return -1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration)){throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration)}if(parseInt(this.width)<0&&this.width!=="auto"){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(parseInt(this.height)<0&&this.height!=="auto"){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.animationType!=="none"&&this.animationType!=="fade"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration)){throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration)}if(this.toggleMode!=="click"&&this.toggleMode!=="dblclick"&&this.toggleMode!=="mouseenter"&&this.toggleMode!=="none"){throw new Error(this._invalidArgumentExceptions.invalidToggleMode)}if(this.position!=="top"&&this.position!=="bottom"){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(this.scrollPosition!=="left"&&this.scrollPosition!=="right"&&this.scrollPosition!=="both"){throw new Error(this._invalidArgumentExceptions.invalidScrollPosition)}if(this.scrollStep<0||isNaN(this.scrollStep)){throw new Error(this._invalidArgumentExceptions.invalidScrollStep)}if(this._titleList.length!==this._contentList.length){throw new Error(this._invalidArgumentExceptions.invalidStructure)}if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize)){throw new Error(this._invalidArgumentExceptions.invalidArrowSize)}if(this.closeButtonSize<0||isNaN(this.closeButtonSize)){throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}if(this.dropAnimationDuration<0||isNaN(this.dropAnimationDuration)){throw new Error(this._invalidArgumentExceptions.invalidDropAnimationDuration)}}catch(b){alert(b)}},_startScrollRepeat:function(d,c){var b=this;if(c<50){c=50}if(d){this._scrollLeft(c)}else{this._scrollRight(c)}this._scrollTimeout=setTimeout(function(){b._startScrollRepeat(d,c-50)},c)},_performLayout:function(){var b=this.length();while(b){b--;if(this.position==="top"||this.position==="bottom"){this._titleList[b].css("float","left")}}this._fitToSize();this._performHeaderLayout();this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize();this._positionArrows(this._totalItemsWidth);if(this._totalItemsWidth>this.host.width()){this._unorderedList.width(this._totalItemsWidth)}else{this._unorderedList.width(this.host.width())}this._fitToSize()},_addArrows:function(){if(this._leftArrow&&this._rightArrow){this._leftArrow.remove();this._rightArrow.remove()}this._leftArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>');this._rightArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>');this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._headerWrapper.append(this._leftArrow);this._headerWrapper.append(this._rightArrow);this._leftArrow.width(this.arrowButtonSize);this._leftArrow.height("100%");this._rightArrow.width(this.arrowButtonSize);this._rightArrow.height("100%");this._leftArrow.css({"z-index":"30"});this._rightArrow.css({"z-index":"30"});this._leftArrow.css("display","none");this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons){return 0}var c=this.length();var b=this;a.each(this._titleList,function(){var d=this.attr("hasclosebutton");if(d!=undefined&&d!=null){if(d=="false"||d==false){c--}}});return c},_calculateTitlesSize:function(){var e=0;var d=0;var c=this.length();while(c){c--;this._titleList[c].css("position","static");this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");d+=parseInt(this._titleList[c].outerWidth(true));if(e<this._titleList[c].outerHeight(true)){e=Math.round(parseInt(this._titleList[c].outerHeight(true)))}var b=this._titleList[c].attr("hasCloseButton");if(b!=undefined&&b!=null){if(b=="true"||b==true){d+=this.closeButtonSize;this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","block")}else{if(b=="false"||b==false){this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none")}}}else{if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){d+=this.closeButtonSize;this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","block")}}this._titleList[c].height(this._titleList[c].height())}return{height:e,width:10+d}},_reorderHeaderElements:function(){if(this.selectionTracker){this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"})}this._headerWrapper.css({position:"relative",left:"0px",top:"0px"});if(this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});switch(this.scrollPosition){case"both":this._rightArrow.css("right","0px");this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px");this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right","0px");this._leftArrow.css("right",this.arrowButtonSize+"px");break}}},_positionArrows:function(b){if(b>=parseInt(this._headerWrapper.width())&&this.scrollable){this._needScroll=true;if(this._unorderedList.position().left===0){this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"}this._leftArrow.css("display","block");this._rightArrow.css("display","block")}else{this._needScroll=false;this._leftArrow.css("display","none");this._rightArrow.css("display","none");this._unorderedList.css("left",0)}},_performHeaderLayout:function(){this._removeSelectStyle();var b=this._calculateTitlesSize();var d=b.height;var c=b.width;this._headerWrapper.height(d);this._unorderedList.height(d);if(c>this.host.width()){this._unorderedList.width(c)}else{this._unorderedList.width(this.host.width())}this._reorderHeaderElements();c=c+parseInt(this._unorderedList.css("margin-left"));this._totalItemsWidth=c;this._positionArrows(c);this._unorderedList.css({position:"relative",top:"0px"});this._verticalAlignElements();this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var l=this.length();var q=this._maxHeightTab();while(l){l--;var b=this._titleList[l].find(".jqx-tabs-titleContentWrapper"),m=b.height(),p=this._titleList[l].find(this.toThemeProperty(".jqx-tabs-close-button",true)),n=parseInt(this._titleList[l].css("padding-top"));if(!n){n=0}if(this.autoHeight){var h=this._titleList[l].outerHeight(true)-this._titleList[l].height();var c=parseInt(this._titleList[l].css("padding-top"));var r=parseInt(this._titleList[l].css("padding-bottom"));var k=parseInt(this._titleList[l].css("border-top-width"));var f=parseInt(this._titleList[l].css("border-bottom-width"));this._titleList[l].height(this._unorderedList.outerHeight()-c-r-k-f)}else{if(this.position==="top"){var j=parseInt(this._unorderedList.height())-parseInt(this._titleList[l].outerHeight(true));if(parseInt(this._titleList[l].css("margin-top"))!==j&&j!==0){this._titleList[l].css("margin-top",j)}}else{this._titleList[l].height(this._titleList[l].height())}}this._titleList[l].children(0).height("100%");var e=parseInt(this._titleList[l].height());var g=parseInt(e)/2-parseInt(p.height())/2;p.css("margin-top",1+g);var o=parseInt(e)/2-parseInt(b.height())/2;b.css("margin-top",o)}if(this.scrollable){var h=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize;var d=h/2;this._rightArrow.children(0).css("margin-top",d);this._rightArrow.height("100%");this._leftArrow.height("100%");this._leftArrow.children(0).css("margin-top",d)}},_getImageUrl:function(c){var b=c.css("background-image");b=b.replace('url("',"");b=b.replace('")',"");b=b.replace("url(","");b=b.replace(")","");return b},_fitToSize:function(){this.host.width(this.width);if(this.width!="auto"){this._contentWrapper.css("width","100%");this._contentWrapper.width(this.host.width()-2)}if(this.height!=="auto"){this.host.height(this.height);var b=this.host.height()-this._headerWrapper.outerHeight()-2;this._contentWrapper.height(b)}else{this._contentWrapper.css("height","auto")}},_maxHeightTab:function(){var c=this.length();var d=-1;var b=-1;while(c){c--;if(d<parseInt(this._titleList[c].outerHeight(true))){b=c}}return b},_addSelectionTracker:function(){if(this._moveSelectionTrackerContainer){this._moveSelectionTrackerContainer.remove()}this._moveSelectionTrackerContainer=a('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var b=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=a('<div class="'+b+'">');this._selectionTracker.css("color","inherit");this._moveSelectionTrackerContainer.append(this._selectionTracker);this._headerWrapper.append(this._moveSelectionTrackerContainer);this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var d="none";var b=this._contentWrapper==undefined;this._contentWrapper=this._contentWrapper||a('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+d+';">');this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));var c=this.length();while(c){c--;this._contentList[c].addClass(this.toThemeProperty("jqx-tabs-content-element"))}if(b){this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper);this._contentWrapper=this.host.find(".jqx-tabs-content")}if(this.roundedCorners){if(this.position=="top"){this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b"))}else{this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t"))}this.host.addClass(this.toThemeProperty("jqx-rc-all"))}},_addHeaderWrappers:function(){var b=this.length();this._unorderedList.remove();this._headerWrapper=this._headerWrapper||a('<div class="jqx-tabs-headerWrapper" style="outline: none;">');this._headerWrapper.remove();if(this.position=="top"){this._headerWrapper.prependTo(this.host)}else{this._headerWrapper.appendTo(this.host)}this._unorderedList.appendTo(this._headerWrapper);this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header"));this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header"));if(this.position=="bottom"){this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom"))}else{this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom"))}if(this.roundedCorners){if(this.position=="top"){this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t"));this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))}else{this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t"));this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))}}while(b){b--;if(this._titleList[b].children(".jqx-tabs-titleWrapper").length<=0){var c=a('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');c.append(this._titleList[b].html());this._titleList[b].empty();c.appendTo(this._titleList[b])}this._titleList[b].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons();this._addHeaderWrappers();this._addContentWrapper();if(this.selectionTracker){this._addSelectionTracker()}this._addArrows()},_addCloseButtons:function(){var e=this.length();while(e){e--;if(this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",true)).length<=0&&this._titleList[e].find(".jqx-tabs-titleContentWrapper").length<=0){var c=a('<div class="jqx-tabs-titleContentWrapper"></div>');c.css("float","left");c.addClass("jqx-disableselect");c.append(this._titleList[e].html());this._titleList[e].html("");var b=a('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');b.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":"left","font-size":"1px"});var d=this;this._titleList[e].append(c);this._titleList[e].append(b);if(!this.showCloseButtons){b.css("display","none")}}}},_prepareTabs:function(){var c=this.length();var b=this.selectionTracker;this.selectionTracker=false;while(c){c--;if(this._selectedItem!==c){this._unselect(c,null,false)}}this._select(this._selectedItem,0,null,false);this.selectionTracker=b},_isValidIndex:function(b){return(b>=0&&b<this.length())},_removeSelectStyle:function(){var c=this.length();while(c){c--;var b=null;if(this.showCloseButtons){var b=this._titleList[c].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));b.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}if(this.position=="top"){this._titleList[c].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top"))}else{this._titleList[c].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))}this._titleList[c].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(c,e){var d=this.length();this._removeSelectStyle();if(!this.selectionTracker||(e!=undefined&&e)){if(c>=0&&this._titleList[c]!=undefined){var b=null;if(this.showCloseButtons){var b=this._titleList[c].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true))}this._titleList[c].removeClass(this.toThemeProperty("jqx-fill-state-hover"));if(this.position=="top"){this._titleList[c].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top"));this._titleList[c].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))}else{this._titleList[c].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom"));this._titleList[c].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))}this._titleList[c].addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(b!=null){b.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}}}},_addItemTo:function(g,c,e){if(c<g.length){var b=undefined,f=undefined;for(var d=c;d+1<g.length;d++){if(b===undefined){b=g[d+1];g[d+1]=g[d]}else{f=g[d+1];g[d+1]=b;b=f}}if(b===undefined){b=g[c]}g[c]=e;g.push(b)}else{g.push(e)}},_select:function(d,f,g,b,e){if(!this._tabCaptured){this.host.attr("hideFocus","true");var c=this;if(e==undefined){this._addSelectStyle(d)}else{this._addSelectStyle(d,e)}if(this.isCollapsed&&this.collapsible){this._contentList[d].css("display","none");this._selectCallback(d,g,b);return}switch(this.animationType){case"none":if(!c.selectionTracker){for(i=0;i<this._contentList.length;i++){if(d!=i&&this._contentList[i].css("display")=="block"){this._contentList[i].css("display","none")}}this._contentList[d].css("display","block")}else{setTimeout(function(){c._contentList[d].css("display","block")},this.selectionTrackerAnimationDuration)}this._selectCallback(d,g,b);break;case"fade":this._lockAnimation("contentListSelect");c._selectCallback(d,g,b);this._contentList[d].fadeIn(f,function(){c._unlockAnimation("contentListSelect")});break}}},_selectCallback:function(c,d,b){this._selectedItem=c;this.selectedItem=this._selectedItem;if(d){d()}if(b){this._raiseEvent(1,{item:c})}},_unselect:function(e,f,c){if(e>=0){if(!this._tabCaptured){var d=this;this._contentList[e].stop();if(this.animationType=="fade"){this._contentList[e].css("display","none")}else{if(this.selectionTracker){setTimeout(function(){d._contentList[e].css("display","none")},this.selectionTrackerAnimationDuration)}else{this._contentList[e].css("display","none")}}this._unselectCallback(e,f,c);if(!this.selectionTracker){this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected"));this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}}else{var b=12}}},_unselectCallback:function(c,d,b){if(b){this._raiseEvent(8,{item:c})}if(d){d()}},disable:function(){var b=this.length();while(b){b--;this.disableAt(b)}},enable:function(){var b=this.length();while(b){b--;this.enableAt(b)}},getEnabledTabsCount:function(){var b=0;a.each(this._titleList,function(){if(!this.disabled){b++}});return b},getDisabledTabsCount:function(){var b=0;a.each(this._titleList,function(){if(this.disabled){b++}});return b},removeAt:function(d){if(this._isValidIndex(d)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var b=this,c=this._titleList[this._selectedItem],e=parseInt(this._titleList[d].outerWidth(true)),j=this.getTitleAt(d);this._unorderedList.width(parseInt(this._unorderedList.width())-e);this._titleList[d].remove();this._contentList[d].remove();var h=0;this._titleList.splice(d,1);this._contentList.splice(d,1);this._addStyles();this._performHeaderLayout();this._removeEventHandlers();this._addEventHandlers();this._raiseEvent(3,{item:d,title:j});this._isAnimated={};if(this.selectedItem>0){this._selectedItem=-1;var g=this._getPreviousIndex(this.selectedItem);this.select(g)}else{this._selectedItem=-1;var g=this._getNextIndex(this.selectedItem);this.select(g)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()){this._unorderedList.css("left",this._getArrowsDisplacement())}if(parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var f=(this.enableScrollAnimation)?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList");this._unorderedList.animate({left:0},f,function(){b._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(b){if(!this._titleList[b].disabled||this._titleList[b].disabled===undefined){if(this.selectedItem==b){var c=this.next();if(!c){c=this.previous()}}this._titleList[b].disabled=true;this.removeHandler(this._titleList[b],this.toggleMode);if(this.enabledHover){this._titleList[b].unbind("mouseenter").unbind("mouseleave")}this._removeEventListenerAt(b);this._titleList[b].addClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[b].addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._raiseEvent(5,{item:b})}},enableAt:function(b){if(this._titleList[b].disabled){this._titleList[b].disabled=false;this._addEventListenerAt(b);this._titleList[b].removeClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[b].removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this._raiseEvent(4,{item:b})}},addAt:function(c,f,e){if(c>=0||c<=this.length()){this._removeHoverStates();var b=a("<li>"+f+"</li>");var d=a("<div>"+e+"</div>");b.addClass(this.toThemeProperty("jqx-tabs-title"));b.addClass(this.toThemeProperty("jqx-item"));if(this.position=="bottom"){b.addClass(this.toThemeProperty("jqx-tabs-title-bottom"))}if(c<this.length()&&c>=0){this._titleList[c].before(b)}else{this._titleList[this.length()-1].after(b)}d.appendTo(this._contentWrapper);this._addItemTo(this._titleList,c,b);this._addItemTo(this._contentList,c,d);if(this._selectedItem>c){this._selectedItem++}this._switchTabs(c,this._selectedItem);this._selectedItem=c;this._uiRefresh(false);this._raiseEvent(2,{item:c});this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(c,b){this.addAt(0,c,b)},addLast:function(c,b){this.addAt(this.length(),c,b)},select:function(c,b){if(typeof(c)==="object"){c=this._indexOf(c)}var e=c>=0&&c<this._titleList.length?this._titleList[c].attr("canselect"):true;if(e==undefined||e=="true"||e==true){if(c!==this._selectedItem&&this._isValidIndex(c)){if(!this._activeAnimation()&&!this._titleList[c].disabled){var d=this._switchTabs(c,this._selectedItem);if(d){this.ensureVisible(c)}}}}},previous:function(c){var b=this._selectedItem;if(c!=undefined&&!isNaN(c)){b=c}while(b>0&&b<this._titleList.length){b--;if(!this._titleList[b].disabled){this.select(b);return true}}return false},_getPreviousIndex:function(c){if(c!=undefined&&!isNaN(c)){var b=c;while(c>0&&c<=this._titleList.length){c--;if(!this._titleList[c].disabled){return c;break}}return b}else{return 0}},_getNextIndex:function(c){if(c!=undefined&&!isNaN(c)){var b=c;while(c>=0&&c<this._titleList.length){if(!this._titleList[c].disabled){return c;break}c++}return b}else{return 0}},next:function(c){var b=this._selectedItem;if(c!=undefined&&!isNaN(c)){b=c}while(b>=0&&b<this._titleList.length-1){b++;if(!this._titleList[b].disabled){this.select(b);return true}}return false},first:function(){var b=0;if(this._titleList[b].disabled){this.next(b)}else{this.select(b)}},last:function(){var b=this._titleList.length-1;if(this._titleList[b].disabled){this.previous(b)}else{this.select(b)}},length:function(){return this._titleList.length},lockAt:function(b){if(this._isValidIndex(b)&&(!this._titleList[b].locked||this._titleList[b].locked===undefined)){this._titleList[b].locked=true;this._raiseEvent(11,{item:b})}},unlockAt:function(b){if(this._isValidIndex(b)&&this._titleList[b].locked){this._titleList[b].locked=false;this._raiseEvent(12,{item:b})}},lockAll:function(){var b=this.length();while(b){b--;this.lockAt(b)}},unlockAll:function(){var b=this.length();while(b){b--;this.unlockAt(b)}},showCloseButtonAt:function(c){if(this._isValidIndex(c)){var b=this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",true));b.css("display","block")}},hideCloseButtonAt:function(c){if(this._isValidIndex(c)){var b=this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",true));b.css("display","none")}},hideAllCloseButtons:function(){var b=this.length();while(b){b--;this.hideCloseButtonAt(b)}},showAllCloseButtons:function(){var b=this.length();while(b){b--;this.showCloseButtonAt(b)}},getTitleAt:function(b){if(this._titleList[b]){return this._titleList[b].text()}return null},getContentAt:function(b){if(this._contentList[b]){return this._contentList[b].text()}return null},setTitleAt:function(b,c){if(this._titleList[b]){this._titleList[b].text(c)}},setContentAt:function(b,c){if(this._contentList[b]){this._contentList[b].html(c)}},ensureVisible:function(d){var l=this;if(d==undefined||d==-1||d==null){d=this.selectedItem}if(!this._isValidIndex(d)){return false}var k=parseInt(this._titleList[d].position().left)+parseInt(this._unorderedList.css("margin-left"));var f=parseInt(this._unorderedList.css("left"));var j=parseInt(this._headerWrapper.outerWidth(true));var e=parseInt(this._titleList[d].outerWidth(true));var h=f-this._getArrowsDisplacement();var b=j-this._getArrowsDisplacement()-h;var g,c;if(k<-h){g=-k+this._getArrowsDisplacement();c=this._getArrowsDisplacement()}else{if(k+e>b-this._getArrowsDisplacement()){g=-k+j-e-((this.scrollable)?(2*this.arrowButtonSize-this._getArrowsDisplacement()):0);c=j-e-this._getArrowsDisplacement()}else{this._moveSelectionTrack(d,this.selectionTrackerAnimationDuration);return true}}this._lockAnimation("unorderedList");this._unorderedList.animate({left:g},this.scrollAnimationDuration,function(){l._unlockAnimation("unorderedList");l._moveSelectionTrack(l._selectedItem,0);return true});this._moveSelectionTrack(d,this.selectionTrackerAnimationDuration,c);return true},isVisibleAt:function(d){var l=this;if(d==undefined||d==-1||d==null){d=this.selectedItem}if(!this._isValidIndex(d)){return false}var k=parseInt(this._titleList[d].position().left)+parseInt(this._unorderedList.css("margin-left"));var f=parseInt(this._unorderedList.css("left"));var j=parseInt(this._headerWrapper.outerWidth(true));var e=parseInt(this._titleList[d].outerWidth(true));var h=f-this._getArrowsDisplacement();var b=j-this._getArrowsDisplacement()-h;var g,c;if(k<-h){return false}else{if(k+e>b){return false}else{return true}}return true},isDisabled:function(b){return this._titleList[b].disabled},_lockAnimation:function(b){if(this._isAnimated){this._isAnimated[b]=true}},_unlockAnimation:function(b){if(this._isAnimated){this._isAnimated[b]=false}},propertyChangedHandler:function(b,c,e,d){this._validateProperties();switch(c){case"width":case"height":b._performResize();return;case"disabled":if(d){this.disable()}else{this.enable()}return;case"showCloseButtons":if(d){this.showAllCloseButtons()}else{this.hideAllCloseButtons()}this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);return;case"selectedItem":if(this._isValidIndex(d)){this.select(d)}return;case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":case"enableDropAnimation":return;case"selectionTracker":if(d){this._refresh();this.select(this._selectedItem)}else{if(this._selectionTracker!=null){this._selectionTracker.remove()}}return;case"scrollable":if(d){this._refresh();this.select(this._selectedItem)}else{this._leftArrow.remove();this._rightArrow.remove();this._performHeaderLayout()}return;case"autoHeight":this._performHeaderLayout();return;case"theme":a.jqx.utilities.setTheme(e,d,this.host);return}this._unorderedList.css("left","0px");this._refresh();this.select(this._selectedItem);this._addSelectStyle(this._selectedItem,true)}})}(jQuery));(function(a){a.jqx.jqxWidget("jqxTree","",{});a.extend(a.jqx._jqxTree.prototype,{defineInstance:function(){this.items=new Array();this.width=null;this.height=null;this.easing="easeInOutCirc";this.animationShowDuration="fast";this.animationHideDuration="fast";this.treeElements=new Array();this.disabled=false;this.enableHover=true;this.enableKeyboardNavigation=true;this.toggleMode="dblclick";this.source=null;this.checkboxes=false;this.checkSize=13;this.hasThreeStates=false;this.selectedItem=null;this.touchMode="auto";this.events=["expand","collapse","select","initialized","added","removed","checkchange"]},createInstance:function(c){var b=this;this.propertyChangeMap.disabled=function(f,h,g,j){if(b.disabled){b.host.addClass(b.toThemeProperty("jqx-tree-disabled"))}else{b.host.removeClass(b.toThemeProperty("jqx-tree-disabled"))}};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}this.host.attr("tabIndex",1);if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-tree-disabled"))}this.originalInnerHTML=this.element.innerHTML;this.createdTree=false;if(this.element.innerHTML.indexOf("UL")){var e=this.host.find("ul:first");if(e.length>0){this.createTree(e[0]);this.createdTree=true}}if(this.source!=null){var d=this.loadItems(this.source);this.element.innerHTML=d;var e=this.host.find("ul:first");if(e.length>0){this.createTree(e[0]);this.createdTree=true}}this._itemslength=this.items.length;if(this.createdTree==true){this._render();this._handleKeys()}this._updateCheckLayout(0)},checkItems:function(f,h){var e=this;if(f!=null){var d=0;var g=false;var b=0;var j=a(f.element).find("li");b=j.length;a.each(j,function(k){var l=e.itemMapping[this.id].item;if(l.checked!=false){if(l.checked==null){g=true}d++}});if(f!=h){if(d==b){this.checkItem(f.element,true)}else{if(d>0){this.checkItem(f.element,null)}else{this.checkItem(f.element,false)}}}else{var c=h.checked;var j=a(h.element).find("li");a.each(j,function(){var k=e.itemMapping[this.id].item;e.checkItem(this,c)})}this.checkItems(this._parentItem(f),h)}else{var c=h.checked;var j=a(h.element).find("li");a.each(j,function(){var k=e.itemMapping[this.id].item;e.checkItem(this,c)})}},_handleKeys:function(){var b=this;this.addHandler(this.host,"keydown",function(j){var g=j.keyCode;if(b.enableKeyboardNavigation){if(b.selectedItem!=null){var f=b.selectedItem.element;switch(g){case 32:if(b.checkboxes){b.fromKey=true;var h=a(b.selectedItem.checkBoxElement).jqxCheckBox("checked");b.checkItem(b.selectedItem.element,!h);if(b.hasThreeStates){b.checkItems(b.selectedItem,b.selectedItem)}}return false;case 33:var e=b._getItemsOnPage();var d=b.selectedItem;for(i=0;i<e;i++){d=b._prevVisibleItem(d)}if(d!=null){b.selectItem(d.element);b.ensureVisible(d.element)}else{b.selectItem(b._firstItem().element);b.ensureVisible(b._firstItem().element)}return false;case 34:var e=b._getItemsOnPage();var c=b.selectedItem;for(i=0;i<e;i++){c=b._nextVisibleItem(c)}if(c!=null){b.selectItem(c.element);b.ensureVisible(c.element)}else{b.selectItem(b._lastItem().element);b.ensureVisible(b._lastItem().element)}return false;case 37:if(b.selectedItem.hasItems){b.collapseItem(f)}return false;case 39:if(b.selectedItem.hasItems){b.expandItem(f)}return false;case 13:if(b.selectedItem.hasItems){if(b.selectedItem.isExpanded){b.collapseItem(f)}else{b.expandItem(f)}}return false;case 36:b.selectItem(b._firstItem().element);b.ensureVisible(b._firstItem().element);return false;case 35:b.selectItem(b._lastItem().element);b.ensureVisible(b._lastItem().element);return false;case 38:var d=b._prevVisibleItem(b.selectedItem);if(d!=null){b.selectItem(d.element);b.ensureVisible(d.element)}return false;case 40:var c=b._nextVisibleItem(b.selectedItem);if(c!=null){b.selectItem(c.element);b.ensureVisible(c.element)}return false}}}})},_firstItem:function(){var d=null;var c=this;var f=this.host.find("ul:first");var e=a(f).find("li");for(i=0;i<=e.length-1;i++){var b=e[i];d=this.itemMapping[b.id].item;if(c._isVisible(d)){return d}}return null},_lastItem:function(){var d=null;var c=this;var f=this.host.find("ul:first");var e=a(f).find("li");for(i=e.length-1;i>=0;i--){var b=e[i];d=this.itemMapping[b.id].item;if(c._isVisible(d)){return d}}return null},_parentItem:function(d){if(d==null||d==undefined){return null}var c=d.parentElement;var b=null;a.each(this.items,function(){if(this.element==c){b=this;return false}});return b},_nextVisibleItem:function(c){if(c==null||c==undefined){return null}var b=c;while(b!=null){b=b.nextItem;if(this._isVisible(b)&&!b.disabled){return b}}return null},_prevVisibleItem:function(c){if(c==null||c==undefined){return null}var b=c;while(b!=null){b=b.prevItem;if(this._isVisible(b)&&!b.disabled){return b}}return null},_isVisible:function(c){if(c==null||c==undefined){return false}if(!this._isElementVisible(c.element)){return false}var b=this._parentItem(c);if(b==null){return true}if(b!=null){if(!this._isElementVisible(b.element)){return false}if(b.isExpanded){while(b!=null){b=this._parentItem(b);if(b!=null&&!this._isElementVisible(b.element)){return false}if(b!=null&&!b.isExpanded){return false}}}else{return false}}return true},_getItemsOnPage:function(){var d=0;var c=this.panel.jqxPanel("getVScrollPosition");var b=parseInt(this.host.height());var f=0;var e=this._firstItem();if(parseInt(a(e.element).height())>0){while(f<=b){f+=parseInt(a(e.element).outerHeight());d++}}return d},_isElementVisible:function(b){if(b==null){return false}if(a(b).css("display")!="none"&&a(b).css("visibility")!="hidden"){return true}return false},refresh:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.panel){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){var b=this;this.panel.jqxPanel("width","100%");a(window).resize(function(){b._calculateWidth()})}else{this.panel.jqxPanel("width",this.host.width())}this.panel.jqxPanel("height",this.height);this.panel.jqxPanel("_arrange")}},loadItems:function(c){if(c==null){return}var b=this;this.items=new Array();var d="<ul>";a.map(c,function(e){if(e==undefined){return null}d+=b._parseItem(e)});d+="</ul>";return d},_parseItem:function(l){var f="";if(l==undefined){return null}var j=l.label;if(!l.label&&l.html){j=l.html}var g=false;if(l.expanded!=undefined&&l.expanded){g=true}var e=false;if(l.locked!=undefined&&l.locked){e=true}var c=false;if(l.selected!=undefined&&l.selected){c=true}var d=false;if(l.disabled!=undefined&&l.disabled){d=true}var k=false;if(l.checked!=undefined&&l.checked){k=true}var h=l.icon;var b=l.iconsize;f+="<li";if(g){f+=' item-expanded="true" '}if(e){f+=' item-locked="true" '}if(d){f+=' item-disabled="true" '}if(c){f+=' item-selected="true" '}if(b){f+=' item-iconsize="'+l.iconsize+'" '}if(h!=null&&h!=undefined){f+=' item-icon="'+h+'" '}if(l.label&&!l.html){f+=' item-label="'+j+'" '}if(l.value!=null){f+=' item-value="'+l.value+'" '}if(l.checked!=undefined){f+=' item-checked="'+k+'" '}if(l.id!=undefined){f+=' id="'+l.id+'" '}f+=">"+j;if(l.items){f+=this.loadItems(l.items)}f+="</li>";return f},ensureVisible:function(d){if(d==null||d==undefined){return}var c=this.panel.jqxPanel("getVScrollPosition");var e=this.panel.jqxPanel("getHScrollPosition");var b=parseInt(this.host.height());var f=a(d).position().top;if(f<=c||f>=b+c){this.panel.jqxPanel("scrollTo",e,f-b+a(d).outerHeight())}},addTo:function(c,b){if(c==undefined||c==null){return}var d=this;var f=new Array();if(!a.isArray(c)){f[0]=c}else{f=c}if(this.element.innerHTML.indexOf("UL")){var e=d.host.find("ul:first")}a.each(f,function(){var k=this;var j=d._parseItem(k);if(j.length>0){if(b==undefined&&b==null){var h=a(j);e.append(h);d._createItem(h[0])}else{b=a(b);var g=b.find("ul:first");var h=null;if(g.length==0){ulElement=a("<ul></ul>");a(b).append(ulElement);h=a(j);g=b.find("ul:first");var k=d.itemMapping[b[0].id].item;k.subtreeElement=g[0];k.hasItems=true;g.addClass(d.toThemeProperty("jqx-tree-dropdown"));g.append(h);h=g.find("li:first")}else{h=a(j);g.append(h)}d._createItem(h[0])}}});d._updateItemsNavigation();d._render();this._raiseEvent("4",{items:c})},removeItem:function(b){if(b==undefined||b==null){return}var c=this;var e=b.id;if(this.element.innerHTML.indexOf("UL")){var d=c.host.find("ul:first")}a.each(c.items,function(){var f=this;if(f.element.id==e){return false}});if(this.host.find("#"+b.id).length>0){a(b).remove()}c._updateItemsNavigation();c._render();c.selectedItem=null;this._raiseEvent("5")},disableItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){c.collapseItem(d.element);d.disabled=true;a(d.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed"));a(d.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected"));a(d.titleElement).addClass(c.toThemeProperty("jqx-fill-state-disabled"));a(d.titleElement).addClass(c.toThemeProperty("jqx-tree-item-disabled"));return false}})},checkItem:function(b,d){if(b==null){return false}var c=this;a.each(c.items,function(){var e=this;if(e.element==b){e.checked=d;a(e.checkBoxElement).jqxCheckBox({checked:d});return false}});this._raiseEvent("6",{element:b,checked:d})},enableItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.disabled=false;a(d.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-disabled"));a(d.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-disabled"));return false}})},enableAll:function(){var b=this;a.each(b.items,function(){var c=this;c.disabled=false;a(c.titleElement).removeClass(b.toThemeProperty("jqx-tree-item-disabled"))})},lockItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.locked=true;return false}})},unlockItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.locked=false;return false}})},getItems:function(){return this.items},getItem:function(b){if(b==null||b==undefined){return null}var c=this.itemMapping[b.id].item;return c},isExpanded:function(b){if(b==null||b==undefined){return false}var c=this.itemMapping[b.id].item;if(c!=null){return c.isExpanded}return false},isSelected:function(b){if(b==null||b==undefined){return false}var c=this.itemMapping[b.id].item;if(c!=null){return c==this.selectedItem}return false},selectItem:function(b){if(this.disabled){return}var c=this;if(b==null||b==undefined){if(c.selectedItem!=null){a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed"));a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected"));c.selectedItem=null}return}if(this.selectedItem!=null&&this.selectedItem.element==b){return}a.each(c.items,function(){var d=this;if(!d.disabled){if(d.element==b){if(c.selectedItem==null||(c.selectedItem!=null&&c.selectedItem.titleElement!=d.titleElement)){if(c.selectedItem!=null){a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed"));a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected"))}a(d.titleElement).addClass(c.toThemeProperty("jqx-fill-state-pressed"));a(d.titleElement).addClass(c.toThemeProperty("jqx-tree-item-selected"));c.selectedItem=d}}}});this._raiseEvent("2",{element:b})},collapseAll:function(){var c=this;var b=c.items;a.each(b,function(){var d=this;if(d.isExpanded==true){c._collapseItem(c,d)}})},expandAll:function(){var b=this;a.each(this.items,function(){var c=this;if(c.hasItems){b._expandItem(b,c)}})},collapseItem:function(b){if(b==null){return false}var c=this;a.each(this.items,function(){var d=this;if(d.isExpanded==true&&d.element==b){c._collapseItem(c,d);return false}});return true},expandItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.isExpanded==false&&d.element==b&&!d.disabled&&!d.locked){c._expandItem(c,d);if(d.parentElement){c.expandItem(d.parentElement)}}});return true},_getClosedSubtreeOffset:function(c){var b=a(c.subtreeElement);var e=-b.outerHeight();var d=-b.outerWidth();d=0;return{left:d,top:e}},_collapseItem:function(g,k,d,b){if(g==null||k==null){return false}if(k.disabled){return false}if(g.disabled){return false}if(g.locked){return false}var e=a(k.subtreeElement);var l=this._getClosedSubtreeOffset(k);var h=l.top;var c=l.left;$treeElement=a(k.element);var f=g.animationHideDelay;f=0;if(e.data("timer").show!=null){clearTimeout(e.data("timer").show);e.data("timer").show=null}var j=function(){k.isExpanded=false;if(g.checkboxes){var m=e.find(".chkbox");m.stop();m.css("opacity",1);e.find(".chkbox").animate({opacity:0},50)}e.slideUp(g.animationHideDuration,function(){k.isCollapsing=false;g._calculateWidth();var n=a(k.arrow);if(n.length>0){n.removeClass();n.addClass(g.toThemeProperty("jqx-tree-item-arrow-collapse"))}g._raiseEvent("1",{element:k.element})})};if(f>0){e.data("timer").hide=setTimeout(function(){j()},f)}else{j()}},getSubItems:function(j,h){if(j==null){return false}var g=this;var b=new Array();if(h!=null){a.extend(b,h)}var c=j;var f=this.treeElements[c];var e=a(f.subtreeElement);var d=e.find(".jqx-tree-item");a.each(d,function(){b[this.id]=g.treeElements[this.id];var k=g.getSubItems(this.id,b);a.extend(b,k)});return b},_anyOpenedTopLevelItems:function(){for(i=0;i<this.items.length;i++){if(this.items[i].level==0&&this.items[i].element.className.indexOf(this.toThemeProperty("jqx-tree-item-selected"))!=-1){return true}}return false},_getOpenedTopLevelItems:function(){for(i=0;i<this.items.length;i++){if(this.items[i].level==0&&this.items[i].element.className.indexOf(this.toThemeProperty("jqx-tree-item-selected"))!=-1){return this.items[i]}}return null},_getSiblings:function(c){var d=new Array();var b=0;for(i=0;i<this.items.length;i++){if(this.items[i]==c){continue}if(this.items[i].parentId==c.parentId&&this.items[i].hasItems){d[b++]=this.items[i]}}return d},_getOpenedOnLevelItems:function(b){var c=b.level;for(i=0;i<this.items.length;i++){if(this.items[i]==b){continue}if(this.items[i].level==c&&(this.items[i].element.className.indexOf(this.toThemeProperty("jqx-tree-item-selected"))!=-1||this.items[i].element.className.indexOf(this.toThemeProperty("jqx-tree-item-selected"))!=-1||this.items[i].element.className.indexOf(this.toThemeProperty("jqx-tree-item-hover"))!=-1||this.items[i].element.className.indexOf(this.toThemeProperty("jqx-tree-item-hover"))!=-1)){return this.items[i]}}return null},_expandItem:function(g,k){if(g==null||k==null){return false}if(k.isExpanded){return false}if(k.locked){return false}if(k.disabled){return false}if(g.disabled){return false}var e=a(k.subtreeElement);if((e.data("timer"))!=null&&e.data("timer").hide!=null){clearTimeout(e.data("timer").hide)}var j=a(k.element);var h=0;var d=0;if(parseInt(e.css("top"))==h){k.isExpanded=true;return}var c=a(k.arrow);if(c.length>0){c.removeClass();c.addClass(g.toThemeProperty("jqx-tree-item-arrow-expand"))}if(g.checkboxes){var f=e.find(".chkbox");f.stop();f.css("opacity",0);f.animate({opacity:1},g.animationShowDuration)}e.slideDown(g.animationShowDuration,g.easing,function(){k.isExpanded=true;k.isExpanding=false;g._raiseEvent("0",{element:k.element});g._calculateWidth()});if(g.checkboxes){g._updateCheckItemLayout(k);if(k.subtreeElement){var b=a(k.subtreeElement).find("li");a.each(b,function(){var l=g.getItem(this);if(l!=null){g._updateCheckItemLayout(l)}})}}},_calculateWidth:function(){var d=this;var e=this.checkboxes?20:0;var c=0;a.each(this.items,function(){var f=a(this.element).height();if(f!=0){var g=this.titleElement.outerWidth()+20+e+(1+this.level)*25;c=Math.max(c,g)}});if(c>this.host.width()){var b=c-this.host.width();d.panel.jqxPanel({horizontalScrollBarMax:b})}else{d.panel.jqxPanel({horizontalScrollBarMax:null})}d.panel.jqxPanel("_arrange")},_initialize:function(e,b){var d=this;var c=0;this.host.removeClass(d.toThemeProperty("jqx-tree"));this.host.addClass(d.toThemeProperty("jqx-widget"));this.host.addClass(d.toThemeProperty("jqx-widget-content"));this.host.addClass(d.toThemeProperty("jqx-tree"));a.each(this.items,function(){var j=this;$element=a(j.element);var g=null;var f=a(j.arrow);if(f.length>0){f.unbind("hover");f.remove()}g=a('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');g.prependTo($element);g.css("float","left");if(!j.isExpanded){g.addClass(d.toThemeProperty("jqx-tree-item-arrow-collapse"))}else{g.addClass(d.toThemeProperty("jqx-tree-item-arrow-expand"))}var h=parseInt(a(this.titleElement).css("padding-top"));if(isNaN(h)){h=0}h=h*2;h+=2;var k=(h+a(this.titleElement).height())/2-17/2;if(a.browser.msie&&a.browser.version<9){g.css("margin-top","3px")}else{g.css("margin-top",parseInt(k)+"px")}$element.addClass(d.toThemeProperty("jqx-disableselect"));g.addClass(d.toThemeProperty("jqx-disableselect"));g.click(function(){if(!j.isExpanded){d._expandItem(d,j)}else{d._collapseItem(d,j)}return false});d.addHandler(g,"selectstart",function(){return false});d.addHandler(g,"mouseup",function(){return false});g.hover(function(){g.removeClass();if(j.isExpanded){g.addClass(d.toThemeProperty("jqx-tree-item-arrow-expand-hover"))}else{g.addClass(d.toThemeProperty("jqx-tree-item-arrow-collapse-hover"))}},function(){g.removeClass();if(j.isExpanded){g.addClass(d.toThemeProperty("jqx-tree-item-arrow-expand"))}else{g.addClass(d.toThemeProperty("jqx-tree-item-arrow-collapse"))}});j.hasItems=a(j.element).find("li").length>0;j.arrow=g[0];if(!j.hasItems){g.css("visibility","hidden")}$element.css("float","none")})},_getOffset:function(b){var f=a(window).scrollTop();var h=a(window).scrollLeft();var c=a.jqx.mobile.isSafariMobileBrowser();var g=a(b).offset();var e=g.top;var d=g.left;if(c!=null&&c){return{left:d-h,top:e-f}}else{return a(b).offset()}},_renderHover:function(c,e,b){var d=this;if(!b){a(e.titleElement).unbind("hover");a(e.titleElement).hover(function(){if(!e.disabled&&d.enableHover&&!d.disabled){a(e.titleElement).addClass(d.toThemeProperty("jqx-fill-state-hover"));a(e.titleElement).addClass(d.toThemeProperty("jqx-tree-item-hover"))}},function(){if(!e.disabled&&d.enableHover&&!d.disabled){a(e.titleElement).removeClass(d.toThemeProperty("jqx-fill-state-hover"));a(e.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-hover"))}})}},_render:function(h,b){if(a.browser.msie&&a.browser.version<8){var f=this;a.each(this.items,function(){var m=a(this.element);var o=m.parent();var l=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;m.css("min-width",l);var n=parseInt(o.css("min-width"));if(isNaN(n)){n=0}var k=m.css("min-width");if(n<parseInt(m.css("min-width"))){o.css("min-width",k)}this.titleElement[0].style.width=null})}var j=1000;var d=[5,5];var f=this;a.data(f.element,"animationHideDelay",f.animationHideDelay);var e=this.isTouchDevice();a.data(document.body,"treeel",this);this._initialize();if(e&&this.toggleMode=="dblclick"){this.toggleMode="click"}a.each(this.items,function(){var m=this;var l=a(m.element);if(f.enableRoundedCorners){l.addClass(f.toThemeProperty("jqx-rc-all"))}f.removeHandler(a(m.checkBoxElement),"click");f.addHandler(a(m.checkBoxElement),"click",function(o){this.treeItem.checked=!this.treeItem.checked;f.checkItem(this.treeItem.element,this.treeItem.checked);if(f.hasThreeStates){f.checkItems(this.treeItem,this.treeItem)}return false});f.removeHandler(l,"mousedown");f.removeHandler(l,"mousedown");f.removeHandler(l,"mouseenter");f.removeHandler(l,"mouseleave");f.removeHandler(l,"mousedown");f.removeHandler(l,"mouseup");f.removeHandler(l,"selectstart");f._renderHover(l,m,e);var k=a(m.subtreeElement);if(k.length>0){var n=m.isExpanded?"block":"none";k.css({overflow:"hidden",display:n});k.data("timer",{})}f.removeHandler(a(m.titleElement),"dblclick");f.removeHandler(a(m.titleElement),"click");f.addHandler(a(m.titleElement),"selectstart",function(o){return false});if(a.browser.opera){f.removeHandler(a(m.titleElement),"mousedown");f.addHandler(a(m.titleElement),"mousedown",function(o){return false})}if(f.toggleMode!="click"){f.addHandler(a(m.titleElement),"click",function(o){f.selectItem(m.element);if(f.panel!=null){f.panel.jqxPanel({focused:true})}})}f.addHandler(a(m.titleElement),f.toggleMode,function(o){if(k.length>0){clearTimeout(k.data("timer").hide)}if(f.panel!=null){f.panel.jqxPanel({focused:true})}if(k!=null){}f.selectItem(m.element);if(m.isExpanding==undefined){m.isExpanding=false}if(m.isCollapsing==undefined){m.isCollapsing=false}f.panel.jqxPanel({autoUpdate:false});if(k.length>0){if(!m.isExpanded){if(false==m.isExpanding){m.isExpanding=true;f._expandItem(f,m)}}else{if(false==m.isCollapsing){m.isCollapsing=true;f._collapseItem(f,m,true)}}}f.panel.jqxPanel({autoUpdate:true});return false})});if(this.host.jqxPanel){this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var c=this.host.find("div:first");var g="fixed";if(this.height==null||this.height=="auto"){g="verticalwrap"}if(this.width==null||this.width=="auto"){if(g=="fixed"){g="horizontalwrap"}else{g="wrap"}}c.jqxPanel({theme:this.theme,width:this.width,height:this.height,autoUpdateInterval:30,touchMode:this.touchMode,autoUpdate:true,sizeMode:g});if(a.browser.msie&&a.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true);this.host.find("ul").attr("hideFocus",true)}c[0].className="";this.panel=c}this._raiseEvent("3",this)},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}return b},createID:function(){var b=Math.random()+"";b=b.replace(".","");b="99"+b;b=b/1;while(this.items[b]){b=Math.random()+"";b=b.replace(".","");b=b/1}return"treeItem"+b},createTree:function(b){if(b==null){return}var d=this;var f=a(b).find("li");var c=0;this.items=new Array();this.itemMapping=new Array();a(b).addClass(d.toThemeProperty("jqx-tree-dropdown-root"));for(var e=0;e<f.length;e++){this._createItem(f[e])}this._updateItemsNavigation();this._updateCheckStates()},_updateCheckLayout:function(c){var b=this;a.each(this.items,function(){if(this.level==c||c==undefined){b._updateCheckItemLayout(this)}})},_updateCheckItemLayout:function(b){if(this.checkboxes){if(a(b.titleElement).css("display")!="none"){var c=a(b.checkBoxElement);var d=a(b.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;c.css("margin-top",d);if(a.browser.msie&&a.browser.version<8){b.titleElement.css("margin-left",parseInt(this.checkSize)+25)}else{c.css("margin-left",16)}}}},_updateCheckStates:function(){var b=this;if(b.hasThreeStates){a.each(this.items,function(){b._updateCheckState(this)})}else{a.each(this.items,function(){if(this.checked==null){b.checkItem(this.element,false)}})}},_updateCheckState:function(e){if(e==null||e==undefined){return}var d=this;var c=0;var f=false;var b=0;var g=a(e.element).find("li");b=g.length;if(e.checked&&b>0){a.each(g,function(h){var k=d.itemMapping[this.id].item;var j=k.element.getAttribute("item-checked");if(j==undefined||j==null||j=="true"||j==true){d.checkItem(k.element,true)}})}a.each(g,function(h){var j=d.itemMapping[this.id].item;if(j.checked!=false){if(j.checked==null){f=true}c++}});if(b>0){if(c==b){this.checkItem(e.element,true)}else{if(c>0){this.checkItem(e.element,null)}else{this.checkItem(e.element,false)}}}},_updateItemsNavigation:function(){var f=this.host.find("ul:first");var e=a(f).find("li");var c=0;for(i=0;i<e.length;i++){var b=e[i];var d=this.itemMapping[b.id].item;if(i>0){d.prevItem=this.itemMapping[e[i-1].id].item}if(i<e.length-1){d.nextItem=this.itemMapping[e[i+1].id].item}}},_applyTheme:function(e,h){var f=this;this.host.removeClass("jqx-tree-"+e);this.host.removeClass("jqx-widget-"+e);this.host.removeClass("jqx-widget-content-"+e);this.host.addClass(f.toThemeProperty("jqx-tree"));this.host.addClass(f.toThemeProperty("jqx-widget"));var b=this.host.find("ul:first");a(b).removeClass(f.toThemeProperty("jqx-tree-dropdown-root-"+e));a(b).addClass(f.toThemeProperty("jqx-tree-dropdown-root"));var g=a(b).find("li");for(var d=0;d<g.length;d++){var c=g[d];a(c).children().each(function(){if(this.tagName=="ul"||this.tagName=="UL"){a(this).removeClass(f.toThemeProperty("jqx-tree-dropdown-"+e));a(this).addClass(f.toThemeProperty("jqx-tree-dropdown"));return false}})}a.each(this.items,function(){var l=this;var k=a(l.element);k.removeClass(f.toThemeProperty("jqx-tree-item-li-"+e));k.addClass(f.toThemeProperty("jqx-tree-item-li"));a(l.titleElement).removeClass(f.toThemeProperty("jqx-tree-item-"+e));a(l.titleElement).addClass(f.toThemeProperty("jqx-tree-item"));a(treeItem.titleElement).removeClass("jqx-item-"+e);a(treeItem.titleElement).addClass(f.toThemeProperty("jqx-item"));var j=a(l.arrow);if(!l.isExpanded){j.addClass(f.toThemeProperty("jqx-tree-item-arrow-collapse"))}else{j.addClass(f.toThemeProperty("jqx-tree-item-arrow-expand"))}if(l.checkBoxElement){a(l.checkBoxElement).jqxCheckBox({theme:h})}if(f.enableRoundedCorners){k.removeClass("jqx-rc-all-"+e);k.addClass(f.toThemeProperty("jqx-rc-all"))}});if(this.host.jqxPanel){this.panel.jqxPanel({theme:h})}},_createItem:function(c){if(c==null||c==undefined){return}var o=c.id;if(!o){o=this.createID()}var z=c;var l=a(c);z.id=o;var t=this.items.length;this.items[t]=new a.jqx._jqxTree.jqxTreeItem();this.treeElements[o]=this.items[t];t=this.items.length;var u=0;var B=this;var e=null;a(z).children().each(function(){if(this.tagName=="ul"||this.tagName=="UL"){B.items[t-1].subtreeElement=this;a(this).addClass(B.toThemeProperty("jqx-tree-dropdown"));return false}});a(z).parents().each(function(){if((this.tagName=="li"||this.tagName=="LI")){u=this.id;e=this;return false}});var s=c.getAttribute("item-expanded");if(s==null||s==undefined||(s!="true"&&s!=true)){s=false}else{s=true}l.removeAttr("item-expanded");var A=c.getAttribute("item-locked");if(A==null||A==undefined||(A!="true"&&A!=true)){A=false}else{A=true}l.removeAttr("item-locked");var p=c.getAttribute("item-selected");if(p==null||p==undefined||(p!="true"&&p!=true)){p=false}else{p=true}l.removeAttr("item-selected");var d=c.getAttribute("item-disabled");if(d==null||d==undefined||(d!="true"&&d!=true)){d=false}else{d=true}l.removeAttr("item-disabled");var h=c.getAttribute("item-checked");if(h==null||h==undefined||(h!="true"&&h!=true)){h=false}else{h=true}var C=c.getAttribute("item-title");if(C==null||C==undefined||(C!="true"&&C!=true)){C=false}l.removeAttr("item-title");var x=c.getAttribute("item-icon");var q=c.getAttribute("item-iconsize");var j=c.getAttribute("item-label");var r=c.getAttribute("item-value");l.removeAttr("item-icon");l.removeAttr("item-iconsize");l.removeAttr("item-label");l.removeAttr("item-value");var w=this.items[t-1];w.id=o;w.value=r;w.icon=x;w.iconsize=q;w.parentId=u;w.disabled=d;w.parentElement=e;w.element=c;w.locked=A;w.selected=p;w.checked=h;w.isExpanded=s;this.itemMapping[t-1]={element:z,item:w};this.itemMapping[z.id]=this.itemMapping[t-1];var g=a(c).find('[item-title="true"]').length>0;var y=a(z).find('[item-title="true"]').parents("li:first")[0]==z;g=false;if(!g||!y){if(a(z.firstChild).length>0){if(w.icon){var q=w.iconsize;if(!q){q=16}var x=a('<img width="'+q+'" height="'+q+'" style="float: left;" class="itemicon" src="'+w.icon+'"/>');a(z).prepend(x);x.css("margin-right","4px")}var b=z.innerHTML.indexOf("<ul");if(b==-1){b=z.innerHTML.indexOf("<UL")}if(b==-1){w.originalTitle=z.innerHTML;a(z).wrapInner('<div style="display: inline-block;"/>');w.titleElement=a(a(z)[0].firstChild)}else{var v=z.innerHTML.substring(0,b);v=a.trim(v);w.originalTitle=v;v=a('<div style="display: inline-block;">'+v+"</div>");var m=a(z).find("ul:first");m.remove();z.innerHTML="";a(z).prepend(v);a(z).append(m);w.titleElement=v}if(a.browser.msie&&a.browser.version<8){a(a(z)[0].firstChild).css("display","inline-block")}}else{w.originalTitle="Item";a(z).append(a("<span>Item</span>"));a(z.firstChild).wrap("<span/>");w.titleElement=a(z)[0].firstChild;if(a.browser.msie&&a.browser.version<8){a(z.firstChild).css("display","inline-block")}}}a(w.titleElement).addClass(this.toThemeProperty("jqx-rc-all"));if(j==null||j==undefined){j=w.titleElement;w.label=a.trim(a(w.titleElement).text())}else{w.label=j}a(z).addClass(this.toThemeProperty("jqx-tree-item-li"));a(w.titleElement).addClass(this.toThemeProperty("jqx-tree-item"));a(w.titleElement).addClass(this.toThemeProperty("jqx-item"));w.level=a(c).parents("li").length;if(this.checkboxes){if(this.host.jqxCheckBox){var n=a('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');n.width(parseInt(this.checkSize));n.height(parseInt(this.checkSize));a(z).prepend(n);n.jqxCheckBox({checked:w.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:d,theme:this.theme});w.titleElement.css("margin-left",parseInt(this.checkSize)+6);w.checkBoxElement=n[0];n[0].treeItem=w;var f=a(w.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;n.css("margin-top",f);if(a.browser.msie&&a.browser.version<8){w.titleElement.css("width","1%");w.titleElement.css("margin-left",parseInt(this.checkSize)+25)}else{n.css("margin-left",16)}}else{alert("jqxcheckbox.js is not loaded.")}}else{if(a.browser.msie&&a.browser.version<8){w.titleElement.css("width","1%")}}if(d){this.disableItem(w.element)}if(p){this.selectItem(w.element)}if(a.browser.msie&&a.browser.version<8){a(z).css("margin","0px");a(z).css("padding","0px")}w.hasItems=a(c).find("li").length>0},destroy:function(){this.host.removeClass()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;e.args=args;var b=this.host.trigger(e);return b},getTop:function(b){var c=b.offsetTop;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=(b.offsetTop-b.scrollTop);if(document.all){c+=b.clientTop}}}return c},getLeft:function(b){var c=b.offsetLeft;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=b.offsetLeft;if(document.all){c+=b.clientLeft}}}return c},propertyChangedHandler:function(b,d,g,f){if(this.isInitialized==undefined||this.isInitialized==false){return}if(d=="theme"){this._applyTheme(g,f)}if(d=="width"||d=="height"){b.refresh();b._initialize();b._calculateWidth();if(b.host.jqxPanel){var h="fixed";if(this.height==null||this.height=="auto"){h="verticalwrap"}if(this.width==null||this.width=="auto"){if(h=="fixed"){h="horizontalwrap"}else{h="wrap"}}this.panel.jqxPanel({sizeMode:h})}}if(d=="source"){if(this.source!=null){var c=this.loadItems(this.source);this.element.innerHTML=c;var e=this.host.find("ul:first");if(e.length>0){this.createTree(e[0]);this._render()}}}if(d=="hasThreeStates"){this._render();this._updateCheckStates()}}})})(jQuery);(function(a){a.jqx._jqxTree.jqxTreeItem=function(e,d,b){var c={label:null,id:e,parentId:d,parentElement:null,parentItem:null,disabled:false,selected:false,locked:false,checked:false,level:0,isExpanded:false,hasItems:false,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return c}})(jQuery);(function(b){b.jqx.jqxWidget("jqxGrid","",{});b.extend(b.jqx._jqxGrid.prototype,{defineInstance:function(){this.disabled=false;this.width=600;this.height=400;this.pagerheight=28;this.groupsheaderheight=34;this.pagesize=10;this.pagesizeoptions=["5","10","20"];this.rowsheight=25;this.columnsheight=25;this.groupindentwidth=30;this.rowdetails=false;this.enablerowdetailsindent=true;this.enablemousewheel=true;this.initrowdetails=null;this.editable=false;this.editmode="selectedcell";this.pageable=false;this.groupable=false;this.sortable=false;this.filterable=false;this.autoshowfiltericon=true;this.showfiltercolumnbackground=true;this.showpinnedcolumnbackground=true;this.showsortcolumnbackground=true;this.altrows=false;this.altstart=1;this.altstep=1;this.showrowdetailscolumn=true;this.groups=[];this.groupsrenderer=null;this.groupcolumnrenderer=null;this.groupsexpandedbydefault=false;this.pagerrenderer=null;this.touchmode="auto";this.columns=[];this.selectedrowindex=-1;this.selectedrowindexes=new Array();this.selectedcells=new Array();this.selectedcell=null;this.source={beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null};this.dataview=null;this.updatedelay=0;this.autoheight=false;this.showheader=true;this.showgroupsheader=true;this.closeablegroups=true;this.scrollbarsize=15;this.virtualmode=false;this.sort=null;this.columnsmenu=true;this.columnsresize=false;this.columnsmenuwidth=15;this.sorttogglestates=2;this.rendergridrows=null;this.enableanimations=true;this.enabletooltips=false;this.selectionmode="singlerow";this.enablehover=true;this.loadingerrormessage="The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.";this.verticalscrollbarstep=5;this.verticalscrollbarlargestep=400;this.horizontalscrollbarstep=5;this.horizontalscrollbarlargestep=50;this.keyboardnavigation=true;this._updating=false;this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();this._requiresupdate=false;this._hasOpenedMenu=false;this.events=["initialized","rowclick","rowselect","rowunselect","groupexpand","groupcollapse","sort","columnclick","cellclick","pagechanged","pagesizechanged","bindingcomplete","groupschanged","filter","columnresized","cellselect","cellunselect","cellbeginedit","cellendedit","cellvaluechanged","rowexpand","rowcollapse","rowdoubleclick","celldoubleclick"]},createInstance:function(d){var k=b("<div tabIndex=0 style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' tabIndex=1 style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='groupsheader' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' tabIndex=2 style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/><div id='pager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>");this._fieldsmapping();this.element.innerText="";this.element.innerHTML="";this.host.append(k);this.host.addClass(this.toTP("jqx-grid"));this.host.addClass(this.toTP("jqx-reset"));this.host.addClass(this.toTP("jqx-rc-all"));this.host.addClass(this.toTP("jqx-widget"));this.host.addClass(this.toTP("jqx-widget-content"));this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));var h=this.host.find("#verticalScrollBar"+this.element.id);var g=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright"));if(!h.jqxScrollBar){alert("jqxscrollbar is not loaded.");return}this.editors=new Array();this.vScrollBar=h.jqxScrollBar({vertical:true,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:false});this.hScrollBar=g.jqxScrollBar({vertical:false,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,triggervaluechanged:false});this.pager=this.host.find("#pager");this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.groupsheader=this.host.find("#groupsheader");this.groupsheader.addClass(this.toTP("jqx-grid-groups-header"));this.groupsheader.addClass(this.toTP("jqx-widget-header"));this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=b.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=b.data(this.hScrollBar[0],"jqxScrollBar").instance;this.gridtable=null;this.dataloadelement=b('<div style="position: absolute;"></div>');this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement);this.isNestedGrid=this.host.parent()?this.host.parent().css("z-index")==2000:false;if(this.localizestrings){this.localizestrings()}this.databind(this.source);if(this.pageable&&this._initpager){this._initpager()}this._arrange();this.tableheight=null;var f=this;var e=function(){if(f.content){f.content[0].scrollTop=0;f.content[0].scrollLeft=0}if(f.gridcontent){f.gridcontent[0].scrollLeft=0;f.gridcontent[0].scrollTop=0}};this.content.bind("mousedown",function(){e()});this.content.bind("scroll",function(l){e();return false});this.host.addClass("jqx-disableselect");this.content.addClass("jqx-disableselect");this.addHandler(this.host,"loadContent",function(l){if(f.gridmenu&&f.gridmenu.width()<120){f._initmenu();f.prerenderrequired=true;f._rendercolumnheaders()}return false});if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){b(window).resize(function(){var n=b(window).width();var l=b(window).height();if(n!=f._windowWidth||l!=f._windowHeight){f._updatesize()}f._windowWidth=n;f._windowHeight=l});setInterval(function(){var n=f.host.width();var l=f.host.height();if(f._lastWidth!=n||f._lastHeight!=l){f._updatesize()}f._lastWidth=n;f._lastHeight=l},100)}},_updatesize:function(k,h){if(this._loading){return}var f=this;var g=f.host.width();var e=f.host.height();if(!f._oldWidth){f._oldWidth=g}if(!f._oldHeight){f._oldHeight=e}if(f._resizeTimer){clearTimeout(f._resizeTimer)}var d=b.browser.msie?10:1;f._resizeTimer=setTimeout(function(){if(g!=f._oldWidth||k==true){f._arrange();f._updatecolumnwidths();f._updatecellwidths();f._renderrows(f.virtualsizeinfo)}if(e!=f._oldHeight||h==true){var n=f.groupable&&f.groups.length>0;var l=f.vScrollBar.css("visibility")!="visible";if(!n){f._arrange();f.virtualsizeinfo=f._calculatevirtualheight();if(parseInt(e)>=parseInt(f._oldHeight)){f.prerenderrequired=true}f._renderrows(f.virtualsizeinfo)}else{if(value>=oldvalue){f._render(true,false,false)}else{f.rendergridcontent(true,false)}}if(l&&f.vScrollBar.css("visibility")=="visible"){f._arrange();f._updatecolumnwidths();f._updatecellwidths()}}f._oldWidth=g;f._oldHeight=e},d)},_fieldsmapping:function(){if(this.pagerHeight){this._mapField("pagerHeight",this.pagerHeight)}if(this.groupsHeaderHeight){this._mapField("groupsHeaderHeight",this.groupsHeaderHeight)}if(this.pageSize){this._mapField("pageSize",this.pageSize)}if(this.pagerHeight){this._mapField("pagerHeight",this.pagerHeight)}if(this.pageSizeOptions){this._mapField("pageSizeOptions",this.pageSizeOptions)}if(this.rowsHeight){this._mapField("rowsHeight",this.rowsHeight)}if(this.columnsHeight){this._mapField("columnsHeight",this.columnsHeight)}if(this.groupIndentWidth){this._mapField("groupIndentWidth",this.groupIndentWidth)}if(this.rowDetails){this._mapField("rowDetails",this.rowDetails)}if(this.enableRowDetailsIndent){this._mapField("enableRowDetailsIndent",this.enableRowDetailsIndent)}if(this.enableMouseWheel){this._mapField("enableMouseWheel",this.enableMouseWheel)}if(this.initRowDetails){this._mapField("initRowDetails",this.initRowDetails)}if(this.editMode){this._mapField("editMode",this.editMode)}if(this.autoShowFilterIcon){this._mapField("autoShowFilterIcon",this.autoShowFilterIcon)}if(this.showFilterColumnBackground){this._mapField("showFilterColumnBackground",this.showFilterColumnBackground)}if(this.showPinnedColumnBackground){this._mapField("showPinnedColumnBackground",this.showPinnedColumnBackground)}if(this.showSortColumnBackground){this._mapField("showSortColumnBackground",this.showSortColumnBackground)}if(this.altRows){this._mapField("altRows",this.altRows)}if(this.altStart){this._mapField("altStart",this.altStart)}if(this.altStep){this._mapField("altStep",this.altStep)}if(this.showRowDetailsColumn){this._mapField("showRowDetailsColumn",this.showRowDetailsColumn)}if(this.groupsRenderer){this._mapField("groupsRenderer",this.groupsRenderer)}if(this.groupColumnRenderer){this._mapField("groupColumnRenderer",this.groupColumnRenderer)}if(this.groupsExpandedByDefault){this._mapField("groupsExpandedByDefault",this.groupsExpandedByDefault)}if(this.pagerRenderer){this._mapField("pagerRenderer",this.pagerRenderer)}if(this.updateDelay){this._mapField("updateDelay",this.updateDelay)}if(this.autoHeight){this._mapField("autoHeight",this.autoHeight)}if(this.showHeader){this._mapField("showHeader",this.showHeader)}if(this.showGroupsHeader){this._mapField("showGroupsHeader",this.showGroupsHeader)}if(this.closeableGroups){this._mapField("closeableGroups",this.closeableGroups)}if(this.scrollbarSize){this._mapField("scrollbarSize",this.scrollbarSize)}if(this.virtualMode){this._mapField("virtualMode",this.virtualMode)}if(this.columnsMenu){this._mapField("columnsMenu",this.columnsMenu)}if(this.columnsResize){this._mapField("columnsResize",this.columnsResize)}if(this.columnsMenuWidth){this._mapField("columnsMenuWidth",this.columnsMenuWidth)}if(this.sortToggleStates){this._mapField("sortToggleStates",this.sortToggleStates)}if(this.renderGridRows){this._mapField("renderGridRows",this.renderGridRows)}if(this.enableAnimations){this._mapField("enableAnimations",this.enableAnimations)}if(this.enableTooltips){this._mapField("enableTooltips",this.enableTooltips)}if(this.selectionMode){this._mapField("selectionMode",this.selectionMode)}if(this.enableHover){this._mapField("enableHover",this.enableHover)}if(this.loadingErrorMessage){this._mapField("loadingErrorMessage",this.loadingErrorMessage)}if(this.verticalScrollBarStep){this._mapField("verticalScrollBarStep",this.verticalScrollBarStep)}if(this.verticalScrollBarLargeStep){this._mapField("verticalScrollBarLargeStep",this.verticalScrollBarLargeStep)}if(this.horizontalScrollBarStep){this._mapField("horizontalScrollBarStep",this.horizontalScrollBarStep)}if(this.horizontalScrollbarLargeStep){this._mapField("horizontalScrollbarLargeStep",this.horizontalScrollbarLargeStep)}if(this.keyboardNavigation){this._mapField("keyboardNavigation",this.keyboardNavigation)}},_mapField:function(d,e){if(d==null){return false}this[d.toLowerCase()]=e},getTouches:function(d){if(d.originalEvent){if(d.originalEvent.touches&&d.originalEvent.touches.length){return d.originalEvent.touches}else{if(d.originalEvent.changedTouches&&d.originalEvent.changedTouches.length){return d.originalEvent.changedTouches}}}if(!d.touches){d.touches=new Array();d.touches[0]=d.originalEvent}return d.touches},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var d=b.jqx.mobile.isTouchDevice();this.touchDevice=d;if(this.touchmode==true){d=true;b.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=d}else{if(this.touchmode==false){d=false}}return d},toTP:function(d){return this.toThemeProperty(d)},localizestrings:function(d){this._cellscache=new Array();if(b.jqx.dataFormat){b.jqx.dataFormat.cleardatescache()}if(this._loading){alert(this.loadingerrormessage);return false}if(d!=null){if(d.pagergotopagestring){this.gridlocalization.pagergotopagestring=d.pagergotopagestring}if(d.pagershowrowsstring){this.gridlocalization.pagershowrowsstring=d.pagershowrowsstring}if(d.pagerrangestring){this.gridlocalization.pagerrangestring=d.pagerrangestring}if(d.pagernextbuttonstring){this.gridlocalization.pagernextbuttonstring=d.pagernextbuttonstring}if(d.pagerpreviousbuttonstring){this.gridlocalization.pagerpreviousbuttonstring=d.pagerpreviousbuttonstring}if(d.groupsheaderstring){this.gridlocalization.groupsheaderstring=d.groupsheaderstring}if(d.sortascendingstring){this.gridlocalization.sortascendingstring=d.sortascendingstring}if(d.sortdescendingstring){this.gridlocalization.sortdescendingstring=d.sortdescendingstring}if(d.sortremovestring){this.gridlocalization.sortremovestring=d.sortremovestring}if(d.groupbystring){this.gridlocalization.groupbystring=d.groupbystring}if(d.groupremovestring){this.gridlocalization.groupremovestring=d.groupremovestring}if(d.firstDay){this.gridlocalization.firstDay=d.firstDay}if(d.days){this.gridlocalization.days=d.days}if(d.months){this.gridlocalization.months=d.months}if(d.AM){this.gridlocalization.AM=d.AM}if(d.PM){this.gridlocalization.PM=d.PM}if(d.patterns){this.gridlocalization.patterns=d.patterns}if(d.percentsymbol){this.gridlocalization.percentsymbol=d.percentsymbol}if(d.currencysymbol){this.gridlocalization.currencysymbol=d.currencysymbol}if(d.currencysymbolposition){this.gridlocalization.currencysymbolposition=d.currencysymbolposition}if(d.decimalseparator){this.gridlocalization.decimalseparator=d.decimalseparator}if(d.thousandsseparator){this.gridlocalization.thousandsseparator=d.thousandsseparator}if(d.filterclearstring){this.gridlocalization.filterclearstring=d.filterclearstring}if(d.filterstring){this.gridlocalization.filterstring=d.filterstring}if(d.filtershowrowstring){this.gridlocalization.filtershowrowstring=d.filtershowrowstring}if(d.filterorconditionstring){this.gridlocalization.filterorconditionstring=d.filterorconditionstring}if(d.filterandconditionstring){this.gridlocalization.filterandconditionstring=d.filterandconditionstring}if(d.filterstringcomparisonoperators){this.gridlocalization.filterstringcomparisonoperators=d.filterstringcomparisonoperators}if(d.filternumericcomparisonoperators){this.gridlocalization.filternumericcomparisonoperators=d.filternumericcomparisonoperators}if(d.filterdatecomparisonoperators){this.gridlocalization.filterdatecomparisonoperators=d.filterdatecomparisonoperators}if(d.filterbooleancomparisonoperators){this.gridlocalization.filterbooleancomparisonoperators=d.filterbooleancomparisonoperators}if(this._initpager){this._initpager()}if(this._initgroupsheader){this._initgroupsheader()}if(this._initmenu){this._initmenu()}if(d.validationstring){this.gridlocalization.validationstring=d.validationstring}this._renderrows(this.virtualsizeinfo)}else{this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filterorconditionstring:"Or",filterandconditionstring:"And",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid"}}},_initmenu:function(){var t=this;if(this.host.jqxMenu){if(this.gridmenu){this.gridmenu.jqxMenu("destroy");this.gridmenu.remove()}this.menuitemsarray=new Array();this.gridmenu=b('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>');this.host.append(this.gridmenu);var y=b("<ul></ul>");var h='<div class="jqx-grid-sortasc-icon"></div>';var v=b("<li>"+h+this.gridlocalization.sortascendingstring+"</li>");var B='<div class="jqx-grid-sortdesc-icon"></div>';var z=b("<li>"+B+this.gridlocalization.sortdescendingstring+"</li>");var p='<div class="jqx-grid-sortremove-icon"></div>';var l=b("<li>"+p+this.gridlocalization.sortremovestring+"</li>");var k='<div class="jqx-grid-groupby-icon"></div>';var s=b("<li>"+k+this.gridlocalization.groupbystring+"</li>");var f=b("<li>"+k+this.gridlocalization.groupremovestring+"</li>");var d=b('<li type="separator"></li>');var w=b('<li class="filter" style="height: 170px;" ignoretheme="true"><div class="filter"></div></li>');var o=this.gridlocalization.sortascendingstring.length;var u=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>o){o=this.gridlocalization.sortdescendingstring.length;u=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>o){o=this.gridlocalization.sortremovestring.length;u=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader){if(this.gridlocalization.groupbystring.length>o){o=this.gridlocalization.groupbystring.length;u=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>o){o=this.gridlocalization.groupremovestring.length;u=this.gridlocalization.groupremovestring}}var A=200;u=b.trim(u).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var g=b("<span>"+u+"</span>");this.host.append(g);A=g.outerWidth()+60;g.remove();var e=0;if(this.sortable&&this._togglesort){y.append(v);this.menuitemsarray[0]=v[0];y.append(z);this.menuitemsarray[1]=z[0];y.append(l);this.menuitemsarray[2]=l[0];e=3}if(this.groupable&&this._initgroupsheader){y.append(s);this.menuitemsarray[3]=s[0];y.append(f);this.menuitemsarray[4]=f[0];e+=2}var n=e*27+3;var r=true;if(this.filterable){if(this._initfilterpanel){this.menuitemsarray[5]=w[0];this.menuitemsarray[6]=w[0];y.append(d);y.append(w);n+=176;var q=b(w).find("div:first");A+=20;this._initfilterpanel(this,q,"",A);r=false;this.removeHandler(b(document),"click.menu"+t.element.id,t._closemenuafterclick,t);this.addHandler(b(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}else{alert("jqxgrid.filter.js is not loaded.")}}this.gridmenu.append(y);if(b.browser.msie&&b.browser.version<8&&this.filterable){b("#listBoxfilter1"+this.element.id).css("z-index",4990);b("#listBoxfilter2"+this.element.id).css("z-index",4990);b("#listBoxfilter3"+this.element.id).css("z-index",4990);b("#gridmenu"+this.element.id).css("z-index",5000);b("#gridmenu"+this.element.id).bind("initialized",function(){b("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})}if(this.menuitemsarray[0]==undefined){n=65}this.addHandler(this.gridmenu,"keydown",function(D){if(D.keyCode==27){t.gridmenu.jqxMenu("close")}else{if(D.keyCode==13&&t.filterable){var C=b.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close");t._buildfilter(t,w,C)}}});this.gridmenu.jqxMenu({width:A,height:n,autoCloseOnClick:r,autoOpenPopup:false,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});if(this.filterable){this.gridmenu.jqxMenu("_setItemProperty",w[0].id,"closeOnClick",false)}this._handlemenueevents()}else{this.columnsmenu=false}},_closemenuafterclick:function(g){var f=g!=null?g.data:this;var h=false;if(g.target.className.indexOf("filter")!=-1){return}if(g.target.className.indexOf("jqx-grid-cell")!=-1){f.gridmenu.jqxMenu("close");return}var e=f.host.offset();var d=g.pageX;var k=g.pageY;b.each(b(g.target).parents(),function(){if(this.id!=null&&this.id.indexOf("filter")!=-1){h=true;return false}if(this.className.indexOf("filter")!=-1){h=true;return false}if(this.className.indexOf("jqx-grid-cell")!=-1){f.gridmenu.jqxMenu("close");return false}if(this.className.indexOf("jqx-grid-column")!=-1){f.gridmenu.jqxMenu("close");return false}});if(h){return}f.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var d=this;this.removeHandler(this.gridmenu,"closed");this.addHandler(this.gridmenu,"closed",function(e){d._closemenu()});this.removeHandler(this.gridmenu,"itemclick");this.addHandler(this.gridmenu,"itemclick",function(g){var f=g.args;for(i=0;i<d.menuitemsarray.length;i++){var h=d.menuitemsarray[i];if(f==h){if(b(f).attr("ignoretheme")!=undefined){return}var k=b.data(document.body,"contextmenu"+d.element.id);var e=k.column;if(d.filterable){d.gridmenu.jqxMenu("close")}if(k!=null){switch(i){case 0:d.sortby(e.datafield,"ascending",null);break;case 1:d.sortby(e.datafield,"descending",null);break;case 2:d.sortby(e.datafield,null,null);break;case 3:d.addgroup(e.datafield);break;case 4:d.removegroup(e.datafield);break;case 5:var l=b(d.menuitemsarray[6]);b(l).css("display","block");break;case 7:break}}break}}})},getdatainformation:function(){return{rowscount:this.dataview.totalrecords,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows();this._updaterowheights();this._updaterowdetails()},_updatehiddenrows:function(){var e=this;this.hiddens=new Array();var d=this.hiddenboundrows;b.each(d,function(g){if(this.index!=undefined){var f=this.index;var h=e.getrowvisibleindex(g);e.hiddens[h]=this.hidden}})},_updaterowheights:function(){var e=this;this.heights=new Array();var d=this.heightboundrows;b.each(d,function(g){if(this.index!=undefined){var f=this.index;var h=e.getrowvisibleindex(g);e.heights[h]=this.height}})},_updaterowdetails:function(){var d=this;this.details=new Array();var e=this.detailboundrows;b.each(e,function(g){if(this.index!=undefined){var f=this.index;var h=d.getrowvisibleindex(g);d.details[h]=this.details}})},_getmenuitembyindex:function(d){if(d==undefined){return null}return this.menuitemsarray[d]},_closemenu:function(){if(this._hasOpenedMenu){if(this.gridmenu!=null){this.gridmenu.jqxMenu("close")}var g=b.data(document.body,"contextmenu"+this.element.id);var e=16;if(g!=null){if(this.enableanimations){b(g.columnsmenu).animate({"margin-left":0},"fast",function(){b(g.columnsmenu).css("display","none")});g.column.iconscontainer.animate({"margin-left":-32},"fast")}else{b(g.columnsmenu).css("display","none");g.column.iconscontainer.css("margin-left",-32)}b.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=false;var k=this._getmenuitembyindex(5);if(k){var h=b(k).find("#filter1"+this.element.id);var d=b(k).find("#filter2"+this.element.id);var f=b(k).find("#filter3"+this.element.id);h.jqxDropDownList("hideListBox");d.jqxDropDownList("hideListBox");f.jqxDropDownList("hideListBox")}}},scrolloffset:function(e,d){if(e==null||d==null||e==undefined||d==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",e);this.hScrollBar.jqxScrollBar("setPosition",d)},scrollleft:function(d){if(d==null||d==undefined){return}this.hScrollBar.jqxScrollBar("setPosition",d)},scrolltop:function(d){if(d==null||d==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",d)},beginupdate:function(){this._updating=true;this._datachanged=false},endupdate:function(){this.resumeupdate()},resumeupdate:function(){this._updating=false;if(this._datachanged==true){this.render(true,true,false);this._datachanged=false}else{this.rendergridcontent(true);this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},databind:function(e){b(this.dataloadelement).css("visibility","visible");b(this.dataloadelement).css("display","block");if(!this._initgroupsheader&&this.groups.length>0){this.groups=new Array()}var d=this;if(e==null){e=new Array()}if(!e.recordstartindex){e.recordstartindex=0}if(!e.recordendindex){e.recordendindex=0}if(e.loadallrecords==undefined||e.loadallrecords==null){e.loadallrecords=true}if(e.sortcomparer==undefined||e.sortcomparer==null){e.sortcomparer=null}if(e.filter==undefined||e.filter==null){e.filter=null}if(e.sort==undefined||e.sort==null){e.sort=null}if(e.data==undefined||e.data==null){e.data=null}this.dataview=this.dataview||new b.jqx.dataview();if(b.jqx.dataview.sort){b.extend(this.dataview,new b.jqx.dataview.sort())}if(b.jqx.dataview.grouping){b.extend(this.dataview,new b.jqx.dataview.grouping())}this.dataview.suspendupdate();this.dataview.pageable=this.pageable;this.dataview.groupable=this.groupable;this.dataview.groups=this.groups;this.dataview.virtualmode=this.virtualmode;this.dataview.grid=this;this._loading=true;this.dataview.update=function(){d._loading=false;if(d.dataview.isupdating()){d.dataview.resumeupdate(false)}if(d.pageable&&d.pagerrenderer){if(d._initpager){d._initpager()}else{alert("jqxgrid.pager.js is not loaded.")}}if(d.source.sortcolumn&&d.sortby){d.render();d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer);d.source.sortcolumn=null}else{var g=d.source.datatype;if(g!="local"||g!="array"){var h=d.virtualsizeinfo==null||(d.virtualsizeinfo!=null&&d.virtualsizeinfo.virtualheight==0);if(!d.virtualmode||d.pageable||h){d.render()}else{d._pagescache=new Array();d._renderrows(d.virtualsizeinfo)}}}b(d.dataloadelement).css("visibility","hidden");b(d.dataloadelement).css("display","none");d._raiseEvent(11);if(!d.initializedcall){d._raiseEvent(0);if(d.isTouchDevice()){d.enablehover=false;b.jqx.mobile.touchScroll(d.gridcontent[0],d.vScrollInstance.max,function(n,l){if(d.vScrollBar.css("visibility")=="visible"){var k=d.vScrollInstance.value;d.vScrollInstance.setPosition(k+l)}if(d.hScrollBar.css("visibility")=="visible"){var k=d.hScrollInstance.value;d.hScrollInstance.setPosition(k+n)}d._lastScroll=new Date()})}d.initializedcall=true;if(d.ready){d.ready()}if((d.width!=null&&d.width.toString().indexOf("%")!=-1)||(d.height!=null&&d.height.toString().indexOf("%")!=-1)){d._updatesize(true)}if(d.host.css("visibility")=="hidden"){var f=b.browser.msie&&b.browser.version<8;if(d.vScrollBar.css("visibility")=="visible"){d.vScrollBar.css("visibility","inherit")}if(d.hScrollBar.css("visibility")=="visible"){d.hScrollBar.css("visibility","inherit")}d._intervalTimer=setInterval(function(){if(d.host.css("visibility")=="visible"){d._updatesize(true);clearInterval(d._intervalTimer)}},100)}}};this.dataview.databind(e);if(this.dataview.isupdating()){this.dataview.resumeupdate(false)}this._initializeRows()},scrollto:function(e,d){if(undefined!=e){this.hScrollInstance.setPosition(e)}if(undefined!=d){this.vScrollInstance.setPosition(d)}},ensurerowvisible:function(g){var e=this._getpagesize();var f=Math.floor(g/e);if(!this._pageviews[f]&&!this.pageable){this._updatepageviews()}var o=false;if(this.pageable&&this.gotopage){if(this.dataview.pagenum!=f){this.gotopage(f);o=true}}var l=this.vScrollInstance.value;var n=this._gettableheight()-this.rowsheight;var d=e*(g/e-f);d=Math.round(d);if(this._pageviews[f]){var k=this._pageviews[f].top;var h=k+d*this.rowsheight;if(this.rowdetails){for(i=e*f;i<g;i++){if(this.details[i].rowdetailshidden==false){h+=this.details[i].rowdetailsheight}}}if(h<l){this.scrollto(0,h);o=true}else{if(h>l+n+2){this.scrollto(0,h-n);o=true}}}else{if(this.pageable){var h=d*this.rowsheight;if(this.rowdetails){for(i=e*f;i<e*f+d;i++){if(this.details[i].rowdetailshidden==false){h+=this.details[i].rowdetailsheight}}}if(h<l||h>l+n){this.scrollto(0,h);o=true}}}return o},ensurecellvisible:function(g,d){var o=this.ensurerowvisible(g);var e=0;var n=this;if(this.columns.records){var k=this.hScrollBar.jqxScrollBar("value");var l=this.host.width();var h=0;var f=this.vScrollBar.css("visibility")=="visible"?20:0;b.each(this.columns.records,function(){if(this.datafield==d){var p=0;if(e+this.width>k+l-f){p=e+this.width-k-l+f;n.scrollleft(p+k);o=true}else{if(e<k){p=k-e;n.scrollleft(p);o=true}}if(h==0){n.scrollleft(0);o=true}else{if(h==n.columns.records.length-1){if(n.hScrollBar.css("visibility")=="visible"){n.scrollleft(n.hScrollBar.jqxScrollBar("max"));o=true}}}return false}h++;e+=this.width})}return o},setrowheight:function(e,d){if(this._loading){alert(this.loadingerrormessage);return false}if(e==null||d==null){return false}this.heightboundrows[e]={index:e,height:d};e=this.getrowvisibleindex(e);if(e<0){return false}if(this.rows.records[e]){this.rows.records[e].height=d}else{row=new a(this,null);row.height=d;this.rows.replace(e,row)}this.heights[e]=d;this.rendergridcontent(true);return true},getrowheight:function(d){if(d==null){return null}d=this.getrowvisibleindex(d);if(d<0){return false}if(this.rows.records[d]){return this.rows.records[d].height}},setrowdetails:function(e,f,d,h){if(e==undefined||e==null||e<0){return}var g=this.dataview.generatekey();this.detailboundrows[e]={index:e,details:{rowdetails:f,rowdetailsheight:d,rowdetailshidden:h,key:g}};e=this.getrowvisibleindex(e);if(e<0){return false}return this._setrowdetails(e,f,d,h,g)},getcolumn:function(d){var e=null;if(this.columns.records){b.each(this.columns.records,function(){if(this.datafield==d){e=this;return false}})}return e},_getcolumnindex:function(e){var d=-1;if(this.columns.records){b.each(this.columns.records,function(){d++;if(this.datafield==e){return false}})}return d},_getcolumnat:function(d){var e=this.columns.records[d];return e},getcolumnat:function(d){if(!isNaN(d)){var e=this.columns.records[d];return e}return null},_getcolumn:function(d){var e=null;b.each(this._columns,function(){if(this.datafield==d||this.dataField==d){e=this;return false}});return e},_setcolumnproperty:function(e,g,h){if(e==null||g==null||h==null){return null}var f=this.getcolumn(e);if(f==null){return}f[g]=h;var d=this._getcolumn(e);if(d!=null){d[g]=h}switch(g){case"text":this.prerenderrequired=true;this._rendercolumnheaders();if(this._groupsheader()){if(this._initgroupsheader){this._initgroupsheader()}}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"resizable":case"filterable":case"editable":case"cellclass":case"class":this.prerenderrequired=true;this.rendergridcontent(true);this._renderrows(this.virtualsizeinfo);break;case"width":case"minwidth":case"maxwidth":this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);break}},_getcolumnproperty:function(d,f){if(d==null||f==null){return null}var e=this.getcolumn(d);return e[f]},setcolumncontenttype:function(e,d){this._setcolumnproperty(e,"contenttype",d)},setcolumntext:function(d,e){this._setcolumnproperty(d,"text",e)},getcolumntext:function(d){return this._getcolumnproperty(d,"text")},setcolumncellsformat:function(d,e){this._setcolumnproperty(d,"cellsformat",e)},getcolumncellsformat:function(d){return this._getcolumnproperty(d,"cellsformat")},getcolumncontenttype:function(d){return this._getcolumnproperty(d,"contenttype")},hidecolumn:function(d){this._setcolumnproperty(d,"hidden",true)},showcolumn:function(d){this._setcolumnproperty(d,"hidden",false)},iscolumnvisible:function(d){return !this._getcolumnproperty(d,"hidden")},setcolumnhideable:function(d,e){this._setcolumnproperty(d,"hideable",e)},iscolumnhideable:function(d){return this._getcolumnproperty(d,"hideable")},setcolumnrenderer:function(d,e){this._setcolumnproperty(d,"renderer",e)},setcolumncellsrenderer:function(d,e){this._setcolumnproperty(d,"cellsrenderer",e)},setcolumnalign:function(d,e){this._setcolumnproperty(d,"align",e)},getcolumnalign:function(d){return this._getcolumnproperty(d,"align")},setcolumncellsalign:function(d,e){this._setcolumnproperty(d,"cellsalign",e)},getcolumncellsalign:function(d){return this._getcolumnproperty(d,"cellsalign")},setcolumnwidth:function(d,f){if(f!=undefined){var e=parseInt(f);this._setcolumnproperty(d,"width",e)}},getcolumnwidth:function(d){return this._getcolumnproperty(d,"width")},pincolumn:function(d){this._setcolumnproperty(d,"pinned",true)},unpincolumn:function(d){this._setcolumnproperty(d,"pinned",false)},iscolumnpinned:function(d){return this._getcolumnproperty(d,"pinned")},_setrowdetails:function(h,d,o,g,e){if(o==0){o=100}if(h==null||o==null){return false}if(e!=null){this.details[h]={rowdetails:d,rowdetailsheight:o,rowdetailshidden:g,detailskey:e}}else{var n=this.details[h]!=null?this.details[h].detailskey:null;var l={rowdetails:d,rowdetailsheight:o,rowdetailshidden:g,detailskey:n};var k=this;for(i=0;i<this.detailboundrows.length;i++){if(this.detailboundrows[i]!=undefined){var f=this.detailboundrows[i];if(f.details.key==n){f.details.rowdetailsheight=l.rowdetailsheight;f.details.rowdetailshidden=l.rowdetailshidden;f.details.rowdetails=l.rowdetails;break}}}this.details[h]=l}this.rendergridcontent(true);return true},getrowdetails:function(d){if(d==null){return false}d=this.getrowvisibleindex(d);return this._getrowdetails(d)},_getrowdetails:function(d){if(d==null){return false}if(d<0){return false}if(this.details[d]){return this.details[d]}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(d){if(this._loading){alert(this.loadingerrormessage);return false}if(d==null){return false}d=this.getrowvisibleindex(d);if(d<0){return false}var e=this._getrowdetails(d);return this._setrowdetailsvisibility(d,e,false)},hiderowdetails:function(d){if(this._loading){alert(this.loadingerrormessage);return false}d=this.getrowvisibleindex(d);if(d<0){return false}var e=this._getrowdetails(d);return this._setrowdetailsvisibility(d,e,true)},_togglerowdetails:function(g){var d=g.visibleindex;var e=this._getrowdetails(d);if(e!=null){var f=!e.rowdetailshidden;return this._setrowdetailsvisibility(d,e,f)}return false},_setrowdetailsvisibility:function(e,f,g){if(f!=null){this.details[e].rowdetailshidden=g}else{return false}var d=this.details[e];if(g){this._raiseEvent(21,{rowindex:e,details:d.rowdetails,height:d.rowdetailsheight})}else{this._raiseEvent(20,{rowindex:e,details:d.rowdetails,height:d.rowdetailsheight})}return this._setrowdetails(e,d.rowdetails,d.rowdetailsheight,d.rowdetailshidden)},getrowvisibleindex:function(d){if(d==undefined||d==null||d<0){return false}if(this.virtualmode){var e=this.dataview.loadedrecords[d];if(e==undefined){return -1}return e.visibleindex}var e=this.dataview.bounditems[d];if(e==undefined){return -1}return e.visibleindex},hiderow:function(d){if(this._loading){alert(this.loadingerrormessage);return false}if(d==undefined||d==null||d<0){return false}if(d==null){return false}this.hiddenboundrows[d]={index:d,hidden:true};d=this.getrowvisibleindex(d);return this._setrowvisibility(d,true)},showrow:function(d){if(this._loading){alert(this.loadingerrormessage);return false}if(d==undefined||d==null||d<0){return false}if(d==null){return false}this.hiddenboundrows[d]={index:d,hidden:false};d=this.getrowvisibleindex(d);return this._setrowvisibility(d,false)},isrowhiddenat:function(d){if(d==null){return null}d=this.getrowvisibleindex(d);if(this.rows.records[d]){return this.rows.records[d].hidden}},_setrowvisibility:function(d,f,e){if(d==null){return false}this.hiddens[d]=f;if(e==undefined||e){this.rendergridcontent(true);return true}return false},_loadrows:function(){if(!this._pageviews[this.dataview.pagenum]&&!this.pageable){return}var q=!this.pageable?this._pageviews[this.dataview.pagenum].top:0;if(!this.pageable&&this._pagescache[this.dataview.pagenum]!=undefined){return null}if(!this.virtualsizeinfo){return}var u=this;var l=new Array();var r=new Array();var e=u.groupable&&u.groups.length>0;var h=this.dataview.totalrecords;var p=this.virtualsizeinfo.virtualheight;var t=0;this.rows.beginupdate();var f=this.dataview.pagesize;if(this.pageable&&e){f=this.dataview.rows.length}for(i=0;i<f;i++){if(i>=this.dataview.rows.length){break}var k=this.dataview.rows[i];var v=null;if(!u.rows.records[k.visibleindex]){v=new a(u,k)}else{v=u.rows.records[k.visibleindex];v.setdata(k)}v.hidden=this.hiddens[v.visibleindex];var d=this.details[v.visibleindex];if(d){v.rowdetails=d.rowdetails;v.rowdetailsheight=d.rowdetailsheight;v.rowdetailshidden=d.rowdetailshidden}else{v.rowdetails=null}if(e&&this.pageable&&v.parentbounddata!=null){var s=l[v.parentbounddata.uniqueid];if(s!=null){var o=this._findgroupstate(s.uniqueid);if(this._setsubgroupsvisibility){this._setsubgroupsvisibility(this,v.parentbounddata,!o,false)}v.hidden=this.hiddens[v.visibleindex]}if(s!=null&&s!=undefined){v.parentrow=s;s.subrows[s.subrows.length++]=v}}if(v.hidden){continue}var g=k.visibleindex;if(!this.heights[g]){this.heights[g]=this.rowsheight}v.height=this.heights[g];if(this.rowdetails){if(v.rowdetails&&!v.rowdetailshidden){v.height+=v.rowdetailsheight}}l[v.uniqueid]=v;r[t++]=v;v.top=q;q+=v.height;var n=g;u.rows.replace(n,v)}this.rows.resumeupdate();if(r.length>0){this._pagescache[this.dataview.pagenum]=r}},_gettableheight:function(){if(this.tableheight!=undefined){return this.tableheight}var e=this.host.height();if(this.columnsheader){var d=this.columnsheader.outerHeight();if(!this.showheader){d=0}}e-=d;if(this.hScrollBar.css("visibility")=="visible"){e-=this.hScrollBar.outerHeight()}if(this.pageable){e-=this.pager.outerHeight()}if(this._groupsheader()){e-=this.groupsheader.outerHeight()}if(e>0){this.tableheight=e;return e}return this.host.height()},_getpagesize:function(){if(this.pageable){return this.pagesize}if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight;var d=Math.round(e/this.rowsheight);return d}if(this.autoheight){return this.dataview.totalrows}if(this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0){return this.dataview.totalrows}return 100},_calculatevirtualheight:function(){var p=this;var e=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var r=Math.round(e/this.rowsheight);this.heights=new Array();this.hiddens=new Array();this.details=new Array();this.expandedgroups=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();var h=Math.max(this.dataview.totalrows,this.dataview.totalrecords);if(this.pageable){h=this.pagesize}var n=h*this.rowsheight;var o=0;var k=0;var l=0;var f=this._getpagesize();var d=f*this.rowsheight;var g=0;while(g<=h+f){o+=d;if(g-f<h&&g>=h){var q=g-h;if(q>0){l-=d;this._pageviews[k-1]={top:l,height:d-q*this.rowsheight}}break}else{this._pageviews[k++]={top:l,height:d}}l=o;g+=f}this.vScrollBar.jqxScrollBar({value:0});if(n>realheight&&!this.autoheight){this.vScrollBar.css("visibility","visible");this.vScrollBar.jqxScrollBar({max:n-realheight})}else{this.vScrollBar.css("visibility","hidden")}this.dataview.pagesize=f;this.dataview.updateview();return{visiblerecords:r,virtualheight:n}},_updatepageviews:function(){if(this.updating()){return}this._pagescache=new Array();this._pageviews=new Array();this.tableheight=null;var u=this;var d=Math.round(this.host.height())+2*this.rowsheight;var v=Math.round(d/this.rowsheight);var n=Math.max(this.dataview.totalrows,this.dataview.totalrecords);var q=n*this.rowsheight;var t=0;var f=0;var o=0;var p=0;var h=0;var g=this._getpagesize();if(!this.pageable){for(i=0;i<n;i++){var s={index:i,height:this.heights[i],hidden:this.hiddens[i],details:this.details[i]};if(this.heights[i]==undefined){this.heights[i]=this.rowsheight;s.height=this.rowsheight}if(this.hiddens[i]==undefined){this.hiddens[i]=false;s.hidden=false}if(this.details[i]==undefined){this.details[i]=null}if(s.height!=u.rowsheight){q-=u.rowsheight;q+=s.height}if(s.hidden){q-=s.height}else{f+=s.height;var l=0;if(this.rowdetails){if(s.details&&s.details.rowdetails&&!s.details.rowdetailshidden){l=s.details.rowdetailsheight;f+=l;q+=l}}t+=s.height+l}h++;if(h>=g||i==n-1){this._pageviews[o++]={top:p,height:f};f=0;p=t;h=0}}}else{if(this._updatepagedview){q=this._updatepagedview(n,q,0)}if(this.autoheight){this._arrange()}}var e=this._gettableheight();if(q>e){if(this.pageable&&this.gotopage){q=this._pageviews[0].height;if(q<0){q=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(q<=e||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(q-e>0){var r=q-e;this.vScrollBar.jqxScrollBar({max:r})}else{this.vScrollBar.jqxScrollBar({value:0,max:q})}}else{this.vScrollBar.css("visibility","hidden");this.vScrollBar.jqxScrollBar({value:0})}this._arrange();if(this.autoheight){v=Math.round(this.host.height()/this.rowsheight)}this.virtualsizeinfo={visiblerecords:v,virtualheight:q}},updatebounddata:function(){this.databind(this.source)},refreshdata:function(){this._refreshdataview();this.render()},_refreshdataview:function(){this.dataview.refresh()},refresh:function(d){if(d!=true){if(this.virtualsizeinfo!=null){this._renderrows(this.virtualsizeinfo);this._updatesize()}}},render:function(){this._render(true,true,true)},clear:function(){this.databind(null);this.render()},_render:function(e,f,d){if(this.dataview==null){return}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,false)}this._removeHandlers();this._addHandlers();this._initializeRows();this._requiresupdate=f!=undefined?f:true;if(d){if(!this._requiresupdate){this._initmenu()}if(this.columns==null){this.columns=new b.jqx.collection(this.element)}else{this._initializeColumns()}}this.tableheight=null;this._pagescache=new Array();this._pageviews=new Array();if(this._requiresupdate){this._clearcaches();this._initmenu()}this.virtualsizeinfo=null;this.prerenderrequired=true;if(d){this.content.html("");this.columnsheader=this.columnsheader||b('<div style="overflow: hidden;"></div>');this.columnsheader.remove();this.columnsheader.addClass(this.toTP("jqx-widget-header"));this.columnsheader.addClass(this.toTP("jqx-grid-header"))}else{if(this.gridcontent){this.gridcontent.html("")}}if(!this.showheader){this.columnsheader.css("display","none")}else{if(this.columnsheader){this.columnsheader.css("display","block")}}this.gridcontent=this.gridcontent||b('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');this.gridcontent.remove();this.columnsheader.height(this.columnsheight);this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._arrange();if(this._initgroupsheader){this._initgroupsheader()}this.selectionarea=this.selectionarea||b("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>");this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea"));this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.content.append(this.selectionarea);this.tableheight=null;this.rendergridcontent(false,d);if(this.groups.length>0&&this.groupable){this.suspendgroupevents=true;if(this.collapseallgroups){if(!this.groupsexpandedbydefault){this.collapseallgroups();this._updatescrollbarsafterrowsprerender()}else{this.expandallgroups()}}this.suspendgroupevents=false}if(this.pageable&&this.updatepagerdetails){this.updatepagerdetails();if(this.autoheight){this._updatepageviews()}}},rendergridcontent:function(d,f){if(this.updating()){return false}if(d==undefined||d==null){d=false}this._requiresupdate=d;var h=this.prerenderrequired;if(this.prerenderrequired){this._arrange()}var g=this;var f=f;if(f==null||f==undefined){f=true}this.tableheight=null;g.virtualsizeinfo=g.virtualsizeinfo||g._calculatevirtualheight();if(f){g._rendercolumnheaders()}else{if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}}g._renderrows(g.virtualsizeinfo);if(this.gridcontent[0].scrollTop!=0){this.gridcontent[0].scrollTop=0}if(this.gridcontent[0].scrollLeft!=0){this.gridcontent[0].scrollLeft=0}if(h){var e=this.tableheight;this._arrange();if(e!=this.tableheight&&this.autoheight){g._renderrows(g.virtualsizeinfo)}}return true},_updatecolumnwidths:function(){var g=this.host.width();var f="";if(this.columns==undefined||this.columns.records==undefined){return}b.each(this.columns.records,function(n,o){if(!(this.hidden&&this.hideable)){if(this.width!="auto"&&!this._width){g-=this.width}else{f+=this.text}}});var e=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>e){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var k=this.dataview.loadedrootgroups.length*this.rowsheight;if(k>e){g-=this.scrollbarsize+5}}else{g-=this.scrollbarsize+5}}else{g-=this.scrollbarsize+5}}var l=this.columnsheader.find("#columntable"+this.element.id);if(l.length==0){return}var d=l.find(".jqx-grid-column-header");var h=0;b.each(this.columns.records,function(n,q){var p=b(d[n]);if(this.width!="auto"&&!this._width){p.width(this.width)}else{var o=Math.round(g*(this.text.length/f.length));if(o<0){$element=b("<span>"+this.text+"</span>");b(document.body).append($element);o=10+$element.width();$element.remove()}if(o<this.minwidth){o=this.minwidth}if(o>this.maxwidth){o=this.maxwidth}this._width="auto";this.width=o;p.width(this.width)}p.css("left",h);if(!(this.hidden&&this.hideable)){h+=this.width}this._requirewidthupdate=true});this.columnsheader.width(2+h)},_rendercolumnheaders:function(){var t=this;if(!this.prerenderrequired){if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}return}this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var f=b('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');f[0].cells=new Array();var h=0;var g=0;var n="";var o=this.host.width();var s=new Array();var p=new Array();b.each(this.columns.records,function(k,u){if(!(this.hidden&&this.hideable)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){o-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){o-=this.maxwidth}else{o-=this.width}}}else{n+=this.text}}if(this.pinned){s[s.length]=this}else{p[p.length]=this}});for(i=0;i<s.length;i++){this.columns.replace(i,s[i])}for(j=0;j<p.length;j++){this.columns.replace(s.length+j,p[j])}var r=499;var d=t.groupable?t.groups.length:0;if(this.rowdetails&&this.showrowdetailscolumn){d++}var l=t.columnsheader.height();var e=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>e){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var q=this.dataview.loadedrootgroups.length*this.rowsheight;if(q>e){o-=this.scrollbarsize+5}}else{o-=this.scrollbarsize+5}}else{if(!this.autoheight){o-=this.scrollbarsize+5}}}b.each(this.columns.records,function(L,I){var w=b('<div style="position: absolute; height: 100%;"></div>');w.addClass(t.toTP("jqx-grid-column-header"));w.addClass(t.toTP("jqx-widget-header"));if(this.classname!=""&&this.classname){w.addClass(this.classname)}w.css("z-index",r--);var E=this.width;if(this.width!="auto"&&!this._width){if(E<this.minwidth&&this.minwidth!="auto"){E=this.minwidth}if(E>this.maxwidth&&this.maxwidth!="auto"){E=this.maxwidth}w.width(E)}else{var H=Math.round(o*(this.text.length/n.length));if(H<0){$element=b("<span>"+this.text+"</span>");b(document.body).append($element);H=10+$element.width();$element.remove()}if(H<this.minwidth){H=this.minwidth}if(H>this.maxwidth){H=this.maxwidth}this._width="auto";this.width=H;E=this.width;w.width(this.width)}if(this.hidden&&this.hideable){w.css("display","none")}var u=b('<div style="height: 100%; width: 100%;"></div>');var A=b('<div style="display: none; left: 100%; top: 0%; position: absolute;"></div>');var C=b('<div style="width: 100%; height:100%;"></div>');C.addClass(t.toTP("jqx-grid-column-menubutton"));C.appendTo(A);A.height(l);if(!t.enableanimations){A.css("margin-left",-16)}var F=b('<div class="sortasc" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');var G=b('<div class="sortdesc" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');var K=b('<div class="filtericon" style="float: right; display: none; width: 16px;"><div style="width: 100%; height:100%;"></div></div>');if(!t.autoshowfiltericon){K.css("display","block")}F.height(l);G.height(l);K.height(l);F.find("div").addClass(t.toTP("jqx-grid-column-sortascbutton"));G.find("div").addClass(t.toTP("jqx-grid-column-sortdescbutton"));K.find("div").addClass(t.toTP("jqx-grid-column-filterbutton"));this.sortasc=F[0];this.sortdesc=G[0];this.filtericon=K[0];this.columnsmenu=A[0];f[0].cells[L]=w[0];A.width(t.columnsmenuwidth);var z=t.columnsmenu;var v=false;var J=false;if((t.groupable&&d>0&&h<d)||(t.rowdetails&&h<d)){h++;z&=false;this.sortable=false;this.editable=false;J=true}else{var B=this.renderer!=null?this.renderer(this.text,this.align):t._rendercolumnheader(this.text,this.align);if(B==null){B=t._rendercolumnheader(this.text,this.align)}z&=true;v=true}u.append(B);if(B!=null){var D=b('<div class="iconscontainer" style="margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"></div>');A.addClass(t.toTP("jqx-widget-header"));D.height(l);u.append(D);D.append(K);D.append(F);D.append(G);G.addClass(t.toTP("jqx-widget-header"));F.addClass(t.toTP("jqx-widget-header"));K.addClass(t.toTP("jqx-widget-header"));this.iconscontainer=D}if(z){t._handlecolumnsmenu(t,u,w,A,this)}w.append(u);f.append(w);if(t.groupable&&v){w[0].id=t.dataview.generatekey();if(t._handlecolumnstogroupsdragdrop){t._handlecolumnstogroupsdragdrop(this,w)}else{alert("jqxgrid.grouping.js is not loaded")}}var M=this;t.addHandler(w,"click",function(N){if(t.sorttogglestates>0&&t._togglesort){t._togglesort(M)}N.preventDefault();t._raiseEvent(7,{column:M.getcolumnproperties(),datafield:M.datafield})});if(M.resizable&&t.columnsresize&&!J&&this._width!="auto"){var y=false;var k="mousemove";if(t.isTouchDevice()){y=true;k="touchstart"}t.addHandler(w,k,function(O){var N=parseInt(O.pageX);var Q=5;var S=parseInt(w.offset().left);if(t._handlecolumnsresize){if(y){var P=t.getTouches(O);var R=P[0];N=R.pageX;Q=40;if(N>=S+M.width-Q){t.resizablecolumn={columnelement:w,column:M};w.css("cursor","col-resize")}else{w.css("cursor","");t.resizablecolumn=null}return true}if(N>=S+M.width-Q){if(N<=S+M.width+Q){t.resizablecolumn={columnelement:w,column:M};w.css("cursor","col-resize");return false}}else{w.css("cursor","");t.resizablecolumn=null}}})}w.css("left",g);if(!(this.hidden&&this.hideable)){g+=E}});this.columnsheader.width(2+g);this.columnsrow=f;t.columnsheader.append(f);f.width(g);if(this._handlecolumnsdragdrop){this._handlecolumnsdragdrop()}if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this._handlecolumnsresize){this._handlecolumnsresize()}},_handlecolumnsmenu:function(q,e,f,h,n){q.dragmousedown=null;h[0].id=q.dataview.generatekey();e.append(h);f[0].columnsmenu=h[0];var l=16;var p=function(){if(!q.resizing){if(q.menuitemsarray.length>0){if(!q.enableanimations){h.css("display","block");n.iconscontainer.css("margin-left","-48px")}else{h.css("display","block");h.animate({"margin-left":-l},"fast");n.iconscontainer.animate({"margin-left":-48},"fast")}}}};q.addHandler(f,"mouseenter",function(r){p()});q.addHandler(f,"mouseleave",function(r){if(q.menuitemsarray.length>0){var s=b.data(document.body,"contextmenu"+q.element.id);if(s!=undefined&&h[0].id==s.columnsmenu.id){return}if(!q.enableanimations){h.css("display","none");n.iconscontainer.css("margin-left","-32px")}else{h.css("margin-left",-l);h.animate({"margin-left":0},"fast",function(){h.css("display","none")});n.iconscontainer.animate({"margin-left":-32},"fast")}}});var k=true;var d="";var g=b(n.filtericon);q.addHandler(h,"mousedown",function(r){k=!b.data(q.gridmenu[0],"contextMenuOpened"+q.gridmenu[0].id);d=b.data(document.body,"contextmenu"+q.element.id);if(d!=null){d=d.column.datafield}});q.addHandler(g,"mousedown",function(r){k=!b.data(q.gridmenu[0],"contextMenuOpened"+q.gridmenu[0].id);d=b.data(document.body,"contextmenu"+q.element.id);if(d!=null){d=d.column.datafield}});var o=function(){var u=h.offset();var A=h.height();if(!k){k=true;if(d==n.datafield){q._closemenu();return false}}if(q.host.width()>parseInt(u.left)+q.gridmenu.width()){q.gridmenu.jqxMenu("open",u.left,u.top+A)}else{q.gridmenu.jqxMenu("open",h.width()+u.left-q.gridmenu.width(),u.top+A)}q._hasOpenedMenu=true;var y=q._getmenuitembyindex(0);var r=q._getmenuitembyindex(1);var C=q._getmenuitembyindex(2);var z=q._getmenuitembyindex(3);var s=q._getmenuitembyindex(4);var D=q._getmenuitembyindex(5);if(y!=null&&r!=null&&C!=null){var v=n.sortable&&q.sortable;q.gridmenu.jqxMenu("disable",y.id,!v);q.gridmenu.jqxMenu("disable",r.id,!v);q.gridmenu.jqxMenu("disable",C.id,!v);if(n.datafield){if(q.sortcolumn==n.datafield){var w=q.getsortinformation();if(v){if(w.sortdirection.ascending){q.gridmenu.jqxMenu("disable",y.id,true)}else{q.gridmenu.jqxMenu("disable",r.id,true)}}}else{q.gridmenu.jqxMenu("disable",C.id,true)}}}if(z!=null&&s!=null){if(!q.groupable||!n.groupable){q.gridmenu.jqxMenu("disable",s.id,true);q.gridmenu.jqxMenu("disable",z.id,true)}else{if(q.groups&&q.groups.indexOf(n.datafield)!=-1){q.gridmenu.jqxMenu("disable",z.id,true);q.gridmenu.jqxMenu("disable",s.id,false)}else{q.gridmenu.jqxMenu("disable",z.id,false);q.gridmenu.jqxMenu("disable",s.id,true)}}}if(D!=null){q._updatefilterpanel(q,D,n);var t=0;if(q.sortable&&q._togglesort){t+=3}if(q.groupable&&q.addgroup){t+=2}var B=t*27+3;if(q.filterable){if(!n.filterable){q.gridmenu.height(B);b(q.filteritem).css("display","none")}else{q.gridmenu.height(B+176);b(q.filteritem).css("display","block")}}}b.data(document.body,"contextmenu"+q.element.id,{column:n,columnsmenu:h[0]})};q.addHandler(g,"click",function(r){p();o();return false});q.addHandler(h,"click",function(r){o();return false})},_rendercolumnheader:function(e,f){var d=b('<a style="float: '+f+';" href="#">'+e+"</a>");return d},_renderrows:function(d){var e=this;if(this.pageable&&this.autoheight){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length!=this.dataview.rows.length){e.prerenderrequired=true}}e._prerenderrows(d);if(e._requiresupdate){e._requiresupdate=false;e._updatepageviews()}if(this.virtualmode){var f=function(){if(e.rendergridrows){var l=e._startboundindex;if(l==undefined){l=0}var h=l+1+e.dataview.pagesize;if(l!=null&&h!=null){var k=e.source._source?true:false;var n=!k?e.source.recordstartindex:e.source._source.recordstartindex;if(n!=l){if(!k){e.source.recordstartindex=l;e.source.recordendindex=h}else{e.source._source.recordstartindex=l;e.source._source.recordendindex=h}e.updatebounddata()}}}};if(this.loadondemand){f();this.loadondemand=false}e._rendervisualrows()}else{if(navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1){this.updatedelay=1}if(this.updatedelay==0){e._rendervisualrows()}else{var g=b.data(document.body,"Grid"+this.element.id);if(g!=null){clearTimeout(g)}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){g=setTimeout(function(){e._rendervisualrows()},this.updatedelay);b.data(document.body,"Grid"+this.element.id,g)}else{b.data(document.body,"Grid"+this.element.id,null);e._rendervisualrows()}}}},_renderhorizontalscroll:function(){var k=this.hScrollInstance;var n=k.value;var f=parseInt(n);if(this.table==null){return}var r=this.table[0].rows.length;var q=this.columnsrow;var l=this.groupable&&this.groups.length>0?this.groups.length:0;var p=this.columns.records.length-l;var h=this.columns.records;for(i=0;i<r;i++){var d=this.table[0].rows[i];for(j=0;j<l+p;j++){var e=d.cells[j];if(e!=undefined){var g=h[j];if(!g.pinned){e.style.marginLeft=-f+"px";if(i==0){var o=q[0].cells[j];o.style.marginLeft=-f+"px"}}}}}if(this.editcell&&!this.editrow){if(this._showcelleditor&&this.editcell.editing){this._showcelleditor(this.editcell.row,this.getcolumn(this.editcell.column),this.editcell.element,this.editcell.init)}}},_updaterowdetailsvisibility:function(){if(this.rowdetails){for(i=0;i<this._rowdetailselementscache.length;i++){b(this._rowdetailselementscache[i]).css("display","none")}}},_getvisualcolumnsindexes:function(e,n,h,l,d){if(this.rowdetails){return{start:0,end:h+l}}var f=0;var k=-1;var g=h+l;var o=false;if(!d){for(j=0;j<h+l;j++){var p=j;if(!o){if(this.columns.records[j].pinned){o=true}}if(!this.columns.records[j].hidden){f+=this.columns.records[j].width}if(f>=e&&k==-1){k=j}if(f>n+e){g=j;break}}}g++;if(g>h+l){g=h+l}if(k==-1||o){k=0}return{start:k,end:g}},_rendervisualrows:function(){var O=this.vScrollInstance;var o=this.hScrollInstance;var f=O.value;var y=o.value;var n=parseInt(f);var h=parseInt(y);var v=this._gettableheight();var E=this.host.width();var z=this.groupable&&this.groups.length>0;this.visiblerows=new Array();this.hittestinfo=new Array();if(this.editcell&&this.editrow==undefined){this._hidecelleditor()}if(this.virtualmode&&!this.pageable){this._pagescache=new Array()}if(this._pagescache.length==0){this.dataview.updateview();this._loadrows()}if(this.vScrollBar.css("visibility")!="visible"){n=0}if(!this.pageable){var G=this._findvisiblerow(n,this._pageviews);if(G==-1){this._clearvisualrows();return}if(G!=this.dataview.pagenum){this.dataview.pagenum=G;this.dataview.updateview();this._loadrows()}else{if(!this._pagescache[this.dataview.pagenum]){this._loadrows()}}}var X=this.groupable&&this.groups.length>0?this.groups.length:0;var q=this.columns.records.length-X;var R=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]);var H=this._pagescache[this.dataview.pagenum];var L=R;if(L<0){L=0}var T=0;var Q=0;var K=0;var e=0;var M=this.virtualsizeinfo.visiblerecords;var J=this.groupable?this.groups.length:0;var w=this.toTP("jqx-grid-cell");if(z){w=" "+this.toTP("jqx-grid-group-cell")}var I=this.rowsheight;var C=L;var W=this._rendercell;var r=true;var p=this._getvisualcolumnsindexes(h,E,X,q,z);var d=p.start;var P=p.end;if(L>=0){this._updaterowdetailsvisibility();this._startboundindex=H!=null?H[L].bounddata.boundindex:0;for(var l=0;l<M&&Q<M;l++){var S=H!=undefined?H[L+l]:null;if(S==null){L=-l;if(this._pagescache[this.dataview.pagenum+1]){H=this._pagescache[this.dataview.pagenum+1];this.dataview.pagenum++}else{var s=this._pageviews.length;do{if(this.dataview.pagenum<this._pageviews.length-1){this.dataview.pagenum++;H=undefined;if(this._pageviews[this.dataview.pagenum].height>0){this.dataview.updateview();this._loadrows();H=this._pagescache[this.dataview.pagenum]}}else{H=undefined;break}}while(H==undefined&&this.dataview.pagenum<s)}if(H!=undefined){S=H[L+l]}}if(S!=null){if(S.hidden){continue}if(l==0){var k=Math.abs(n-S.top);this.table.css("top",-k);e=-k}var g=this.table[0].rows[Q];var D=b(g);if(parseInt(g.style.height)!=S.height){D.height(S.height)}K+=S.height;var N=this.rowdetails&&S.rowdetails;var u=!S.rowdetailshidden;if(N&&u){D.height(S.height-S.rowdetailsheight);M++}var F=this._isrowselected(r,S);for(cindex=d;cindex<P;cindex++){var U=cindex;this._rendervisualcell(W,w,F,N,u,z,J,g,S,U,Q)}if(S.group!=undefined&&this._rendergroup){this._rendergroup(J,g,S,X,q,Q)}this.visiblerows[this.visiblerows.length]=S;this.hittestinfo[this.hittestinfo.length]={row:S,visualrow:g,details:false};if(N&&u){Q++;var g=this.table[0].rows[Q];this._renderrowdetails(w,g,S,X,q,Q);this.visiblerows[this.visiblerows.length]=S;this.hittestinfo[this.hittestinfo.length]={row:S,visualrow:g,details:true}}if(K+e>=v){break}}else{cansetheight=true;this._clearvisualrow(h,z,Q,X,q);if(K+T+parseInt(this.table.css("top"))<=v){T+=I}}Q++}this._horizontalvalue=h;if(T>0){if(this.vScrollBar.css("visibility")=="visible"){var V=parseInt(this.table.css("top"));var B=this._pageviews[this._pageviews.length-1];var t=O.max;var A=B.top+B.height-v;if(this.hScrollBar.css("visibility")=="visible"){A+=6}if(t!=A){O.max=A;O.setPosition(O.max)}}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords;var f=this.hScrollInstance;var d=f.value;var g=parseInt(d);var h=this.groupable&&this.groups.length>0;for(renderindex=0;renderindex<e;renderindex++){this._clearvisualrow(g,h,renderindex,0,this.columns.records.length)}},_isrowselected:function(f,e){var d=false;if(f&&e.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.selectedrowindexes.indexOf(e.bounddata.boundindex)!=-1){d=true}}else{if(e.bounddata.boundindex==this.selectedrowindex){d=true}}}return d},_rendervisualcell:function(A,k,q,n,t,y,l,r,d,h,s){var f=null;var g=this.columns.records[h];cellvalue=this._getcellvalue(g,d);var e=r.cells[h];var w=k;if(g.cellclassname!=""&&g.cellclassname){w+=" "+g.cellclassname}if(this.selectionmode.indexOf("cell")!=-1){if(this.selectedcells[d.boundindex+"_"+g.datafield]){q=true}else{q=false}}var p=this.showsortcolumnbackground&&this.sortcolumn&&g.datafield==this.sortcolumn;if(p){w+=" "+this.toTP("jqx-grid-cell-sort")}if(g.filter&&this.showfiltercolumnbackground){w+=" "+this.toTP("jqx-grid-cell-filter")}if(g.pinned&&this.showpinnedcolumnbackground){w+=" "+this.toTP("jqx-grid-cell-pinned")}if(this.altrows&&d.group==undefined){var z=d.visibleindex;if(z>=this.altstart){if((this.altstart+z)%(1+this.altstep)==0){if(!p){w+=" "+this.toTP("jqx-grid-cell-alt")}else{w+=" "+this.toTP("jqx-grid-cell-sort-alt")}if(g.filter&&this.showfiltercolumnbackground){w+=" "+this.toTP("jqx-grid-cell-filter-alt")}if(g.pinned&&this.showpinnedcolumnbackground){w+=" "+this.toTP("jqx-grid-cell-pinned-alt")}}}}if(h<=l){if(y||this.rowdetails){var u=b(e);var o=this.columns.records[h].width;if(parseInt(e.style.width)!=o){u.width(o)}}}var v=true;if(this.rowdetails&&n){if(t&&!y){w+=" "+this.toTP("jqx-grid-details-cell")}else{if(y){w+=" "+this.toTP("jqx-grid-group-details-cell")}}if(this.showrowdetailscolumn){if(d.group==undefined&&h==l){if(t){w+=" "+this.toTP("jqx-grid-group-expand")}else{w+=" "+this.toTP("jqx-grid-group-collapse")}v=false}}}if(q&&v){w+=" "+this.toTP("jqx-grid-cell-selected");w+=" "+this.toTP("jqx-fill-state-pressed")}if(e.className!=w){e.className=w}if(d.group!=undefined){cellvalue="";e.title="";e.innerHTML="";return}A(this,g,d,cellvalue,e)},_rendercell:function(l,f,p,o,e){var g=p.uniqueid+"_"+f.visibleindex;if(l.editcell&&!l.editrow){if(l.editcell.row==p.boundindex&&l.editcell.column==f.datafield){l.editcell.element=e;if(l.editcell.editing){if(l._showcelleditor){l._showcelleditor(l.editcell.row,f,l.editcell.element,l.editcell.init);return}}}}else{if(l.editrow){if(l.editrow==p.boundindex){l.editcells[f.datafield].element=e;if(l.editcells[f.datafield].editing){if(l._showcelleditor){l._showcelleditor(l.editcells[f.datafield].row,f,e,l.editcells[f.datafield].init);return}}}}}if(l._cellscache[g]){if(f.columntype=="checkbox"){if(l.host.jqxCheckBox){if(o==""){o=false}var h=e.innerHTML.toString().length==0;if(e.checkbox&&!l.groupable&&!h){e.checkboxrow=p.boundindex;e.checkbox.jqxCheckBox({checked:o})}else{l._rendercheckboxcell(l,e,f,p,o)}return}}else{if(f.columntype=="button"){if(l.host.jqxButton){if(o==""){o=false}if(f.cellsrenderer!=null){o=f.cellsrenderer(p.boundindex,f.datafield,o,n,f.getcolumnproperties())}if(e.button&&!l.groupable){e.buttonrow=p.boundindex;e.button.val(o)}else{l._renderbuttoncell(l,e,f,p,o)}return}}}var k=l._cellscache[g];var d=k.element;if(e.innerHTML.toLowerCase()!=d.toLowerCase()){e.innerHTML=d;if(l.enabletooltips){e.title=k.title}}return}if(l.enabletooltips){if(f.cellsformat!=""){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isNumber(o)){o=b.jqx.dataFormat.formatnumber(o,f.cellsformat,l.gridlocalization)}else{if(b.jqx.dataFormat.isDate(o)){o=b.jqx.dataFormat.formatdate(o,f.cellsformat,l.gridlocalization)}}}}e.title=o}if(f.columntype=="checkbox"){l._rendercheckboxcell(l,e,f,p,o);l._cellscache[g]={element:"",title:o};return}else{if(f.columntype=="button"){if(f.cellsrenderer!=null){o=f.cellsrenderer(p.boundindex,f.datafield,o,n,f.getcolumnproperties())}l._renderbuttoncell(l,e,f,p,o);l._cellscache[g]={element:"",title:o};return}else{if(f.columntype=="number"){o=p.visibleindex}}}var n=l._defaultcellsrenderer(o,f);var d=null;if(f.cellsrenderer!=null){d=f.cellsrenderer(p.boundindex,f.datafield,o,n,f.getcolumnproperties())}else{d=n}if(d==null){d=n}l._cellscache[g]={element:d,title:o};e.innerHTML=d;return true},_rendercheckboxcell:function(f,d,e,l,g){if(f.host.jqxCheckBox){var k=b(d);if(g==""){g=false}if(g=="1"){g=true}if(g=="0"){g=false}if(g==1){g=true}if(g==0){g=false}if(k.find(".jqx-checkbox").length==0){d.innerHTML='<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>';b(d.firstChild).jqxCheckBox({enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,locked:true,theme:f.theme,checked:g});if(this.editable&&e.editable){b(d.firstChild).jqxCheckBox({locked:false})}d.checkbox=b(d.firstChild);d.checkboxrow=l.boundindex;var h=b.data(d.firstChild,"jqxCheckBox").instance;h.updated=function(p,o){if(e.editable){var q=f.table[0].rows.length;var r=f._getcolumnindex(e.datafield);for(currentCheckbox=0;currentCheckbox<q;currentCheckbox++){var n=f.table[0].rows[currentCheckbox].cells[r].firstChild;b(n).jqxCheckBox("destroy")}if(f.editcell&&f.editcell.validated==false){f.setcellvalue(d.checkboxrow,e.datafield,!o,true)}else{f._raiseEvent(17,{rowindex:d.checkboxrow,datafield:e.datafield,value:!o,columntype:e.columntype});f.setcellvalue(d.checkboxrow,e.datafield,o,true);f._raiseEvent(18,{rowindex:d.checkboxrow,datafield:e.datafield,oldvalue:!o,value:o,columntype:e.columntype})}}}}else{d.checkboxrow=l.boundindex;b(d.firstChild).jqxCheckBox({checked:g})}}},_renderbuttoncell:function(f,d,e,k,g){if(f.host.jqxButton){var h=b(d);if(g==""){g=false}if(h.find(".jqx-button").length==0){d.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>';b(d.firstChild).val(g);b(d.firstChild).attr("hideFocus","true");b(d.firstChild).jqxButton({theme:f.theme,height:f.rowsheight-4,width:e.width-4});d.button=b(d.firstChild);d.buttonrow=k.boundindex;b(d.firstChild).bind("click",function(l){if(e.buttonclick){e.buttonclick(d.buttonrow,l)}})}else{d.buttonrow=k.boundindex;b(d.firstChild).val(g)}}},_clearvisualrow:function(e,d,o,h,n){var l=this.toTP("jqx-grid-cell");if(d){l=" "+this.toTP("jqx-grid-group-cell")}for(j=0;j<h+n;j++){if(this.table[0].rows[o]){var f=this.table[0].rows[o].cells[j];f.className=l;var g=this.columns.records[j];if(this._horizontalvalue!=e&&!g.pinned){b(f).css("margin-left",-e)}var k=g.width;if(k<g.minwidth){k=g.minwidth}if(k>g.maxwidth){k=g.maxwidth}if(parseInt(f.style.width)!=k){b(f).width(k)}f.title="";f.innerHTML="";b(this.table[0].rows[o]).height(this.rowsheight)}}},_findgroupstate:function(e){var d=this._findgroup(e);if(d==null){return false}return d.expanded},_findgroup:function(e){var d=null;if(this.expandedgroups[e]){return this.expandedgroups[e]}return d},_clearcaches:function(){this._columnsbydatafield=new Array();this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this.heights=new Array();this.hiddens=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();this.details=new Array();this.expandedgroups=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();if(b.jqx.dataFormat){b.jqx.dataFormat.cleardatescache()}this.tableheight=null},_getColumnText:function(d){if(this._columnsbydatafield==undefined){this._columnsbydatafield=new Array()}if(this._columnsbydatafield[d]){return this._columnsbydatafield[d]}var e=d;b.each(this.columns.records,function(){if(this.datafield==d){e=this.text;return false}});this._columnsbydatafield[d]=e;return e},isscrollingvertically:function(){var d=(this.vScrollBar.jqxScrollBar("isScrolling"));return d},_renderrowdetails:function(q,v,d,u,o,y){var A=b(v);var g=0;var r=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;var e=b(v.cells[g]);e.css("width","100%");A.height(d.rowdetailsheight);e[0].className=q;var p=d.bounddata.boundindex;var l=p+"_";if(this._rowdetailscache[l]){var s=this._rowdetailscache[l];var z=s.html;if(this.initrowdetails){if(this._rowdetailscache[l].element){var f=this._rowdetailscache[l].element;var k=e.offset();var w=this.gridcontent.offset();var t=parseInt(k.top)-parseInt(w.top);var n=parseInt(k.left)-parseInt(w.left);b(f).css("top",t);b(f).css("left",n);b(f).css("display","block")}}else{e[0].innerHTML=z}return}e[0].innerHTML="";if(!this.enablerowdetailsindent){r=0}var h='<div style="overflow: hidden; width: 100%; height: 100%; margin-left: '+r+'px;">'+d.rowdetails+"</div>";this._rowdetailscache[l]={id:v.id,html:h};if(this.initrowdetails){var f=b(h)[0];b(this.gridcontent).prepend(b(f));b(f).css("position","absolute");b(f).width(this.host.width()-r);b(f).height(e.height());var k=e.offset();b(f).css("z-index",2000);if(this.isTouchDevice()){b(f).css("z-index",99999)}var k=e.offset();var w=this.gridcontent.offset();var t=parseInt(k.top)-parseInt(w.top);var n=parseInt(k.left)-parseInt(w.left);b(f).css("top",t);b(f).css("left",n);this.content[0].scrollTop=0;this.content[0].scrollLeft=0;this.initrowdetails(p,f);this._rowdetailscache[l].element=f;this._rowdetailselementscache[p]=f}else{e[0].innerHTML=h}},_defaultcellsrenderer:function(e,d){if(d.cellsformat!=""){if(!this.enabletooltips){if(b.jqx.dataFormat){if(b.jqx.dataFormat.isDate(e)){e=b.jqx.dataFormat.formatdate(e,d.cellsformat,this.gridlocalization)}else{if(b.jqx.dataFormat.isNumber(e)){e=b.jqx.dataFormat.formatnumber(e,d.cellsformat,this.gridlocalization)}}}}}return'<span style="margin: 4px; float: '+d.cellsalign+';">'+e+"</span>"},_getcellvalue:function(d,f){var e=null;e=f.bounddata[d.datafield];if(e==null){e=""}return e},getcell:function(h,d){if(h==null||d==null){return null}var e=parseInt(h);var g=h;var f="";if(!isNaN(e)){g=this.getrowdata(e)}if(g!=null){f=g[d]}return this._getcellresult(f,h,d)},getrenderedcell:function(h,d){if(h==null||d==null){return null}var e=parseInt(h);var g=h;var f="";if(!isNaN(e)){g=this.getrenderedrowdata(e)}if(g!=null){f=g[d]}return this._getcellresult(f,h,d)},_getcellresult:function(n,q,e){var f=this.getcolumn(e);if(f==null||f==undefined){return null}var k=f.getcolumnproperties();var g=k.hidden;var d=k.width;var p=k.pinned;var h=k.cellsalign;var l=k.cellsformat;var o=this.getrowheight(q);if(o==false){return null}return{value:n,row:q,column:e,width:d,height:o,hidden:g,pinned:p,align:h,format:l}},setcellvalue:function(v,k,t,r){if(v==null||k==null){return false}var u=parseInt(v);var f=u;var q=v;if(!isNaN(u)){q=this.getrowdata(u)}var h=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){h=true}if(this.virtualmode){this._pagescache=new Array()}var n="";if(q!=null&&q[k]!=t){n=q[k];q[k]=t;var l=this.getrenderedrowdata(u,true);l[k]=t;if(h){f=q.dataindex;this.dataview.cachedrecords[q.dataindex][k]=t}}else{this._renderrows(this.virtualsizeinfo);return false}if(this.sortcolumn&&this.dataview.sortby){var d=this.getsortinformation();this.dataview.clearsortdata();this.dataview.sortby(d.sortcolumn,d.sortdirection.ascending)}this._cellscache=new Array();if(this.source.updaterow){this.source.updaterow(f,q)}var e=this.getrowid(v);var p=this.vScrollInstance.value;if(r==true||r==undefined){var s=this;var o=function(){if(s.pageable&&s.updatepagerdetails){s.updatepagerdetails();if(s.autoheight){s._updatepageviews()}}};if(h){this.dataview.refresh();this.rendergridcontent(true,true);o()}else{if(this.sortcolumn){this.dataview.reloaddata();this.rendergridcontent(true,true);o()}else{if(this.groupable&&this.groups.length>0){this.dataview.reloaddata();this.render();var q=this.getrowdata(v);var l=this.getrenderedrowdata(u,true);var g=l.parentItem;this._setgroupstate(g,true,true)}else{this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}}}this.vScrollInstance.setPosition(p);this._raiseEvent(19,{rowindex:v,datafield:k,newvalue:t,oldvalue:n});return true},getcellvalue:function(h,d){if(h==null||d==null){return null}var e=parseInt(h);var g=h;if(!isNaN(e)){g=this.getrowdata(e)}if(g!=null){var f=g[d];return f}return null},getrowdata:function(d){if(d==undefined){d=0}if(this.virtualmode){var e=this.dataview.records[d];return e}else{if(d>=0&&d<this.dataview.bounditems.length){var e=this.dataview.records[d];return e}}return null},getrenderedrowdata:function(d,f){if(d==undefined){d=0}if(this.virtualmode){var g=this.getrowvisibleindex(d);var e=this.dataview.loadedrecords[g];return e}if(d>=0&&d<this.dataview.bounditems.length){if(this.groupable&&this.groups.length>0){var g=this.getrowvisibleindex(d);var e=this.dataview.loadedrecords[g]}else{var e=this.dataview.loadedrecords[d];if(this.pageable&&(f==undefined||f==false)){var e=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+d]}}return e}return null},getrowid:function(d){if(d==undefined){d=0}if(d>=0&&d<this.dataview.bounditems.length){var e=this.dataview.bounditems[d].uid;return e}return null},updaterow:function(e,h,d){if(e!=undefined&&h!=undefined){var f=this.dataview.updaterow(e,h);var g=this.vScrollInstance.value;if(d==undefined||d==true){this._datachanged=true;if(this._updating==undefined||this._updating==false){this._updateGridData()}}if(this.source.updaterow){this.source.updaterow(e,h)}this.vScrollInstance.setPosition(g);return f}return false},_updateGridData:function(){var d=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){d=true}if(d){this.dataview.refresh();this.render()}else{if(this.sortcolumn||(this.groupable&&this.groups.length>0)){this.dataview.reloaddata();this.render()}else{this._cellscache=new Array();this._pagescache=new Array();this._renderrows(this.virtualsizeinfo)}}},deleterow:function(d){if(d!=undefined){this._datachanged=true;var f=this.vScrollInstance.value;var e=this.dataview.deleterow(d);if(this._updating==undefined||this._updating==false){this._render(true,true,false)}if(this.source.deleterow){this.source.deleterow(d)}this.vScrollInstance.setPosition(f);return e}return false},addrow:function(e,h,d){if(h!=undefined){this._datachanged=true;if(d==undefined){d="last"}var g=this.vScrollInstance.value;var f=this.dataview.addrow(e,h,d);if(this._updating==undefined||this._updating==false){this._render(true,true,false)}if(this.source.addrow){this.source.addrow(h.uid,h,d)}this.vScrollInstance.setPosition(g);return f}return false},_findvisiblerow:function(g,h){if(g==undefined){g=parseInt(this.vScrollInstance.value)}var e=0;if(h==undefined||h==null){h=this.rows.records}var d=h.length;while(e<=d){mid=parseInt((e+d)/2);var f=h[mid];if(f==undefined){break}if(f.top>g&&f.top+f.height>g){d=mid-1}else{if(f.top<g&&f.top+f.height<g){e=mid+1}else{return mid;break}}}return -1},_updatecellwidths:function(){var f=this.virtualsizeinfo;var o=this;if(this.gridcontent==undefined){return}this.table=this.gridcontent.find("#contenttable"+this.element.id);var k=this.groupable&&this.groups.length>0;var p=0;var l=f.visiblerecords;if(this.pageable&&this.autoheight){l=this.dataview.pagesize;if(this.groupable){this.dataview.updateview();l=this.dataview.rows.length}}if(!this.pageable&&this.autoheight){l=this.dataview.totalrecords}if(this.rowdetails){l+=this.dataview.pagesize}var q=this.columns.records.length;for(i=0;i<l;i++){var d=this.table[0].rows[i];if(!d){break}var r=d.cells;var h=0;for(j=0;j<q;j++){var g=this.columns.records[j];var e=g.width;var n=b(r[j]);n.css("left",h);n.width(e);n[0].left=h;if(!(g.hidden&&g.hideable)){h+=e}else{n.css("display","none")}}if(p==0){this.table.width(parseInt(h)+2);p=h}}this._updatescrollbarsafterrowsprerender()},_updatescrollbarsafterrowsprerender:function(){var d=this.hScrollBar.css("visibility");var f=0;if(this.vScrollBar.css("visibility")=="visible"){f=this.scrollbarsize+3}if(this.table.width()-2>this.host.width()-f){if(d!="visible"){this.hScrollBar.css("visibility","visible");this._arrange()}if(this.vScrollBar.css("visibility")=="visible"){var e=this.vScrollBar.jqxScrollBar("max");this.vScrollBar.jqxScrollBar("max",e+this.scrollbarsize+4)}this.hScrollBar.jqxScrollBar("max",f+this.table.width()-this.host.width())}else{if(d!="hidden"){this.hScrollBar.css("visibility","hidden");this._arrange()}}this._renderhorizontalscroll()},_prerenderrows:function(f){var q=this;if(this.prerenderrequired==true){this.prerenderrequired=false;if(this.editable&&this._destroyeditors){this._destroyeditors()}if(this.gridcontent==undefined){return}this.gridcontent.find("#contenttable"+this.element.id).remove();if(this.table!=null){this.table.remove();this.table=null}this.table=b('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;" height="100%"></div>');this.gridcontent.addClass(this.toTP("jqx-grid-content"));this.gridcontent.addClass(this.toTP("jqx-widget-content"));this.gridcontent.append(this.table);var k=this.groupable&&this.groups.length>0;var r=0;this.table[0].rows=new Array();var p=this.toTP("jqx-grid-cell");if(k){p=" "+this.toTP("jqx-grid-group-cell")}var n=f.visiblerecords;if(this.pageable&&this.autoheight){n=this.dataview.pagesize;if(this.groupable){this.dataview.updateview();n=this.dataview.rows.length}}if(!this.pageable&&this.autoheight){n=this.dataview.totalrecords}if(this.rowdetails){n+=this.dataview.pagesize}var s=this.columns.records.length;if(b.browser.msie&&b.browser.version>8){this.table.css("opacity","0.99")}var l=b.browser.msie&&b.browser.version<8;if(l){this.host.attr("hideFocus","true")}var t=799;if(n*s>t){t=n*s}for(i=0;i<n;i++){var d=b('<div style="position: relative;" id="row'+i+this.element.id+'"></div>');var h=0;this.table[0].rows[i]=d[0];this.table[0].rows[i].cells=new Array();for(j=0;j<s;j++){var g=this.columns.records[j];var e=g.width;if(e<g.minwidth){e=g.minwidth}if(e>g.maxwidth){e=g.maxwidth}var o=b('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+p+'"></div>');d.append(o);o.css("left",h);o.css("z-index",t--);o.width(e);o[0].left=h;if(!(g.hidden&&g.hideable)){h+=e}else{o.css("display","none")}this.table[0].rows[i].cells[j]=o[0]}if(l){d.css("z-index",t--)}if(r==0){this.table.width(parseInt(h)+2);r=h}this.table.append(d);d.height(this.rowsheight)}this._updatescrollbarsafterrowsprerender()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var v=null;var s=null;this.tableheight=null;var z=this;var n=false;var l=false;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){v=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){v=this.width}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){v=this.width;n=true}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){s=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){s=this.height}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){s=this.height;l=true}var k=function(){var A=0;var B=z.showheader?z.columnsheader!=null?z.columnsheader.height()+2:0:0;A+=B;if(z.pageable){A+=z.pagerheight}if(z._groupsheader()){A+=z.groupsheaderheight}if(z.hScrollBar.css("visibility")=="visible"){A+=20}return A};if(this.autoheight&&this.virtualsizeinfo){if(this.pageable&&this.gotopage){var w=this.host.height()-this._gettableheight();s=w+this._pageviews[0].height;if(s==0){s=k()}}else{var w=this.host.height()-this._gettableheight();if(this._pageviews.length>0){s=w+this._pageviews[this._pageviews.length-1].height+this._pageviews[this._pageviews.length-1].top;this.vScrollBar.css("visibility","hidden")}}}else{if(this.autoheight){s=this.dataview.totalrecords*this.rowsheight;if(this._loading){s=250;this.dataloadelement.height(s)}s+=k();if(s>10000){s=10000}}}var e=this.host.css("border-width");if(e==null){e=0}if(v!=null){v=parseInt(v);this.host.width(this.width);if(n){v=this.host.width();if(v==0){v=600;this.host.width(v)}if(!this._oldWidth){this._oldWidth=v}}}else{this.host.width(250)}if(s!=null){if(!l){s=parseInt(s)}this.host.height(s);if(l&&!this.autoheight){s=this.host.height();if(s==0){s=400;this.host.height(s)}if(!this._oldHeight){this._oldHeight=s}}}else{this.host.height(250)}if(this.autoheight){this.tableheight=null;this._gettableheight()}var r=0;if(this._groupsheader()){this.groupsheader.width(v);this.groupsheader.height(this.groupsheaderheight);this.groupsheader.css("top",0);var t=this.groupsheader.height()+1;r=t;if(s>t){s-=parseInt(t)}}else{this.groupsheader.width(v);this.groupsheader.height(this.groupsheaderheight);this.groupsheader.css("top",0);this.content.css("top",this.groupsheader.height())}var d=this.scrollbarsize;if(isNaN(d)){d=parseInt(d);if(isNaN(d)){d="17px"}else{d=d+"px"}}d=parseInt(d);var p=4;var g=2;var h=0;if(this.vScrollBar.css("visibility")=="visible"){h=d+p}if(this.hScrollBar.css("visibility")=="visible"){g=d+p+2}var q=0;if(this.pageable){q=this.pagerheight;g+=this.pagerheight}this.hScrollBar.height(d);this.hScrollBar.css({top:r+s-p-d-q+"px",left:"0px"});this.hScrollBar.width(v-d-p+"px");if(h==0){this.hScrollBar.width(v-2)}this.vScrollBar.width(d);this.vScrollBar.height(parseInt(s)-g+"px");this.vScrollBar.css({left:parseInt(v)-parseInt(d)-p+"px",top:r});var o=this.vScrollInstance;o.disabled=this.disabled;o.refresh();var u=this.hScrollInstance;u.disabled=this.disabled;u.refresh();if((this.vScrollBar.css("visibility")=="visible")&&(this.hScrollBar.css("visibility")=="visible")){this.bottomRight.css("visibility","visible");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(d)+3);this.bottomRight.height(parseInt(d)+4)}else{this.bottomRight.css("visibility","hidden")}this.content.width(v-h);this.content.height(s-g+2);this.content.css("top",r);if(this.pageable){this.pager.width(v);this.pager.height(this.pagerheight);this.pager.css("top",r+s-this.pagerheight)}else{this.pager.height(0)}if(this.table!=null){var f=0;if(this.vScrollBar.css("visibility")=="visible"){f=this.scrollbarsize+3}var y=f+this.table.width()-this.host.width();this.hScrollBar.jqxScrollBar("max",y);if(this.hScrollBar.css("visibility")=="visible"&&y==0){this.hScrollBar.css("visibility","hidden");this._arrange()}}},destroy:function(){if(this.host.jqxDropDownList){var g=b(b.find("#filterclearbutton"+this.element.id));var f=b(b.find("#filterbutton"+this.element.id));var l=b(b.find("#filter1"+this.element.id));var e=b(b.find("#filter2"+this.element.id));var k=b(b.find("#filter3"+this.element.id));var h=b(b.find(".filtertext1"+this.element.id));var d=b(b.find(".filtertext2"+this.element.id));if(h.length>0&&d.length>0){h.removeClass();d.removeClass();h.remove();d.remove()}this.removeHandler(g,"click");this.removeHandler(f,"click");l.jqxDropDownList("destroy");e.jqxDropDownList("destroy");k.jqxDropDownList("destroy")}if(this.host.jqxMenu){if(this.gridmenu){this.removeHandler(b(document),"click.menu"+this.element.id);this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu.remove()}}if(this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList("destroy")}if(this.pagerrightbutton){this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.pagerrightbutton.jqxButton("destroy")}if(this.pagerleftbutton){this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.pagerleftbutton.jqxButton("destroy")}this.removeHandler(b(document),"mousedown.resize"+this.element.id);this.removeHandler(b(document),"mouseup.resize"+this.element.id);this.removeHandler(b(document),"mousemove.resize"+this.element.id);this.columns=new b.jqx.collection(this.element);this.rows=new b.jqx.collection(this.element);this.hScrollInstance.destroy();this.vScrollInstance.destroy();this.hScrollBar.remove();this.vScrollBar.remove();this._removeHandlers();this._clearcaches();this.dataview._clearcaches();this.content.remove();this.host.remove()},_initializeColumns:function(){var g=this;var d=new b.jqx.collection(this.element);var f=0;if(!this._columns){this._columns=this.columns}else{this.columns=this._columns}if(this.groupable){b.each(this.groups,function(h){var k=new c(g,this);k.visibleindex=f++;k.width=g.groupindentwidth;d.add(k)})}if(this.rowdetails&&this.showrowdetailscolumn){var e=new c(g,this);e.visibleindex=f++;e.width=g.groupindentwidth;e.pinned=true;d.add(e)}b.each(this.columns,function(h){var k=new c(g,this);k.visibleindex=f++;d.add(k)});this.columns=d},_initializeRows:function(){var d=new b.jqx.collection(this.element);this.rows=d},_raiseEvent:function(h,e){if(e==undefined){e={owner:null}}var f=this.events[h];args=e;args.owner=this;var g=new jQuery.Event(f);g.owner=this;g.args=args;var d=this.host.trigger(g);e=g.args;return d},wheel:function(f,e){if(e.autoheight){f.returnValue=true;return true}var g=0;if(!f){f=window.event}if(f.originalEvent&&f.originalEvent.wheelDelta){f.wheelDelta=f.originalEvent.wheelDelta}if(f.wheelDelta){g=f.wheelDelta/120}else{if(f.detail){g=-f.detail/3}}if(g){var d=e._handleDelta(g);if(d){if(f.preventDefault){f.preventDefault()}if(f.originalEvent!=null){f.originalEvent.mouseHandled=true}if(f.stopPropagation!=undefined){f.stopPropagation()}}if(d){d=false;f.returnValue=d;return d}else{return false}}if(f.preventDefault){f.preventDefault()}f.returnValue=false},_handleDelta:function(f){var e=this.vScrollInstance.value;if(f<0){this.scrollDown()}else{this.scrollUp()}var d=this.vScrollInstance.value;if(e!=d){return true}return false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var d=this.vScrollInstance;if(d.value+this.rowsheight<=d.max){d.setPosition(parseInt(d.value)+this.rowsheight)}else{d.setPosition(d.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var d=this.vScrollInstance;if(d.value-this.rowsheight>=d.min){d.setPosition(parseInt(d.value)-this.rowsheight)}else{d.setPosition(d.min)}},_removeHandlers:function(){var d=this;this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.removeHandler(this.host,"mousedown");this.removeHandler(this.content,"mousemove");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"selectstart."+this.element.id);this.removeHandler(this.host,"dragstart."+this.element.id);this.removeHandler(this.host,"keydown.edit"+this.element.id);this.removeHandler(b(document),"keydown.edit"+this.element.id);this.removeHandler(b(document),"mousemove.selection"+this.element.id);this.removeHandler(b(document),"mouseup.selection"+this.element.id)},_addHandlers:function(){var e=this;this.addHandler(this.host,"dragstart."+this.element.id,function(h){return false});var d=e.isTouchDevice();this.vScrollInstance.valuechanged=function(h){e._closemenu();e._renderrows(e.virtualsizeinfo);if(!e.pageable&&!e.groupable&&e.dataview.virtualmode){if(e.loadondemandupdate){clearTimeout(e.loadondemandupdate)}e.loadondemandupdate=setTimeout(function(){e.loadondemand=true;e._renderrows(e.virtualsizeinfo)},100)}if(d){e._lastScroll=new Date()}};this.hScrollInstance.valuechanged=function(h){e._closemenu();if(navigator&&navigator.userAgent.indexOf("Safari")!=-1){setTimeout(function(){e._renderhorizontalscroll();e._renderrows(e.virtualsizeinfo);if(e.editcell&&!e.editrow){if(e._showcelleditor&&e.editcell.editing){e._showcelleditor(e.editcell.row,e.getcolumn(e.editcell.column),e.editcell.element,e.editcell.init)}}},1)}else{e._renderhorizontalscroll();e._renderrows(e.virtualsizeinfo);if(e.editcell&&!e.editrow){if(e._showcelleditor&&e.editcell.editing){e._showcelleditor(e.editcell.row,e.getcolumn(e.editcell.column),e.editcell.element,e.editcell.init)}}}if(d){e._lastScroll=new Date()}};this._mousewheelfunc=this._mousewheelfunc||function(h){if(!e.editcell&&e.enablemousewheel){e.wheel(h,e);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var g="mousedown";if(this.isTouchDevice()){g="mouseup"}this.addHandler(this.host,g,function(k){if(e.isTouchDevice()){e._newScroll=new Date();if(e._newScroll-e._lastScroll<500){return false}if(b(k.target).ischildof(e.vScrollBar)){return false}if(b(k.target).ischildof(e.hScrollBar)){return false}}e._mousedown=new Date();var h=e._handlemousedown(k,e);e._lastmousedown=new Date();return h});this.addHandler(this.host,"dblclick",function(h){if(e.editable&&e.begincelledit&&e.editmode=="dblclick"){e._handledblclick(h,e)}e.mousecaptured=false;return true});this.addHandler(this.content,"mousemove",function(h){if(e._handlemousemove){return e._handlemousemove(h,e)}});this.addHandler(b(document),"mousemove.selection"+this.element.id,function(h){if(e._handlemousemoveselection){return e._handlemousemoveselection(h,e)}});this.addHandler(b(document),"mouseup.selection"+this.element.id,function(h){if(e._handlemouseupselection){e._handlemouseupselection(h,e)}});if(window.frameElement){if(window.top!=null){var f=function(h){if(e._handlemouseupselection){e._handlemouseupselection(h,e)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}this.focused=false;this.addHandler(this.content,"mouseenter",function(h){e.focused=true});this.addHandler(this.content,"mouseleave",function(h){if(e._handlemousemove){if(e.enablehover){e._clearhoverstyle()}}e.focused=false});this.addHandler(this.content,"selectstart."+this.element.id,function(h){if(!e.editcell){return false}});this.addHandler(b(document),"keydown.edit"+this.element.id,function(l){if(e.editable&&e.editcell){var k=l.charCode?l.charCode:l.keyCode?l.keyCode:0;if(k==13||k==27){if(e._handleeditkeydown){h=e._handleeditkeydown(l,e)}}}if(b.browser.msie&&e.focused&&!e.isNestedGrid){var h=true;var k=l.charCode?l.charCode:l.keyCode?l.keyCode:0;if(!e.editcell&&e.editable&&e.editmode!="programmatic"){if(e._handleeditkeydown){h=e._handleeditkeydown(l,e)}}if(h&&e.keyboardnavigation&&e._handlekeydown){h=e._handlekeydown(l,e);if(!h){if(l.preventDefault){l.preventDefault()}if(l.stopPropagation!=undefined){l.stopPropagation()}}return h}}return true});this.addHandler(this.host,"keydown.edit"+this.element.id,function(k){var h=true;if(e.editable&&e.editmode!="programmatic"){if(e._handleeditkeydown){h=e._handleeditkeydown(k,e)}}if(!b.browser.msie){if(h&&e.keyboardnavigation&&e._handlekeydown){h=e._handlekeydown(k,e)}}else{if(e.isNestedGrid){if(h&&e.keyboardnavigation&&e._handlekeydown){h=e._handlekeydown(k,e)}}}if(!h){if(k.preventDefault){k.preventDefault()}if(k.stopPropagation!=undefined){k.stopPropagation()}}return h})},_hittestrow:function(u,s){if(this.vScrollInstance==null||this.hScrollInstance==null){return}if(u==undefined){u=0}if(s==undefined){s==0}var n=this.vScrollInstance;var l=this.hScrollInstance;var e=n.value;if(this.vScrollBar.css("visibility")!="visible"){e=0}var o=l.value;if(this.hScrollBar.css("visibility")!="visible"){o=0}var t=parseInt(e)+s;var k=parseInt(o)+u;if(this.visiblerows==null){return}var h=this._findvisiblerow(t,this.visiblerows);if(h>=0){var q=this.visiblerows[h];var d=this.rowdetails&&q.rowdetails;var p=!q.rowdetailshidden;if(d){var f=this.visiblerows[h-1];if(f==q){q=f;h--}if(p){var g=b(this.hittestinfo[h].visualrow).position().top+parseInt(this.table.css("top"));var r=b(this.hittestinfo[h].visualrow).height();if(!(s>=g&&s<=g+r)){h++;q=this.visiblerows[h]}}}}return{index:h,row:q}},getcellatposition:function(k,s){var t=this;var A=this.showheader?this.columnsheader.height()+2:0;var u=this._groupsheader()?this.groupsheader.height():0;var g=this.host.offset();var r=k-g.left;var p=s-A-g.top-u;var d=this._hittestrow(r,p);var l=d.row;var n=d.index;var v=this.table[0].rows[n];if(this.dataview&&this.dataview.records.length==0){var q=this.table[0].rows;var C=0;for(i=0;i<q.length;i++){if(p>=C&&p<C+this.rowsheight){v=q[i];break}C+=this.rowsheight}l={boundindex:i}}if(v==null){return true}var w=this.hScrollInstance;var z=w.value;var f=0;var o=this.groupable?this.groups.length:0;for(i=0;i<v.cells.length;i++){var h=parseInt(b(this.columnsrow[0].cells[i]).css("left"));var k=h-z;if(t.columns.records[i].pinned){k=h}var B=k+b(this.columnsrow[0].cells[i]).width();if(B>=r&&r>=k){f=i;break}}if(l!=null){var e=this._getcolumnat(f);return{row:l.boundindex,column:e.datafield,value:this.getcellvalue(l.boundindex,e.datafield)}}return null},_handlemousedown:function(C,u){if(C.target==null){return true}if(u.disabled){return true}if(b(C.target).ischildof(this.columnsheader)){return true}var E;if(C.which){E=(C.which==3)}else{if(C.button){E=(C.button==2)}}if(E){return true}var I;if(C.which){I=(C.which==2)}else{if(C.button){I=(C.button==1)}}if(I){return true}var D=this.showheader?this.columnsheader.height()+2:0;var v=this._groupsheader()?this.groupsheader.height():0;var h=this.host.offset();var s=C.pageX-h.left;var r=C.pageY-D-h.top-v;var d=this._hittestrow(s,r);var o=d.row;var p=d.index;var z=C.target.className;var w=this.table[0].rows[p];if(w==null){return true}u.mousecaptured=true;u.mousecaptureposition={left:C.pageX,top:C.pageY-v};var A=this.hScrollInstance;var B=A.value;var g=-1;var q=this.groupable?this.groups.length:0;for(i=0;i<w.cells.length;i++){var k=parseInt(b(this.columnsrow[0].cells[i]).css("left"));var l=k-B;if(u.columns.records[i].pinned){l=k}var H=l+b(this.columnsrow[0].cells[i]).width();if(H>=s&&s>=l){g=i;break}}if(o!=null&&g>=0){this._raiseEvent(1,{rowindex:o.boundindex,visibleindex:o.visibleindex,group:o.group});var f=this._getcolumnat(g);this._raiseEvent(8,{rowindex:o.boundindex,column:f?f.getcolumnproperties():null,datafield:f?f.datafield:null,columnindex:g});var G=false;if(this._lastmousedown!=null){if(this._mousedown-this._lastmousedown<300){if(this._clickedrowindex==o.boundindex){this._raiseEvent(22,{rowindex:o.boundindex,visibleindex:o.visibleindex,group:o.group});if(this._clickedcolumn==f.datafield){this._raiseEvent(23,{rowindex:o.boundindex,column:f?f.getcolumnproperties():null,datafield:f?f.datafield:null,columnindex:g})}G=true;this._clickedrowindex=-1;this._clickedcolumn=null}}}if(!G){this._clickedrowindex=o.boundindex;this._clickedcolumn=f.datafield}if(z.indexOf("jqx-grid-group-expand")!=-1||z.indexOf("jqx-grid-group-collapse")!=-1){if(q>0&&g<q&&this._togglegroupstate){this._togglegroupstate(o.bounddata,true)}else{if(g==q&&this.rowdetails&&this.showrowdetailscolumn){this._togglerowdetails(o.bounddata,true);this.gridcontent[0].scrollTop=0;this.gridcontent[0].scrollLeft=0}}}else{if(o.boundindex!=-1){var F=this.selectedrowindexes.slice(0);var n=false;if(u.selectionmode!="none"&&this._selectrowwithmouse){if(u.selectionmode=="multiplecellsextended"||u.selectonmode=="multiplerowsextended"){u.selectedrowindexes=new Array();u.selectedcells=new Array()}if(u.selectionmode.indexOf("cell")==-1){this._applyrowselection(o.boundindex,true,false,null,f.datafield);this._selectrowwithmouse(u,d,F,f.datafield)}else{this._selectrowwithmouse(u,d,F,f.datafield);this._applycellselection(o.boundindex,f.datafield,true,false)}if(u._oldselectedcell){if(u._oldselectedcell.datafield==u.selectedcell.datafield&&u._oldselectedcell.rowindex==u.selectedcell.rowindex){n=true}}u._oldselectedcell=u.selectedcell}if(u.editable&&u.begincelledit){var e=u.editmode=="click"||(n&&u.editmode=="selectedcell");if(u.selectionmode.indexOf("cell")==-1){e=true}if(e){if(o.boundindex!=undefined&&f.editable){var t=u.begincelledit(o.boundindex,f.datafield,f.defaulteditorvalue);if(t){return true}}}if(u.selectionmode.indexOf("cell")!=-1){if(u.editmode=="selectedcell"&&!n&&u.editcell){u.endcelledit(u.editcell.row,u.editcell.column,false,true)}}return true}}}}return true},_columnPropertyChanged:function(e,d,g,f){},_rowPropertyChanged:function(g,d,f,e){},propertyChangedHandler:function(d,e,h,g){if(this.isInitialized==undefined||this.isInitialized==false){return}switch(e){case"source":d.loadondemand=true;d.updatebounddata();break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep});this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":if(d._initgroupsheader){d._initgroupsheader()}break;case"showgroupsheader":d.rendergridcontent();break;case"theme":if(d.pager){d.pager.removeClass();d.pager.addClass(d.toTP("jqx-grid-pager"));d._updatepagertheme()}if(d.groupsheader){d.groupsheader.removeClass();d.groupsheader.addClass(d.toTP("jqx-grid-groups-header"))}d.vScrollBar.jqxScrollBar({theme:d.theme});d.hScrollBar.jqxScrollBar({theme:d.theme});d.host.removeClass();d.host.addClass(d.toTP("jqx-grid"));d.host.addClass(d.toTP("jqx-reset"));d.host.addClass(d.toTP("jqx-rc-all"));d.bottomRight.removeClass();d.bottomRight.addClass(d.toTP("jqx-grid-bottomright"));d.render();case"filterable":d.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":d.rendergridcontent();break;case"showrowdetailscolumn":d.render();break;case"scrollbarsize":d._arrange();break;case"theme":d.rendergridcontent(false);break;case"width":if(!this._loading){if(g!=h){d._arrange();d._updatecolumnwidths();d._updatecellwidths();d._renderrows(d.virtualsizeinfo)}}break;case"height":if(!this._loading){if(g!=h){var k=d.groupable&&d.groups.length>0;var f=d.vScrollBar.css("visibility")!="visible";if(!k){d._arrange();d.virtualsizeinfo=d._calculatevirtualheight();if(parseInt(g)>=parseInt(h)){d.prerenderrequired=true}d._renderrows(d.virtualsizeinfo)}else{if(g>=h){d._render(true,false,false)}else{d.rendergridcontent(true,false)}}if(f&&d.vScrollBar.css("visibility")=="visible"){d._arrange();d._updatecolumnwidths();d._updatecellwidths()}}}break;case"altrows":case"altstart":case"altstep":d._renderrows(d.virtualsizeinfo);break;case"groupsheaderheight":d._arrange();if(d._initgroupsheader){d._initgroupsheader()}break;case"pagerheight":d._initpager();break;case"selectedrowindex":d.selectrow(g);break;case"selectionmode":if(g=="none"){d.selectedrowindexes=new Array();d.selectedcells=new Array();d.selectedrowindex=-1}d._renderrows(d.virtualsizeinfo);break;case"showheader":if(g){d.columnsheader.css("display","block")}else{d.columnsheader.css("display","none")}break;case"virtualmode":d.dataview.virtualmode=d.virtualmode;d.dataview.refresh(false);d._render(false,false,false);break;case"columnsmenu":d.render();break;case"columns":d._columns=null;d.render();break;case"autoheight":d._render(false,false,true);break;case"pagesizeoptions":case"pageable":case"pagesize":if(d._loading){alert(d.loadingerrormessage);return}if(d._initpager){d.dataview.pageable=d.pageable;d.dataview.pagenum=0;d.dataview.pagesize=d._getpagesize();if(d.virtualmode){d.updatebounddata()}d.dataview.refresh(true);d._initpager();if(e=="pagesizeoptions"){if(g!=null&&g.length>0){d.pagesize=g[0];d.dataview.pagesize=g[0];d.prerenderrequired=true;d._requiresupdate=true;d.dataview.pagenum=-1;d.gotopage(0)}}}d._render(false,false,false);break;case"groupable":d.dataview.groupable=d.groupable;d.dataview.pagenum=0;d.dataview.refresh(false);d._render(false,false,true);break}}});function c(d,e){this.owner=d;this.datafield=null;this.text="";this.sortable=true;this.hideable=true;this.editable=true;this.hidden=false;this.groupable=true;this.renderer=null;this.cellsrenderer=null;this.checkchange=null,this.buttonclick=null,this.columntype=null;this.cellsformat="";this.align="left";this.cellsalign="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.resizable=true;this.initeditor=null;this.createeditor=null;this.validation=null;this.classname="";this.cellclassname="";this.getcolumnproperties=function(){return{sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname}},this.setproperty=function(f,g){if(this[f]){var h=this[f];this[f]=g;this.owner._columnPropertyChanged(this,f,g,h)}};this._initfields=function(f){if(f!=null){if(f.datafield!=undefined){this.datafield=f.datafield}if(f.dataField!=undefined){this.datafield=f.dataField}if(f.text!=undefined){this.text=f.text}if(f.sortable!=undefined){this.sortable=f.sortable}if(f.hideable!=undefined){this.hideable=f.hideable}if(f.hidden!=undefined){this.hidden=f.hidden}if(f.groupable!=undefined){this.groupable=f.groupable}if(f.renderer!=undefined){this.renderer=f.renderer}if(f.align!=undefined){this.align=f.align}if(f.cellsalign!=undefined){this.cellsalign=f.cellsalign}if(f.cellsformat!=undefined){this.cellsformat=f.cellsformat}if(f.width!=undefined){this.width=f.width}if(f.minwidth!=undefined){this.minwidth=f.minwidth}if(f.maxwidth!=undefined){this.maxwidth=f.maxwidth}if(f.cellsrenderer!=undefined){this.cellsrenderer=f.cellsrenderer}if(f.columntype!=undefined){this.columntype=f.columntype}if(f.checkchange!=undefined){this.checkchange=f.checkchange}if(f.buttonclick!=undefined){this.buttonclick=f.buttonclick}if(f.pinned!=undefined){this.pinned=f.pinned}if(f.visibleindex!=undefined){this.visibleindex=f.visibleindex}if(f.filterable!=undefined){this.filterable=f.filterable}if(f.filter!=undefined){this.filter=f.filter}if(f.resizable!=undefined){this.resizable=f.resizable}if(f.editable!=undefined){this.editable=f.editable}if(f.initeditor!=undefined){this.initeditor=f.initeditor}if(f.createeditor!=undefined){this.createeditor=f.createeditor}if(f.validation!=undefined){this.validation=f.validation}if(f.classname!=undefined){this.classname=f.classname}if(f.cellclassname!=undefined){this.cellclassname=f.cellclassname}}};this._initfields(e);return this}function a(d,e){this.setdata=function(f){if(f!=null){this.bounddata=f;this.boundindex=f.boundindex;this.visibleindex=f.visibleindex;this.group=f.group;this.parentbounddata=f.parentItem;this.uniqueid=f.uniqueid;this.level=f.level}};this.setdata(e);this.parentrow=null;this.subrows=new Array();this.owner=d;this.height=25;this.hidden=false;this.rowdetails=null;this.rowdetailsheight=100;this.rowdetailshidden=true;this.top=-1;this.getrowinfo=function(){return{hidden:this.hidden,rowdetails:this.rowdetails,rowdetailsheight:this.rowdetailsheight,showdetails:!this.rowdetailshidden,height:this.height,index:this.visibleindex}};this.setrowinfo=function(f){this.hidden=f.hidden;this.rowdetails=f.rowdetails;this.rowdetailsheight=f.rowdetailsheight;this.rowdetailshidden=!f.showdetails;this.height=f.height};return this}b.jqx.collection=function(d){this.records=new Array();this.owner=d;this.updating=false;this.beginupdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(f){var e=this.length;var g=Number(arguments[1])||0;g=(g<0)?Math.ceil(g):Math.floor(g);if(g<0){g+=e}for(;g<e;g++){if(g in this&&this[g]===f){return g}}return -1}}this._raiseEvent=function(e){var f=new jQuery.Event("collectionchanged");f.owner=this.owner;f.args=e;b(this.owner).trigger(f)};this.replace=function(f,e){this.records[f]=e;if(!this.updating){this._raiseEvent({type:"replace",element:e})}};this.isempty=function(e){if(this.records[e]==undefined){return true}return false};this.initialize=function(e){if(e<1){e=1}this.records[e-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(e){return this.records.indexOf(e)};this.add=function(e){if(e==null){return false}this.records[this.records.length]=e;if(!this.updating){this._raiseEvent({type:"add",element:e})}return true};this.insertAt=function(f,e){if(f==null||f==undefined){return false}if(e==null){return false}if(f>=0){if(f<this.records.length){this.records.splice(f,0,e);if(!this.updating){this._raiseEvent({type:"insert",index:f,element:e})}return true}else{return this.add(e)}}return false};this.remove=function(f){if(f==null||f==undefined){return false}var e=this.records.indexOf(f);if(e!=-1){this.records.splice(e,1);if(!this.updating){this._raiseEvent({type:"remove",element:f})}return true}return false};this.removeAt=function(f){if(f==null||f==undefined){return false}if(f<0){return false}if(f<this.records.length){var e=this.records[f];this.records.splice(f,1);if(!this.updating){this._raiseEvent({type:"removeAt",index:f,element:e})}return true}return false};return this};b.jqx.dataview=function(){this.self=this;this.grid=null;this.uniqueId="id";this.records=[];this.rows=[];this.columns=[];this.groups=[];this.filters=new Array();this.updated=null;this.update=null;this.suspend=false;this.pagesize=0;this.pagenum=0;this.totalrows=0;this.totalrecords=0;this.groupable=true;this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this.virtualmode=true;this._cachegrouppages=new Array();this.source=null;this.changedrecords=new Array();this.rowschangecallback=null;this.suspendupdate=function(){this.suspend=true},this.isupdating=function(){return this.suspend},this.resumeupdate=function(d){this.suspend=false;if(d==undefined){d=true}this.refresh(d)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array()};this.databind=function(d,o){var p=d._source?true:false;var e=null;if(p){e=d;d=d._source}else{e=new b.jqx.dataAdapter(d,{autoBind:false})}var g=function(u){e._options.virtualmode=u.virtualmode;e._options.totalrecords=u.totalrecords;e._options.originaldata=u.originaldata;e._options.recordids=u.recordids;e._options.cachedrecords=new Array();e._options.pagenum=u.pagenum;e._options.pageable=u.pageable;if(d.type!=undefined){e._options.type=d.type}if(d.formatdata!=undefined){e._options.formatData=d.formatdata}if(d.contenttype!=undefined){e._options.contentType=d.contenttype}if(d.async!=undefined){e._options.async=d.async}if(d.updaterow!=undefined){e._options.updaterow=d.updaterow}if(d.addrow!=undefined){e._options.addrow=d.addrow}if(d.deleterow!=undefined){e._options.deleterow=d.deleterow}if(u.pagesize==0){u.pagesize=10}e._options.pagesize=u.pagesize};var r=function(v){v.totalrecords=e.totalrecords;if(!v.virtualmode){v.originaldata=e.originaldata;v.records=e.records;v.recordids=e.recordids;v.cachedrecords=e.cachedrecords}else{var u={startindex:v.pagenum*v.pagesize,endindex:(v.pagenum*v.pagesize+v.pagesize)};if(d.recordstartindex){u.startindex=d.recordstartindex}if(d.recordendindex){u.endindex=d.recordendindex}else{if(!v.grid.pageable){u.endindex=u.startindex+100}}if(v.grid.rendergridrows){d.records=v.grid.rendergridrows(u)}if(!d.records){d.records=new Array()}if(d.records.length!=0){v.originaldata=d.records;v.records=d.records;v.cachedrecords=d.records}}};g(this);this.source=d;if(o!==undefined){uniqueId=o}var s=this;switch(d.datatype){case"local":case"array":default:if(d.localdata==null){d.localdata=[]}if(d.localdata!=null){e.dataBind();var q=function(u){r(s);if(u=="updateData"){s.refresh();s.grid._updateGridData()}else{if(d.recordstartindex&&this.virtualmode){s.updateview(d.recordstartindex,d.recordstartindex+s.pagesize)}else{s.refresh()}s.update()}};q();e.unbindBindingUpdate(s.grid.element.id);e.bindBindingUpdate(s.grid.element.id,q)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(d.localdata!=null){e.dataBind();var q=function(u){r(s);if(u=="updateData"){s.refresh();s.grid._updateGridData()}else{if(d.recordstartindex){s.updateview(d.recordstartindex,d.recordstartindex+s.pagesize)}else{s.refresh()}s.update()}};q();e.unbindBindingUpdate(s.grid.element.id);e.bindBindingUpdate(s.grid.element.id,q);return}var n={};var k=0;var t={};for(x=0;x<this.filters.length;x++){var l=this.filters[x].datafield;var f=this.filters[x].filter;var h=f.getfilters();t[l+"operator"]=f.operator;for(m=0;m<h.length;m++){h[m].datafield=l;t["filtervalue"+k]=h[m].value;t["filtercondition"+k]=h[m].condition;t["filteroperator"+k]=h[m].operator;t["filterdatafield"+k]=l;k++}}t.filterscount=k;t.groupscount=s.groups.length;for(x=0;x<s.groups.length;x++){t["group"+x]=s.groups[x]}groups:s.groups;b.extend(t,{sortdatafield:s.sortfield,sortorder:s.sortfielddirection,pagenum:s.pagenum,pagesize:s.grid.pagesize});if(e._options.data){b.extend(e._options.data,t)}else{if(d.data){b.extend(t,d.data)}e._options.data=t}var q=function(){r(s);if(d.recordstartindex){s.updateview(d.recordstartindex,d.recordstartindex+s.pagesize)}else{s.refresh()}s.update()};e.unbindDownloadComplete(s.grid.element.id);e.bindDownloadComplete(s.grid.element.id,q);e.dataBind()}};this.getid=function(g,e,f){if(b(g,e).length>0){return b(g,e).text()}if(g){if(g.toString().length>0){var d=b(e).attr(g);if(d!=null&&d.toString().length>0){return d}}}return f};this.getvaluebytype=function(g,d){var e=g;if(d.type=="date"){var f=new Date(g);if(f.toString()=="NaN"||f.toString()=="Invalid Date"){if(b.jqx.dataFormat){g=b.jqx.dataFormat.tryparsedate(g)}else{g=f}}else{g=f}if(g==null){g=e}}else{if(d.type=="float"){var g=parseFloat(g);if(isNaN(g)){g=e}}else{if(d.type=="int"){var g=parseInt(g);if(isNaN(g)){g=e}}else{if(d.type=="bool"){if(g!=null){if(g.toLowerCase()=="false"){g=false}else{if(g.toLowerCase()=="true"){g=true}}}if(g==1){g=true}else{if(g==0){g=false}else{g=""}}}}}}return g};this.setpaging=function(d){if(d.pageSize!=undefined){this.pagesize=d.pageSize}if(d.pageNum!=undefined){this.pagenum=Math.min(d.pageNum,Math.ceil(this.totalrows/this.pagesize))}this.refresh()};this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}};this._clearcaches=function(){this.sortcache={};this.sortdata=[];this.changedrecords=new Array();this.records=new Array();this.cacheddata=new Array();this.originaldata=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid={}};this.addfilter=function(f,e){var d=-1;for(m=0;m<this.filters.length;m++){if(this.filters[m].datafield==f){d=m;break}}if(d==-1){this.filters[this.filters.length]={filter:e,datafield:f}}else{this.filters[d]={filter:e,datafield:f}}};this.removefilter=function(d){for(i=0;i<this.filters.length;i++){if(this.filters[i].datafield==d){this.filters.splice(i,1);break}}};this.getItemFromIndex=function(d){return this.records[d]};this.updaterow=function(e,g){if(g!=undefined&&e!=undefined){g.uid=e;if(!(g[this.source.id])){g[this.source.id]=g.uid}var d=this.recordsbyid["id"+e];var f=this.records.indexOf(d);this.records[f]=g;this.refresh();this.changedrecords[g.uid]={Type:"Update",OldData:d,Data:g};return true}return false};this.addrow=function(g,h,d){if(h!=undefined){if(!g){h.uid=this.getid(this.source.id,h,this.totalrecords);var e=this.recordsbyid["id"+h.uid];while(e!=null){var f=Math.floor(Math.random()*10000).toString();h.uid=f;e=this.recordsbyid["id"+f]}}else{h.uid=g}if(!(h[this.source.id])){h[this.source.id]=h.uid}if(d=="last"){this.records.push(h)}else{this.records.splice(0,0,h)}this.totalrecords++;this.refresh();this.changedrecords[h.uid]={Type:"New",Data:h};return true}return false};this.deleterow=function(e){if(e!=undefined){if(this.recordsbyid["id"+e]){var d=this.recordsbyid["id"+e];var f=this.records.indexOf(d);this.changedrecords[e]={Type:"Delete",Data:this.records[f]};this.records.splice(f,1);this.totalrecords--;this.refresh();return true}return false}return false};this.reload=function(f,d,u,g,h,y,w){var p=this;var o=new Array();var r=f;var k=d;var l=u;var s=g;var n=k.length;var A=0;var e=0;var v,q;this.columns=[];this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid={};if(this.totalrecords==0){Object.size=function(D){var C=0,B;for(B in D){if(D.hasOwnProperty(B)){C++}}return C};var z=Object.size(r);this.totalrecords=z;b.each(this.records,function(C){var D=this;var B=0;b.each(D,function(E,F){p.columns[B++]=E});return false})}if(this.virtualmode){if(this.pageable){this.updateview();return}var y=0;if(!this.groupable){this.updateview();return}else{var w=this.totalrecords}}else{var y=0;var w=this.totalrecords}if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var t=y;t=this.loadgrouprecords(0,y,w,l,e,s,k,n,o)}else{A=this.loadflatrecords(y,w,l,e,s,k,n,o)}if(n>e){k.splice(e,n-e)}if(this.groups.length>0&&this.groupable){this.totalrows=t}else{this.totalrows=A}return o};this.loadflatrecords=function(d,p,e,q,l,u,o,r){var t=this;var k=d;var n=d;p=Math.min(p,this.totalrecords);var g=this.sortdata!=null;var f=this.source.id&&(this.source.datatype=="local"||this.source.datatype=="array"||this.source.datatype=="");var h=g?this.sortdata:this.records;for(obj=d;obj<p;obj++){var s={};if(!g){s=b.extend({},h[obj]);id=s[t.uniqueId];s.boundindex=k;t.loadedrecords[k]=s;if(!s.uid){s.uid=t.getid(t.source.id,s,k)}t.recordsbyid["id"+s.uid]=h[obj];s.uniqueid=t.generatekey();t.bounditems[this.bounditems.length]=s}else{s=b.extend({},h[obj].value);id=s[t.uniqueId];s.boundindex=h[obj].index;if(!s.uid){s.uid=t.getid(t.source.id,s,s.boundindex)}t.recordsbyid["id"+s.uid]=h[obj].value;t.loadedrecords[k]=s;s.uniqueid=t.generatekey();t.bounditems[s.boundindex]=s}if(q>=o||id!=u[q][t.uniqueId]||(l&&l[id])){r[r.length]=q}u[q]=s;q++;s.visibleindex=n;n++;k++}return n},this.updateview=function(o,p){var r=this;var k=this.pagesize*this.pagenum;var n=0;var s=new Array();var e=this.filters;var h=this.updated;var l=s.length;if(this.pageable){if(this.virtualmode){if(!this.groupable||this.groups.length==0){this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,n,h,s,l,[]);this.totalrows=s.length}else{if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(this._cachegrouppages[this.pagenum+"_"+this.pagesize]!=undefined){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize];this.totalrows=this.rows.length;return}this.loadgrouprecords(0,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,n,h,s,l,[]);this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows;this.totalrows=this.rows.length;return}}}}else{if(this.virtualmode&&(!this.groupable||this.groups.length==0)){var g=this.pagesize;if(g==0){g=Math.min(100,this.totalrecords)}var d=g*this.pagenum;if(this.loadedrecords.length==0){d=0}if(o!=null&&p!=null){this.loadflatrecords(o,p,e,n,h,s,l,[])}else{this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),e,n,h,s,l,[])}this.totalrows=this.loadedrecords.length;this.rows=s;if(s.length>=g){return}}}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage){s=this._updategroupsinpage(r,e,k,n,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum))}else{for(i=this.pagesize*this.pagenum;i<this.pagesize*(1+this.pagenum);i++){var q=i<this.loadedrecords.length?this.loadedrecords[i]:null;if(q==null){continue}if(!this.pagesize||(k>=this.pagesize*this.pagenum&&k<=this.pagesize*(this.pagenum+1))){s[n]=q;n++}k++}}if((s.length==0||s.length<this.pagesize)&&!this.pageable&&this.virtualmode){n=s.length;var f=s.length;for(i=this.pagesize*this.pagenum;i<this.pagesize*(1+this.pagenum)-f;i++){var q={};q.boundindex=i+f;q.visibleindex=i+f;q.uniqueid=r.generatekey();q.empty=true;r.bounditems[i+f]=q;s[n]=q;n++}}this.rows=s};this.generatekey=function(){var d=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d())};this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,true)};this.refresh=function(h){if(this.suspend){return}if(h==undefined){h=true}var n=this.rows.length;var l=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var e="";var g=this.cachedrecords.length;var t=new Array();this.totalrecords=0;var o=this.cachedrecords;var f=this.filters.length;if(this.source!=null&&this.source.filter!=undefined&&this.source.localdata!=undefined){t=this.source.filter(this.filters,o,g);if(t==undefined){t=new Array()}this.records=t}else{if(this.source.filter==null||this.source.filter==undefined){for(row=0;row<g;row++){var p=o[row];var d=undefined;for(j=0;j<f;j++){var e=this.filters[j].filter;var s=p[this.filters[j].datafield];var u=e.evaluate(s);if(d==undefined){d=u}else{if(e.operator=="or"){d=d||u}else{d=d&&u}}}if(d){t[t.length]=b.extend({dataindex:row},p)}}this.records=t}}if(this.sortdata){var k=this.sortfield;if(this.sortcache[k]){this.sortdata=null;var q=this.sortcache[k].direction;this.sortcache[k]=null;this.sortby(this.sortfield,q);return}}}else{if(this.filters.length==0&&!this.virtualmode){if(this.cachedrecords){this.totalrecords=0;var o=this.cachedrecords;this.records=o;if(this.sortdata){var k=this.sortfield;if(this.sortcache[k]){this.sortdata=null;var q=this.sortcache[k].direction;this.sortcache[k]=null;this.sortby(this.sortfield,q);return}}}}}var r=this.reload(this.records,this.rows,this.filter,this.updated,h);this.updated=null;if(this.rowschangecallback!=null){if(l!=totalrows){this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()})}if(n!=rows.length){this.rowschangecallback({type:"RowsCountChanged",data:{previous:n,current:rows.length}})}if(r.length>0||n!=rows.length){this.rowschangecallback({type:"RowsChanged",data:{previous:n,current:rows.length,diff:r}})}}};return this}})(jQuery);(function(a){a.extend(a.jqx._jqxGrid.prototype,{selectrow:function(b){this._applyrowselection(b,true)},unselectrow:function(b){this._applyrowselection(b,false)},selectcell:function(c,b){this._applycellselection(c,b,true)},unselectcell:function(c,b){this._applycellselection(c,b,false)},clearselection:function(b){this.selectedrowindex=-1;for(i=0;i<this.selectedrowindexes.length;i++){this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]})}this.selectedrowindexes=new Array();this.selectedcells=new Array();if(!b){return}this._renderrows(this.virtualsizeinfo)},getselectedrowindex:function(){return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){return this.selectedcell},getselectedcells:function(){return this.selectedcells},_applyrowselection:function(c,b,g,e,f){if(c==null){return false}var d=this.selectedrowindex;if(this.selectionmode=="singlerow"){if(b){this._raiseEvent(2,{rowindex:c})}else{this._raiseEvent(3,{rowindex:c})}this._raiseEvent(3,{rowindex:d});this.selectedrowindexes=new Array();this.selectedcells=new Array()}if(e==true){this.selectedrowindexes=new Array()}var h=this.selectedrowindexes.indexOf(c);if(b){this.selectedrowindex=c;if(this.selectedrowindexes.indexOf(c)==-1){this.selectedrowindexes.push(c);if(this.selectionmode!="singlerow"){this._raiseEvent(2,{rowindex:c})}}else{if(this.selectionmode=="multiplerows"){this.selectedrowindexes.splice(h,1);this._raiseEvent(3,{rowindex:this.selectedrowindex});this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1}}}else{if(h>=0||this.selectionmode=="singlerow"||this.selectionmode=="multiplerowsextended"){this.selectedrowindexes.splice(h,1);this._raiseEvent(3,{rowindex:this.selectedrowindex});this.selectedrowindex=-1}}if(g==undefined||g){this._rendervisualrows()}return true},_applycellselection:function(d,k,c,h){if(d==null){return false}var e=this.selectedrowindex;if(this.selectionmode=="singlecell"){var g=this.selectedcell;if(g!=null){this._raiseEvent(16,{rowindex:g.rowindex,datafield:g.datafield})}this.selectedcells=new Array()}if(this.selectionmode=="multiplecellsextended"){var g=this.selectedcell;if(g!=null){this._raiseEvent(16,{rowindex:g.rowindex,datafield:g.datafield})}}var f=d+"_"+k;var b={rowindex:d,datafield:k};if(c){this.selectedcell=b;if(!this.selectedcells[f]){this.selectedcells[f]=b;this.selectedcells.length++;this._raiseEvent(15,b)}else{if(this.selectionmode=="multiplecells"){this.selectedcells[f]=undefined;this.selectedcells.length--;this._raiseEvent(16,b)}}}else{this.selectedcells[f]=undefined;this.selectedcells.length--;this._raiseEvent(16,b)}if(h==undefined||h){this._rendervisualrows()}return true},_getcellindex:function(b){var c=-1;a.each(this.selectedcells,function(){c++;if(this[b]){return false}});return c},_clearhoverstyle:function(){if(undefined==this.hoveredrow||this.hoveredrow==-1){return}var b=this.table.find(".jqx-grid-cell-hover");if(b.length>0){b.removeClass(this.toTP("jqx-grid-cell-hover"));b.removeClass(this.toTP("jqx-fill-state-hover"))}this.hoveredrow=-1},_clearselectstyle:function(){var e=this.table[0].rows.length;for(i=0;i<e;i++){var d=this.table[0].rows[i];var b=d.cells.length;for(j=0;j<b;j++){var c=d.cells[j];a(c).removeClass(this.toTP("jqx-grid-cell-selected"));a(c).removeClass(this.toTP("jqx-grid-cell-hover"));a(c).removeClass(this.toTP("jqx-fill-state-pressed"));a(c).removeClass(this.toTP("jqx-fill-state-hover"))}}},_selectrowwithmouse:function(m,g,c,d){var n=g.row;if(n==undefined){return}var e=g.index;var b=this.hittestinfo[e].visualrow;if(this.hittestinfo[e].details){return}var f=b.cells[0].className;if(n.group){return}if(this.selectionmode=="multiplerows"||this.selectionmode=="multiplecells"){var k=c.indexOf(n.boundindex)!=-1;var h=n.boundindex+"_"+d;if(this.selectionmode.indexOf("cell")!=-1){var l=this.selectedcells[h]!=undefined;if(this.selectedcells[h]!=undefined&&l){this._selectcellwithstyle(m,false,e,d,b)}else{this._selectcellwithstyle(m,true,e,d,b)}}else{if(k){this._selectrowwithstyle(m,b,false,d)}else{this._selectrowwithstyle(m,b,true,d)}}}else{this._clearselectstyle();this._selectrowwithstyle(m,b,true,d);if(this.selectionmode.indexOf("cell")!=-1){this._selectcellwithstyle(m,true,e,d,b)}}},_selectcellwithstyle:function(d,c,g,f,e){var b=a(e.cells[d._getcolumnindex(f)]);b.removeClass(this.toTP("jqx-grid-cell-hover"));b.removeClass(this.toTP("jqx-fill-state-hover"));if(c){b.addClass(this.toTP("jqx-grid-cell-selected"));b.addClass(this.toTP("jqx-fill-state-pressed"))}else{b.removeClass(this.toTP("jqx-grid-cell-selected"));b.removeClass(this.toTP("jqx-fill-state-pressed"))}},_selectrowwithstyle:function(e,g,b,h){var c=g.cells.length;var f=0;if(e.rowdetails&&e.showrowdetailscolumn){f=1}for(i=f;i<c;i++){var d=g.cells[i];if(b){a(d).removeClass(this.toTP("jqx-grid-cell-hover"));a(d).removeClass(this.toTP("jqx-fill-state-hover"));if(e.selectionmode.indexOf("cell")==-1){a(d).addClass(this.toTP("jqx-grid-cell-selected"));a(d).addClass(this.toTP("jqx-fill-state-pressed"))}}else{a(d).removeClass(this.toTP("jqx-grid-cell-hover"));a(d).removeClass(this.toTP("jqx-grid-cell-selected"));a(d).removeClass(this.toTP("jqx-fill-state-hover"));a(d).removeClass(this.toTP("jqx-fill-state-pressed"))}}},_handlemousemoveselection:function(b,p){if((p.selectionmode=="multiplerowsextended"||p.selectionmode=="multiplecellsextended")&&p.mousecaptured){var d=this.showheader?this.columnsheader.height()+2:0;var c=this._groupsheader()?this.groupsheader.height():0;var f=this.host.offset();var m=b.pageX;var l=b.pageY-c;var o=parseInt(this.columnsheader.offset().top);var e=d;if(l<e){l=e+5}var n=parseInt(Math.min(p.mousecaptureposition.left,m));var k=-5+parseInt(Math.min(p.mousecaptureposition.top,l));var g=parseInt(Math.abs(p.mousecaptureposition.left-m));var h=parseInt(Math.abs(p.mousecaptureposition.top-l));this.selectionarea.css("visibility","visible");this.selectionarea.width(g);this.selectionarea.height(h);this.selectionarea.css("left",n);this.selectionarea.css("top",k)}},_handlemouseupselection:function(u,o){if(this.selectionarea.css("visibility")!="visible"){o.mousecaptured=false;return true}if(o.mousecaptured&&(o.selectionmode=="multiplerowsextended"||o.selectionmode=="multiplecellsextended")){o.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden");var v=this.showheader?this.columnsheader.height()+2:0;var p=this._groupsheader()?this.groupsheader.height():0;var z=this.selectionarea.offset();var c=this.host.offset();var n=z.left-c.left;var k=z.top-v-c.top-p;var s=k;var g=n+this.selectionarea.width();var A=n;var l=new Array();var e=new Array();if(o.selectionmode=="multiplerowsextended"){while(k<s+this.selectionarea.height()){var b=this._hittestrow(n,k);var f=b.row;var h=b.index;if(h!=-1){if(!e[h]){e[h]=true;l[l.length]=b}}k+=20}var s=0;a.each(l,function(){var m=this;var x=this.row;if(o.selectionmode!="none"&&o._selectrowwithmouse){if(s==0){o._applyrowselection(x.boundindex,true,false,true)}else{o._applyrowselection(x.boundindex,true,false,false)}s++}})}else{var r=o.hScrollInstance;var t=r.value;var q=o.table[0].rows[0];o.selectedcells=new Array();while(k<s+o.selectionarea.height()){var b=o._hittestrow(n,k);var f=b.row;var h=b.index;if(h!=-1){if(!e[h]){e[h]=true;for(i=0;i<q.cells.length;i++){var d=parseInt(a(o.columnsrow[0].cells[i]).css("left"))-t;var w=d+a(o.columnsrow[0].cells[i]).width();if((A>=d&&A<=w)||(g>=d&&g<=w)||(d>=A&&d<=g)){o._applycellselection(f.boundindex,o._getcolumnat(i).datafield,true,false)}}}}k+=20}}o._renderrows(o.virtualsizeinfo)}}},selectprevcell:function(e,c){var f=this._getcolumnindex(c);var b=this.columns.records.length;var d=this.getcolumnat(f-1);if(d!=null){this.clearselection();this.selectcell(e,d.datafield)}},selectnextcell:function(e,d){var f=this._getcolumnindex(d);var c=this.columns.records.length;var b=this.getcolumnat(f+1);if(b!=null){this.clearselection();this.selectcell(e,b.datafield)}},_handlekeydown:function(t,n){if(n.editcell){return true}if(n.selectionmode=="none"){return true}var x=t.charCode?t.charCode:t.keyCode?t.keyCode:0;var m=false;if(t.altKey){return true}var k=Math.round(n._gettableheight());var r=Math.round(k/n.rowsheight);var e=n.getdatainformation();switch(n.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":var y=n.getselectedcell();if(y!=null){var d=this.getrowvisibleindex(y.rowindex);var f=d;var l=y.datafield;var o=n._getcolumnindex(l);var b=n.columns.records.length;var p=function(B,A){var z=function(F,C){var E=n.dataview.loadedrecords[F];if(E!=undefined){n.clearselection();var D=E.boundindex;n.selectcell(D,C);n._oldselectedcell=n.selectedcell;m=true;n.ensurecellvisible(F,C);return true}return false};if(!z(B,A)){n.ensurecellvisible(B,A);z(B,A);if(n.virtualmode){n.host.focus()}}};var u=function(){p(0,l)};var g=function(){var z=e.rowscount-1;p(z,l)};var c=x==9&&!t.shiftKey;var h=x==9&&t.shiftKey;if(x==39||c){var q=n.getcolumnat(o+1);if(q!=null){p(f,q.datafield)}else{if(!c){m=true}}}else{if(x==37||h){var w=n.getcolumnat(o-1);if(w!=null){p(f,w.datafield)}else{if(!h){m=true}}}else{if(x==36){u()}else{if(x==35){g()}else{if(x==33){if(f-r>=0){var v=f-r;p(v,l)}else{u()}}else{if(x==34){if(e.rowscount>f+r){var v=f+r;p(v,l)}else{g()}}else{if(x==38){if(f>0){p(f-1,l)}else{m=true}}else{if(x==40){if(e.rowscount>f+1){p(f+1,l)}else{m=true}}}}}}}}}}break;case"singlerow":case"multiplerows":case"multiplerowsextended":var f=n.getselectedrowindex();if(f==null||f==-1){return true}f=this.getrowvisibleindex(f);var s=function(A){var z=function(C){var E=n.dataview.loadedrecords[C];if(E!=undefined){var D=E.boundindex;var B=n.selectedrowindex;n.clearselection();n.selectedrowindex=B;n.selectrow(D);n.ensurerowvisible(C);m=true;return true}return false};if(!z(A)){n.ensurerowvisible(A);z(A);if(n.virtualmode){n.host.focus()}}};var u=function(){s(0)};var g=function(){var z=e.rowscount-1;s(z)};if(x==36){u()}else{if(x==35){g()}else{if(x==33){if(f-r>=0){var v=f-r;s(v)}else{u()}}else{if(x==34){if(e.rowscount>f+r){var v=f+r;s(v)}else{g()}}else{if(x==38){if(f>0){s(f-1)}else{m=true}}else{if(x==40){if(e.rowscount>f+1){s(f+1)}else{m=true}}}}}}}break}if(m){if(n.editcell!=null&&n.endcelledit){n.endcelledit(n.editcell.row,n.editcell.column,true,true)}return false}return true},_handlemousemove:function(s,n){var t;var o;var e;var m;var l;if(n.enablehover||n.selectionmode=="multiplerows"){t=this.showheader?this.columnsheader.height()+2:0;o=this._groupsheader()?this.groupsheader.height():0;e=this.host.offset();m=s.pageX-e.left;l=s.pageY-t-e.top-o}if(n.selectionmode=="multiplerowsextended"||n.selectionmode=="multiplecellsextended"){if(n.mousecaptured==true){return}}if(n.enablehover){if(n.disabled){return}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){return}var c=this._hittestrow(m,l);if(!c){return}var g=c.row;var h=c.index;if(this.hoveredrow!=-1&&h!=-1&&this.hoveredrow==h&&this.selectionmode.indexOf("cell")==-1){return}this._clearhoverstyle();if(h==-1||g==undefined){return}var p=this.hittestinfo[h].visualrow;if(p==null){return}if(this.hittestinfo[h].details){return}var v=0;if(n.rowdetails&&n.showrowdetailscolumn){v=1}var k=p.cells[v].className;if(g.group||k.indexOf("jqx-grid-cell-selected")!=-1){return}this.hoveredrow=h;if(this.selectionmode.indexOf("cell")!=-1){var d=-1;var q=this.hScrollInstance;var r=q.value;for(i=0;i<p.cells.length;i++){var f=parseInt(a(this.columnsrow[0].cells[i]).css("left"))-r;var u=f+a(this.columnsrow[0].cells[i]).width();if(u>=m&&m>=f){d=i;break}}if(d!=-1){var b=p.cells[d];if(b.className.indexOf("jqx-grid-cell-selected")==-1){if(b.className.indexOf("jqx-grid-group")==-1){a(b).addClass(this.toTP("jqx-grid-cell-hover"));a(b).addClass(this.toTP("jqx-fill-state-hover"))}}}return}for(i=v;i<p.cells.length;i++){var b=p.cells[i];if(b.className.indexOf("jqx-grid-group")==-1){a(b).addClass(this.toTP("jqx-grid-cell-hover"));a(b).addClass(this.toTP("jqx-fill-state-hover"))}}}else{return true}}})})(jQuery);(function(a){a.extend(a.jqx._jqxGrid.prototype,{setcolumnresizable:function(b,c){this._setcolumnproperty(b,"resizable",text)},getcolumnresizable:function(b){return this._getcolumnproperty(b,"resizable")},_handlecolumnsresize:function(){var c=this;if(this.columnsresize){var b=false;if(c.isTouchDevice()){b=true}var g="mousemove.resize"+this.element.id;var d="mousedown.resize"+this.element.id;var h="mouseup.resize"+this.element.id;if(b){var g="touchmove.resize"+this.element.id;var d="touchstart.resize"+this.element.id;var h="touchend.resize"+this.element.id}this.removeHandler(a(document),g);this.addHandler(a(document),g,function(k){var l=a.data(document.body,"contextmenu"+c.element.id);if(l!=null){return true}if(c.resizablecolumn!=null&&!c.disabled&&c.resizing){if(c.resizeline!=null){var n=c.host.offset();var s=parseInt(c.resizestartline.offset().left);var i=s-c._startcolumnwidth;var t=c.resizablecolumn.column.minwidth;if(t=="auto"){t=0}else{t=parseInt(t)}var j=c.resizablecolumn.column.maxwidth;if(j=="auto"){j=0}else{j=parseInt(j)}var o=k.pageX;if(b){var q=c.getTouches(k);var p=q[0];o=p.pageX}i+=t;var r=j>0?s+j:0;var m=j==0?true:c._startcolumnwidth+o-s<j?true:false;if(m){if(o>=n.left&&o>=i&&o<=n.left+c.host.width()){if(r!=0&&k.pageX<r){c.resizeline.css("left",o)}else{if(r==0){c.resizeline.css("left",o)}}if(b){return false}}}}}if(!b){return false}});this.removeHandler(a(document),d);this.addHandler(a(document),d,function(j){var i=a.data(document.body,"contextmenu"+c.element.id);if(i!=null){return true}if(c.resizablecolumn!=null&&!c.disabled){c._startcolumnwidth=c.resizablecolumn.column.width;a(document.body).addClass("jqx-disableselect");c.resizing=true;c._resizecolumn=c.resizablecolumn.column;c.resizeline=c.resizeline||a('<div style="position: absolute;"></div>');c.resizestartline=c.resizestartline||a('<div style="position: absolute;"></div>');c.resizebackground=c.resizebackground||a('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>');c.resizebackground.css("opacity",0.01);c.resizebackground.css("cursor","col-resize");c.resizeline.css("cursor","col-resize");c.resizestartline.css("cursor","col-resize");c.resizeline.addClass(c.toThemeProperty("jqx-grid-column-resizeline"));c.resizestartline.addClass(c.toThemeProperty("jqx-grid-column-resizestartline"));a(document.body).append(c.resizeline);a(document.body).append(c.resizestartline);a(document.body).append(c.resizebackground);var k=c.resizablecolumn.columnelement.offset();c.resizebackground.css("left",c.host.offset().left);c.resizebackground.css("top",c.host.offset().top);c.resizebackground.width(c.host.width());c.resizebackground.height(c.host.height());c.resizebackground.css("z-index",999999999);var l=function(m){m.css("left",parseInt(k.left)+c._startcolumnwidth);var p=c._groupsheader();var o=p?c.groupsheader.height():0;var n=0;if(c.pageable){n=c.pagerheight}var q=c.hScrollBar.css("visibility")=="visible"?17:0;m.css("top",parseInt(k.top));m.css("z-index",9999999999);m.height(c.host.height()-n-o-q);if(c.enableanimations){m.show("fast")}else{m.show()}};l(c.resizeline);l(c.resizestartline)}});var e=function(){a(document.body).removeClass("jqx-disableselect");if(!c.resizing){return}c.resizing=false;if(c.disabled){return}if(c._resizecolumn!=null&&c.resizeline!=null&&c.resizeline.css("display")=="block"){var m=parseInt(c.resizeline.css("left"));var j=parseInt(c.resizestartline.css("left"));var i=c._startcolumnwidth+m-j;var l=c._resizecolumn.width;c._closemenu();c._resizecolumn.width=i;c._updatecolumnwidths();c._updatecellwidths();c._raiseEvent(14,{columntext:c._resizecolumn.text,column:c._resizecolumn.getcolumnproperties(),datafield:c._resizecolumn.datafield,oldwidth:l,newwidth:i});var k=c.groups.length;if(c.groupable&&k>0||c.rowdetails){c._renderrows(c.virtualsizeinfo)}c._resizecolumn=null;c.resizeline.hide();c.resizestartline.hide();c.resizebackground.remove()}c.resizablecolumn=null};if(window.frameElement){if(window.top!=null){var f=function(i){e()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}this.removeHandler(a(document),h);this.addHandler(a(document),h,function(j){var i=a.data(document.body,"contextmenu"+c.element.id);if(i!=null){return true}e()})}}})})(jQuery);(function(a){a.jqx.dataview.sort=function(){this.sortby=function(p,g,l){var m=Object.prototype.toString;if(g==null){this.sortdata=null;this.refresh();return}if(g==undefined){g=true}if(g=="a"||g=="asc"||g=="ascending"||g==true){g=true}else{g=false}var h=p;this.sortfield=p;this.sortfielddirection=g?"asc":"desc";if(this.sortcache==undefined){this.sortcache={}}this.sortdata=[];var r=[];var n=false;if(h=="constructor"){h=""}if(!this.virtualmode&&this.sortcache[h]!=null){var b=this.sortcache[h];r=b._sortdata;if(b.direction==g){r.reverse()}else{if(!b.direction&&g){r.reverse()}n=true}if(r.length<this.totalrecords){this.sortcache={};n=false;r=[]}}Object.prototype.toString=(typeof p=="function")?p:function(){return this[p]};var f=this.records;var o=this;var j="";if(this.source.datafields){a.each(this.source.datafields,function(){if(this.name==p){if(this.type){j=this.type}return false}})}if(r.length==0){if(f.length){var c=f.length;for(i=0;i<c;i++){var k=f[i];if(k!=null){var q=k;var e=q.toString();r.push({sortkey:e,value:q,index:i})}}}else{var d=false;for(obj in f){var k=f[obj];if(k==undefined){d=true;break}var q=k;r.push({sortkey:q.toString(),value:q,index:obj})}if(d){a.each(f,function(s,t){r.push({sortkey:t.toString(),value:t,index:s})})}}}if(!n){if(l==null){r.sort(this._compare)}else{r.sort(l)}}if(!g){r.reverse()}Object.prototype.toString=m;this.sortdata=r;this.sortcache[h]={_sortdata:r,direction:g};this.reload(this.records,this.rows,this.filters,this.updated,true)},this.clearsortdata=function(){this.sortcache={};this.sortdata=[]};this._compare=function(c,b){var c=c.sortkey;var b=b.sortkey;if(c===undefined){c=null}if(b===undefined){b=null}if(c===null&&b===null){return 0}if(c===null&&b!==null){return 1}if(c!==null&&b===null){return -1}if(a.jqx.dataFormat){if(a.jqx.dataFormat.isNumber(c)&&a.jqx.dataFormat.isNumber(b)){if(c<b){return -1}if(c>b){return 1}return 0}else{if(a.jqx.dataFormat.isDate(c)&&a.jqx.dataFormat.isDate(b)){if(c<b){return -1}if(c>b){return 1}return 0}else{if(!a.jqx.dataFormat.isNumber(c)&&!a.jqx.dataFormat.isNumber(b)){c=String(c).toLowerCase();b=String(b).toLowerCase()}}}}try{if(c<b){return -1}if(c>b){return 1}}catch(d){var e=d}return 0};this._equals=function(c,b){return(this._compare(c,b)===0)}};a.extend(a.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var b=this;var c=this.getsortcolumn();if(this.sortdirection){a.each(this.columns.records,function(e,f){var d=a.data(document.body,"groupsortelements"+this.datafield);if(c==null||this.datafield!=c){a(this.sortasc).hide();a(this.sortdesc).hide();if(d!=null){d.sortasc.hide();d.sortdesc.hide()}}else{if(b.sortdirection.ascending){a(this.sortasc).show();a(this.sortdesc).hide();if(d!=null){d.sortasc.show();d.sortdesc.hide()}}else{a(this.sortasc).hide();a(this.sortdesc).show();if(d!=null){d.sortasc.hide();d.sortdesc.show()}}}})}},setcolumnsortable:function(b,c){this._setcolumnproperty(b,"sortable",c)},getcolumnsortable:function(b){return this._getcolumnproperty(b,"sortable")},getsortcolumn:function(){if(this.sortcolumn){return this.sortcolumn}return null},removesort:function(){this.sortby(null)},sortby:function(c,e,d){if(this._loading){alert(this.loadingerrormessage);return false}if(c==null){e=null;c=this.sortcolumn}if(c){var b=this;if(d==undefined&&b.source.sortcomparer!=null){d=b.source.sortcomparer}if(e=="a"||e=="asc"||e=="ascending"||e==true){ascending=true}else{ascending=false}var f=b.getcolumn(c);if(f==undefined||f==null){return}if(e!=null){b.sortdirection={ascending:ascending,descending:!ascending}}else{b.sortdirection={ascending:false,descending:false}}if(b.source.sort){b.dataview.sortfield=c;if(e==null){b.dataview.sortfielddirection=""}else{b.dataview.sortfielddirection=ascending?"asc":"desc"}b.source.sort(c,e)}else{b.dataview.sortby(c,e,d)}if(e!=null){b.sortcolumn=c}else{b.sortcolumn=null}if(b.groupable&&b.groups.length>0){b._render(true,false,false);if(b._updategroupheadersbounds){b._updategroupheadersbounds()}}else{if(b.pageable){b.dataview.updateview()}b._updaterowsproperties();b.rendergridcontent(true)}b._raiseEvent(6,{sortinformation:b.getsortinformation()})}},_togglesort:function(d){var b=this;if(d.sortable&&b.sortable){var c=b.getsortinformation();var e=null;if(c.sortcolumn!=null&&c.sortcolumn==d.datafield){e=c.sortdirection.ascending;if(b.sorttogglestates>1){if(e==true){e=false}else{e=null}}else{e=!e}}else{e=true}b.sortby(d.datafield,e,null)}}})})(jQuery);(function(a){a.extend(a.jqx._jqxGrid.prototype,{setcolumnfilterable:function(b,c){this._setcolumnproperty(b,"filterable",text)},getcolumnfilterable:function(b){return this._getcolumnproperty(b,"filterable")},_renderfiltercolumn:function(){var b=this;if(this.filterable){a.each(this.columns.records,function(c,d){if(b.autoshowfiltericon){if(this.filter){a(this.filtericon).show()}else{a(this.filtericon).hide()}}else{a(this.filtericon).show()}})}},_getcolumntypebydatafield:function(d){var e=this;var c="string";if(e.source.datafields){a.each(e.source.datafields,function(){if(this.name==d.datafield){if(this.type){c=this.type}return false}})}else{if(d!=null){if(this.dataview.cachedrecords==undefined){return c}if(this.dataview.cachedrecords.length==0){return c}var b=this.dataview.cachedrecords[0][d.datafield];if(b!=null){if(typeof b=="boolean"){c="boolean"}else{if(a.jqx.dataFormat.isNumber(b)){c="number"}else{var f=new Date(b);if(f.toString()=="NaN"||f.toString()=="Invalid Date"){if(a.jqx.dataFormat){f=a.jqx.dataFormat.tryparsedate(b);if(f!=null){return"date"}else{c="string"}}else{c="string"}}else{c="date"}}}}}}return c},_getfiltersbytype:function(b){var c=this;var d="";switch(b){case"number":case"float":case"int":d=c.gridlocalization.filternumericcomparisonoperators;break;case"date":d=c.gridlocalization.filterdatecomparisonoperators;break;case"boolean":d=c.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:d=c.gridlocalization.filterstringcomparisonoperators;break}return d},_updatefilterpanel:function(x,b,c){if(x==null||x==undefined){x=this}var d=x._getcolumntypebydatafield(c);var s=x._getfiltersbytype(d);if(!x.host.jqxDropDownList){alert("jqxdropdownlist is not loaded.");return}var n=a(b).find("#filterclearbutton"+x.element.id);var g=a(b).find("#filterbutton"+x.element.id);var u=a(b).find("#filter1"+x.element.id);var r=a(b).find("#filter2"+x.element.id);var t=a(b).find("#filter3"+x.element.id);var q=a(b).find(".filtertext1"+x.element.id);var p=a(b).find(".filtertext2"+x.element.id);q.val("");p.val("");this.removeHandler(g,"click");this.addHandler(g,"click",function(){x._buildfilter(x,b,c);x._closemenu()});this.removeHandler(n,"click");this.addHandler(n,"click",function(){x._clearfilter(x,b,c);x._closemenu()});u.jqxDropDownList({source:s});t.jqxDropDownList({source:s});if(d=="boolean"){u.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0});t.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0})}else{u.jqxDropDownList({autoDropDownHeight:false,selectedIndex:2});t.jqxDropDownList({autoDropDownHeight:false,selectedIndex:2})}var l=c.filter;if(l!=null){var w=l.getfilterat(0);var v=l.getfilterat(1);var k=l.getoperatorat(0);var h=[];switch(d){case"number":case"int":case"float":case"decimal":h=l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":h=l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":h=l.getoperatorsbyfiltertype("datefilter");break;case"string":h=l.getoperatorsbyfiltertype("stringfilter");break}var j=this.enableanimations?"default":"none";if(w!=null){var f=h.indexOf(w.comparisonoperator);var o=w.filtervalue;q.val(o);u.jqxDropDownList({selectedIndex:f,animationType:j})}if(v!=null){var e=h.indexOf(v.comparisonoperator);var m=v.filtervalue;p.val(m);t.jqxDropDownList({selectedIndex:e,animationType:j})}if(l.getoperatorat(0)==undefined){r.jqxDropDownList({selectedIndex:0,animationType:j})}else{if(l.getoperatorat(0)=="and"||l.getoperatorat(0)==0){r.jqxDropDownList({selectedIndex:0})}else{r.jqxDropDownList({selectedIndex:1})}}}},_buildfilter:function(B,d,e){var y=a(d).find("#filter1"+B.element.id);var k=a(d).find("#filter2"+B.element.id);var v=a(d).find("#filter3"+B.element.id);var r=a(d).find(".filtertext1"+B.element.id);var q=a(d).find(".filtertext2"+B.element.id);var p=r.val();var n=q.val();var f=B._getcolumntypebydatafield(e);var s=B._getfiltersbytype(f);var h=y.jqxDropDownList("selectedIndex");var x=k.jqxDropDownList("selectedIndex");var g=v.jqxDropDownList("selectedIndex");var j=new a.jqx.filter();var A=null;var z=null;var c="";switch(f){case"number":case"float":case"int":c="numericfilter";break;case"boolean":c="booleanfilter";break;case"date":case"time":c="datefilter";break;case"string":c="stringfilter";break}var b=false;var w=j.getoperatorsbyfiltertype(c)[h];var v=j.getoperatorsbyfiltertype(c)[g];var o=w=="NULL"||w=="NOT_NULL";var u=w=="EMPTY"||w=="NOT_EMPTY";if(p.length>0||o||u){A=j.createfilter(c,p,w);j.addfilter(x,A);b=true}var m=v=="NULL"||v=="NOT_NULL";var t=v=="EMPTY"||v=="NOT_EMPTY";if(n.length>0||m||t){z=j.createfilter(c,n,v);j.addfilter(x,z);b=true}if(b){var l=e.datafield;this.addfilter(l,j,true)}else{this._clearfilter(B,d,e)}},_clearfilter:function(e,c,d){var b=d.datafield;this.removefilter(b,true)},addfilter:function(d,e,c){if(this._loading){alert(this.loadingerrormessage);return false}var f=this.getcolumn(d);var b=this._getcolumn(d);if(f==undefined||f==null){return}f.filter=e;b.filter=e;this.dataview.addfilter(d,e);if(c==true&&c!=undefined){this.applyfilters()}},removefilter:function(d,c){if(this._loading){alert(this.loadingerrormessage);return false}var e=this.getcolumn(d);var b=this._getcolumn(d);if(e==undefined||e==null){return}if(e.filter==null){return}this.dataview.removefilter(d,e.filter);e.filter=null;b.filter=null;if(c==true||c!=undefined){this.applyfilters()}},applyfilters:function(){var b=false;if(this.dataview.filters.length>=0&&!this.source.localdata){if(this.source!=null&&this.source.filter){this.source.filter(this.dataview.filters)}}if(!this.virtualmode){this.dataview.refresh()}else{this._raiseEvent(13,{filters:this.dataview.filters});return}if(this.pageable){this.dataview.updateview();this.gotopage(0);this.updatepagerdetails()}this._updaterowsproperties();if(!this.groupable){this.rendergridcontent(true,true);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}else{this.render()}this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){var c=new Array();for(i=0;i<this.dataview.filters.length;i++){var b=this.getcolumn(this.dataview.filters[i].datafield);c[i]={filter:this.dataview.filters[i].filter,filtercolumn:b.datafield,filtercolumntext:b.text}}return c},clearfilters:function(){var b=this;if(this.columns.records){a.each(this.columns.records,function(){b.removefilter(this.datafield)})}this.applyfilters()},_initfilterpanel:function(s,b,c,l){if(s==null||s==undefined){s=this}b[0].innerHTML="";var p=a("<div class='filter' style='margin-left: 7px;'></div>");b.append(p);var k=a("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");k.text(s.gridlocalization.filtershowrowstring);var q=a("<div class='filter' id='filter1"+s.element.id+"'></div>");var g=a("<div class='filter' id='filter2"+s.element.id+"' style='margin-bottom: 3px;'></div>");var o=a("<div class='filter' id='filter3"+s.element.id+"'></div>");var d=s._getcolumntypebydatafield(c);if(!q.jqxDropDownList){alert("jqxdropdownlist is not loaded.");return}var m=s._getfiltersbytype(d);var h=a("<div class='filter'><input class='filtertext1"+s.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>");h.find("input").addClass(this.toThemeProperty("jqx-input"));h.find("input").addClass(this.toThemeProperty("jqx-widget-content"));h.find("input").addClass(this.toThemeProperty("jqx-rc-all"));h.find("input").width(l-15);var j=a("<div class='filter'><input class='filtertext2"+s.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>");j.find("input").addClass(this.toThemeProperty("jqx-input"));j.find("input").addClass(this.toThemeProperty("jqx-widget-content"));j.find("input").addClass(this.toThemeProperty("jqx-rc-all"));j.find("input").width(l-15);var f=a("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>");var e=a('<span id="filterbutton'+s.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+s.gridlocalization.filterstring+"</span>");f.append(e);var r=a('<span id="filterclearbutton'+s.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+s.gridlocalization.filterclearstring+"</span>");f.append(r);e.jqxButton({height:20,theme:s.theme});r.jqxButton({height:20,theme:s.theme});var t=function(v){if(v.text().indexOf("case sensitive")!=-1){var u=v.text();u=u.replace("case sensitive","match case");v.text(u)}v.css("font-family",s.host.css("font-family"));v.css("font-size",s.host.css("font-size"));return v};p.append(k);p.append(q);q.jqxDropDownList({selectedIndex:2,width:l-15,height:20,dropDownHeight:150,dropDownWidth:l-15,selectionRenderer:t,source:m,theme:s.theme});p.append(h);var n=new Array();n[0]=s.gridlocalization.filterandconditionstring;n[1]=s.gridlocalization.filterorconditionstring;g.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0,width:60,height:20,source:n,selectionRenderer:t,theme:s.theme});p.append(g);o.jqxDropDownList({selectedIndex:2,width:l-15,height:20,dropDownHeight:150,dropDownWidth:l-15,selectionRenderer:t,source:m,theme:s.theme});p.append(o);p.append(j);p.append(f)}});a.jqx.filter=function(){this.operator="and";var h=0;var e=1;var l=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"];var n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var o=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var g=["EQUAL","NOT_EQUAL"];var f=new Array();var m=new Array();this.evaluate=function(s){var r=true;for(i=0;i<f.length;i++){var q=f[i].evaluate(s);if(i==0){r=q}else{if(m[i]==e||m[i]=="or"){r=r||q}else{r=r&&q}}}return r};this.getfilterscount=function(){return f.length};this.getoperatorsbyfiltertype=function(q){var r=new Array();switch(q){case"numericfilter":r=n.slice(0);break;case"stringfilter":r=l.slice(0);break;case"datefilter":r=o.slice(0);break;case"booleanfilter":r=g.slice(0);break}return r};var k=function(){var q=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(q()+"-"+q()+"-"+q())};this.createfilter=function(t,q,s,r){if(t==null||t==undefined){return null}switch(t){case"numericfilter":return new j(q,s.toUpperCase());case"stringfilter":return new p(q,s.toUpperCase());case"datefilter":return new c(q,s.toUpperCase());case"booleanfilter":return new d(q,s.toUpperCase());case"custom":return new b(q,s.toUpperCase(),r)}return null};this.getfilters=function(){var q=new Array();for(i=0;i<f.length;i++){var r={value:f[i].filtervalue,condition:f[i].comparisonoperator,operator:m[i]};q[i]=r}return q};this.addfilter=function(q,r){f[f.length]=r;r.key=k();m[m.length]=q};this.removefilter=function(q){for(i=0;i<f.length;i++){if(f[i].key==q.key){f.splice(i,1);m.splice(i,1);break}}};this.getoperatorat=function(q){if(q==undefined||q==null){return null}if(q<0||q>f.length){return null}return m[q]};this.setoperatorat=function(r,q){if(r==undefined||r==null){return null}if(r<0||r>f.length){return null}m[q]=q};this.getfilterat=function(q){if(q==undefined||q==null){return null}if(q<0||q>f.length){return null}return f[q]};this.setfilterat=function(q,r){if(q==undefined||q==null){return null}if(q<0||q>f.length){return null}r.key=k();f[q]=r};this.clear=function(){f=new Array();m=new Array()};var p=function(r,q){this.filtervalue=r;this.comparisonoperator=q;this.evaluate=function(v){var u=this.filtervalue;var s=this.comparisonoperator;if(v==null||v==undefined){if(s=="NULL"){return true}return false}var w="";try{w=v.toString()}catch(t){return true}switch(s){case"EQUAL":return a.jqx.string.equalsIgnoreCase(w,u);case"EQUAL_CASE_SENSITIVE":return a.jqx.string.equals(w,u);case"CONTAINS":return a.jqx.string.containsIgnoreCase(w,u);case"CONTAINS_CASE_SENSITIVE":return a.jqx.string.contains(w,u);case"DOES_NOT_CONTAIN":return !a.jqx.string.containsIgnoreCase(w,u);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !a.jqx.string.contains(w,u);case"EMPTY":return w=="";case"NOT_EMPTY":return w!="";case"NOT_NULL":return w!=null;case"STARTS_WITH":return a.jqx.string.startsWithIgnoreCase(w,u);case"ENDS_WITH":return a.jqx.string.endsWithIgnoreCase(w,u);case"ENDS_WITH_CASE_SENSITIVE":return a.jqx.string.endsWith(w,u);case"STARTS_WITH_CASE_SENSITIVE":return a.jqx.string.startsWith(w,u);default:return false}}};var d=function(r,q){this.filtervalue=r;this.comparisonoperator=q;this.evaluate=function(u){var t=this.filtervalue;var s=this.comparisonoperator;if(u==null||u==undefined){if(s=="NULL"){return true}return false}var v=u;switch(s){case"EQUAL":return v==t||v.toString()==t.toString();case"NOT_EQUAL":return v!=t&&v.toString()!=t.toString();default:return false}}};var j=function(r,q){this.filtervalue=r;this.comparisonoperator=q;this.evaluate=function(v){var u=this.filtervalue;var s=this.comparisonoperator;if(v==null||v==undefined){if(s=="NOT_NULL"){return false}if(s=="NULL"){return true}else{return false}}else{if(s=="NULL"){return false}if(s=="NOT_NULL"){return true}}var w=v;try{w=parseFloat(w)}catch(t){if(v.toString()!=""){return false}}switch(s){case"EQUAL":return w==u;case"NOT_EQUAL":return w!=u;case"GREATER_THAN":return w>u;case"GREATER_THAN_OR_EQUAL":return w>=u;case"LESS_THAN":return w<u;case"LESS_THAN_OR_EQUAL":return w<=u;default:return true}}};var c=function(r,q){this.filtervalue=r;var s=new Date(r);if(s.toString()=="NaN"||s.toString()=="Invalid Date"){this.filterdate=a.jqx.dataFormat.tryparsedate(r)}else{this.filterdate=s}this.comparisonoperator=q;this.evaluate=function(A){var B=this.filtervalue;var y=this.comparisonoperator;if(A==null||A==undefined){if(y=="NOT_NULL"){return false}if(y=="NULL"){return true}else{return false}}else{if(y=="NULL"){return false}if(y=="NOT_NULL"){return true}}var t=new Date();t.setFullYear(1900,0,1);t.setHours(12,0,0,0);try{var w=new Date(A);if(w.toString()=="NaN"||w.toString()=="Invalid Date"){A=a.jqx.dataFormat.tryparsedate(A)}else{A=w}t=A}catch(x){if(A.toString()!=""){return false}}if(this.filterdate!=null){B=this.filterdate}else{if(B.indexOf(":")!=-1||!isNaN(parseInt(B))){var z=new Date(t);z.setHours(12,0,0,0);var u=B.split(":");for(var v=0;v<u.length;v++){if(v==0){z.setHours(u[v])}if(v==1){z.setMinutes(u[v])}if(v==2){z.setSeconds(u[v])}}B=z}}switch(y){case"EQUAL":return t.toString()==B.toString();case"NOT_EQUAL":return t.toString()!=B.toString();case"GREATER_THAN":return t>B;case"GREATER_THAN_OR_EQUAL":return t>=B;case"LESS_THAN":return t<B;case"LESS_THAN_OR_EQUAL":return t<=B;default:return true}}};var b=function(r,q,s){this.filtervalue=r;this.comparisonoperator=q;this.evaluate=function(u,t){return s(this.filtervalue,u,this.comparisonoperator)}}}})(jQuery);(function(a){a.jqx.dataview.grouping=function(){this.loadgrouprecords=function(y,J,H,r,d,D,p,u,v){var E=y;var A=this;var f=new Array();for(iGroupColumn=0;iGroupColumn<A.groups.length;iGroupColumn++){f[iGroupColumn]=A.generatekey()}var o=new Array();var h=0;var f=f;var g=new Array();var C=J;var L=J;var n=A.groups.length;this.loadedrecords=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this.sortedgroups=new Array();var k=this.sortdata!=null;var I=k?this.sortdata:this.records;for(obj=J;obj<H;obj++){var G={};if(!k){G=a.extend({},I[obj])}else{G=a.extend({},I[obj].value)}id=G[A.uniqueId];if(d>=u||id!=p[d][A.uniqueId]||(D&&D[id])){v[v.length]=d}var e=new Array();var x=0;for(iGroupColumn=0;iGroupColumn<n;iGroupColumn++){var l=A.groups[iGroupColumn];var B=G[l];if(null==B){continue}e[x++]={value:B,hash:f[iGroupColumn]}}if(e.length!=n){break}var z=null;var s="";var c=-1;for(q=0;q<e.length;q++){c++;var F=e[q].value;var j=e[q].hash;s=s+"_"+j+"_"+F;if(g[s]!=undefined&&g[s]!=null){z=g[s];continue}if(z==null){z={group:F,subItems:new Array(),subGroups:new Array(),level:0};o[h++]=z;z.uniqueid=A.generatekey();A.loadedgroupsByKey[F]=z}else{var t={group:F,subItems:new Array(),subGroups:new Array(),parentItem:z,level:z.level+1};A.loadedgroupsByKey[z.uniqueid+"_"+F]=t;t.uniqueid=A.generatekey();z.subGroups[z.subGroups.length++]=t;z=t}g[s]=z}if(z!=null){if(!G.uid){G.uid=this.getid(this.source.id,G,C)}if(!k){G.boundindex=C;this.recordsbyid["id"+G.uid]=I[obj]}else{G.boundindex=I[obj].index;this.recordsbyid["id"+G.uid]=I[obj].value}this.bounditems[G.boundindex]=G;this.sortedgroups[C]=G;G.uniqueid=A.generatekey();G.parentItem=z;G.level=z.level+1;z.subItems[z.subItems.length++]=G}else{if(!G.uid){G.uid=this.getid(this.source.id,G,C)}if(!k){G.boundindex=C;this.recordsbyid["id"+G.uid]=I[obj]}else{G.boundindex=I[obj].index;this.recordsbyid["id"+G.uid]=I[obj].value}this.sortedgroups[C]=G;this.bounditems[G.boundindex]=G;G.uniqueid=A.generatekey()}d++;C++;L++}var w=function(M,N,O){for(m=0;m<N.subItems.length;m++){N.subItems[m].visibleindex=y+O;M.rows[O]=N.subItems[m];M.loadedrecords[O]=N.subItems[m];O++}return O};var b=function(M,O,P){for(subGroup in O.subGroups){var N=O.subGroups[subGroup];if(N.subGroups){M.loadedgroups[M.loadedgroups.length]=N;N.visibleindex=y+P;M.rows[P]=N;M.loadedrecords[P]=N;P++;if(N.subGroups.length>0){P=b(M,N,P)}else{if(N.subItems.length>0){P=w(M,N,P)}}}}if(O.subItems.length>0){P=w(M,O,P)}return P};var K=o.length;this.loadedgroups=new Array();this.rows=new Array();var E=0;for(C=0;C<K;C++){var l=o[C];this.loadedrootgroups[C]=l;this.loadedgroups[this.loadedgroups.length]=l;l.visibleindex=y+E;this.rows[E]=l;this.loadedrecords[E]=l;E++;E=b(this,l,E)}return E};this._updategroupsinpage=function(A,r,I,d,u,j,f){var p=new Array();var v=[];if(this.groupable&&this.groups.length>0){var z=0;var h=new Array();var g=new Array();for(iGroupColumn=0;iGroupColumn<A.groups.length;iGroupColumn++){g[iGroupColumn]=A.generatekey()}var D=0;var o=new Array();var k=0;if(f>this.totalrecords){f=this.totalrecords}for(obj=j;obj<f;obj++){var F=a.extend({},A.sortedgroups[obj]);id=F[A.uniqueId];if(!A.pagesize||(I>=A.pagesize*A.pagenum&&I<A.pagesize*(A.pagenum+1))){if(d>=u||id!=p[d][A.uniqueId]||(updated&&updated[id])){v[v.length]=d}var e=new Array();var x=0;for(iGroupColumn=0;iGroupColumn<A.groups.length;iGroupColumn++){var n=A.groups[iGroupColumn];var B=F[n];if(null==B){continue}e[x++]={value:B,hash:g[iGroupColumn]}}if(e.length!=A.groups.length){break}var y=null;var s="";var c=-1;for(q=0;q<e.length;q++){c++;var E=e[q].value;var l=e[q].hash;s=s+"_"+l+"_"+E;if(h[s]!=undefined&&h[s]!=null){y=h[s];continue}if(y==null){y={group:E,subItems:new Array(),subGroups:new Array(),level:0};o[k++]=y;var C=A.loadedgroupsByKey[E];y.visibleindex=C.visibleindex;y.uniqueid=C.uniqueid}else{var t={group:E,subItems:new Array(),subGroups:new Array(),parentItem:y,level:y.level+1};var C=A.loadedgroupsByKey[y.uniqueid+"_"+E];t.visibleindex=C.visibleindex;t.uniqueid=C.uniqueid;y.subGroups[y.subGroups.length++]=t;y=t}h[s]=y}if(y!=null){F.parentItem=y;F.level=y.level+1;y.subItems[y.subItems.length++]=F}d++}D++;I++}var w=function(K,L,J){for(m=0;m<L.subItems.length;m++){p[J]=a.extend({},L.subItems[m]);J++}return J};var G=function(M){var K=false;for(subGroup in M.subGroups){var L=M.subGroups[subGroup];if(L.subGroups){if(L.subGroups.length>0){var J=G(L);if(J){K=true;return true}}if(L.subItems.length>0){K=true;return true}}}if(M.subItems.length>0){K=true;return true}return K};var b=function(K,M,J){for(subGroup in M.subGroups){var L=M.subGroups[subGroup];if(L.subGroups){if(G(L)){p[J]=L;J++;if(L.subGroups.length>0){J=b(K,L,J)}else{if(L.subItems.length>0){J=w(K,L,J)}}}}}if(M.subItems.length>0){J=w(K,M,J)}return J};var H=0;for(D=0;D<o.length;D++){var n=o[D];if(G(n)){p[z]=n;z++;z=b(this,n,z)}}}return p}};a.extend(a.jqx._jqxGrid.prototype,{_initgroupsheader:function(){this.groupsheader.css("visibility","hidden");if(this._groupsheader()){this.groupsheader.css("visibility","inherit");var e=this;var c=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||a('<div style="width: 100%; position: relative;"></div>');this.groupsheaderdiv.height(this.groupsheaderheight);this.groupsheaderdiv.css("top",0);this.groupsheader.append(this.groupsheaderdiv);this.groupheadersbounds=new Array();var d=this.groups.length;this.groupsheaderdiv.children().remove();this.groupsheaderdiv[0].innerHTML="";var b=new Array();if(d>0){a.each(this.groups,function(j){var o=this;var n=e._getColumnText(this);var l=e._rendergroupcolumn(n,o);l.addClass(e.toThemeProperty("jqx-grid-group-column"));e.groupsheaderdiv.append(l);if(e.closeablegroups){var k=a(l.find(".icon-close"));e.addHandler(k,"click",function(){e.removegroupat(j);return false})}if(e.sortable){e.addHandler(l,"click",function(){var p=e.getcolumn(o);if(p!=null){e._togglesort(p)}return false})}b[b.length]=l;e._handlegroupstocolumnsdragdrop(this,l);if(j<d-1){var g=l.height();var h=a('<div style="float: left; position: relative;"></div>');h.width(e.groupindentwidth/3);h.height(1);h.css("top",g/2);h.addClass(e.toThemeProperty("jqx-grid-group-column-line"));e.groupsheaderdiv.append(h)}})}else{var f=a('<div style="position: relative;">'+c+"</div>");this.groupsheaderdiv.append(f)}this._groupheaders=b;this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var c=this;var b=this.groupsheaderdiv.children().outerHeight();var d=(this.groupsheader.height()-b)/2;this.groupsheaderdiv.css("top",d);this.groupsheaderdiv.css("left",d);a.each(this._groupheaders,function(f){var e=this.offset();c.groupheadersbounds[f]={left:e.left,top:e.top,width:this.outerWidth(),height:this.outerHeight(),index:f}})},addgroup:function(c){if(c){var b=this;b.groups[b.groups.length]=c;b.refreshdata();this._raiseEvent(12,{type:"Add"})}},insertgroup:function(d,c){if(d!=undefined&&d!=null&&d>=0&&d<=this.groups.length){if(c){var b=this;b.groups.splice(d,0,c);b.refreshdata();this._raiseEvent(12,{type:"Insert"})}}},_insertaftergroup:function(d,c){var b=this._getGroupIndexByDataField(d);this.insertgroup(b+1,c)},_insertbeforegroup:function(d,c){var b=this._getGroupIndexByDataField(d);this.insertgroup(b,c)},removegroupat:function(c){if(c>=0&&c!=null&&c!=undefined){var b=this;b.groups.splice(c,1);b.refreshdata();this._raiseEvent(12,{type:"Remove"});return true}return false},removegroup:function(c){if(c==null){return false}var b=this.groups.indexOf(c.toString());return this.removegroupat(b)},getrootgroupscount:function(){var b=this.dataview.loadedrootgroups.length;return b},collapsegroup:function(b){return this._setrootgroupstate(b,false)},expandgroup:function(b){return this._setrootgroupstate(b,true)},collapseallgroups:function(){this._setbatchgroupstate(false)},expandallgroups:function(){this._setbatchgroupstate(true)},getgroup:function(e){var k=this.dataview.loadedrootgroups[e];if(k==null){return null}var f=this.expandedgroups[k.uniqueid].expanded;var g=k.group;var b=k.level;var c=new Array();this._getsubgroups(c,k);var j=this;var d={group:g,level:b,expanded:f,subgroups:c};if(k.subItems){var h=new Array();a.each(k.subItems,function(){var l=this.boundindex;h[h.length]=j.getrowdata(l)});if(h.length>0){d.subrows=h}}return d},_getsubgroups:function(c,k){var j=this;for(obj in k.subGroups){var g=k.subGroups[obj];var e=j.expandedgroups[g.uniqueid].expanded;var f=g.group;var b=g.level;c[c.length]={group:f,level:b,expanded:e};if(g.subItems){var h=new Array();a.each(g.subItems,function(){var l=this.boundindex;h[h.length]=j.getrowdata(l)});c[c.length-1].subrows=h}if(g.subGroups){var d=new Array();j._getsubgroups(d,g)}}return c},_setbatchgroupstate:function(b){var c=this;for(obj in this.dataview.loadedrootgroups){c._setrootgroupstate(obj,b,false,true)}this.rendergridcontent(true);return true},_setrootgroupstate:function(d,b,e,c){if(d==undefined||d==null||d<0){return false}if(!this.groupable||this.groups.length==0){return false}var g=e!=undefined?e:true;if(d>=0&&d<this.dataview.loadedrootgroups.length){var f=this.dataview.loadedrootgroups[d];return this._setgroupstate(f,b,g,c)}return false},_togglegroupstate:function(c,d){if(c==null||c==undefined){return false}var b=this.expandedgroups[c.uniqueid];if(b==undefined){b=false}else{b=b.expanded}b=!b;return this._setgroupstate(c,b,d)},_setgroupstate:function(f,b,g,c){if(f==null||f==undefined){return false}var e=false;var d=this.expandedgroups[f.uniqueid];if(d==undefined){d={expanded:false};e=true}if(d.expanded!=b){e=true}if(e){this.expandedgroups[f.uniqueid]={expanded:b,group:f};this._setsubgroupsvisibility(this,f,!b,c);if(g){this.rendergridcontent(true,false)}if(undefined==this.suspendgroupevents||this.suspendgroupevents==false){if(b){this._raiseEvent(4,{group:f.group,parentgroup:f.parentItem?f.parentItem.group:null,level:f.level,visibleindex:f.visibleindex})}else{this._raiseEvent(5,{group:f.group,parentgroup:f.parentItem?f.parentItem.group:null,level:f.level,visibleindex:f.visibleindex})}}return true}return false},_setgroupitemsvisibility:function(b,d,c){for(m=0;m<d.subItems.length;m++){b._setrowvisibility(d.subItems[m].visibleindex,c,false)}},_setsubgroupsvisibility:function(c,g,f,d){if(g.parentItem!=null){if(this.hiddens[g.parentItem.visibleindex]){return}}else{if(g.parentItem==null){if(this.hiddens[g.visibleindex]){return}}}for(subGroup in g.subGroups){var e=g.subGroups[subGroup];if(!f){c._setrowvisibility(e.visibleindex,f,false)}var b=!f;if(!d){if(c.expandedgroups[e.uniqueid]==undefined){b=false}else{b=c.expandedgroups[e.uniqueid].expanded}}else{this.expandedgroups[e.uniqueid]={expanded:b,group:e}}if(e.subGroups){if(e.subGroups.length>0){c._setsubgroupsvisibility(c,e,!b||f,d)}else{if(e.subItems.length>0){c._setgroupitemsvisibility(c,e,!b||f)}}}if(f){c._setrowvisibility(e.visibleindex,f,false)}}if(g.subItems&&g.subItems.length>0){c._setgroupitemsvisibility(c,g,f)}},_handlecolumnsdragdrop:function(){var d=this;var g=-1;var c=false;if(!d.groupable){return}var f="mousemove.grouping"+this.element.id;var e="mousedown.grouping"+this.element.id;var h="mouseup.grouping"+this.element.id;var b=false;if(this.isTouchDevice()){b=true;f="touchmove.grouping"+this.element.id;e="touchstart.grouping"+this.element.id;h="touchend.grouping"+this.element.id}this.removeHandler(a(document),f);this.addHandler(a(document),f,function(k){if(d.dragcolumn!=null){var n=parseInt(k.pageX);var w=parseInt(k.pageY);if(b){var t=d.getTouches(k);var s=t[0];n=parseInt(s.pageX);w=parseInt(s.pageY)}var p=d.host.offset();var x=parseInt(p.left);var y=parseInt(p.top);if(d.dragmousedownoffset==undefined||d.dragmousedownoffset==null){d.dragmousedownoffset={left:0,top:0}}var v=parseInt(n)-parseInt(d.dragmousedownoffset.left);var j=parseInt(w)-parseInt(d.dragmousedownoffset.top);d.dragcolumn.css({left:v+"px",top:j+"px"});c=false;if(n>=x&&n<=x+d.host.width()){if(w>=y&&w<=y+d.host.height()){c=true}}g=-1;if(c){d.dragcolumnicon.removeClass(d.toThemeProperty("jqx-grid-dragcancel-icon"));d.dragcolumnicon.addClass(d.toThemeProperty("jqx-grid-drag-icon"));var u=d.groupsheader.offset();var o=u.top+d.groupsheader.height();var l=d.groups.indexOf(a.data(d.dragcolumn[0],"datarecord").toString());var r=(l==-1)||(d.groups.length>1&&l>-1);if(d.dropline!=null){if(w>=u.top&&w<=o){if(r){g=d._handlegroupdroplines(n)}}else{d.dropline.fadeOut("slow")}}}else{if(d.dropline!=null){d.dropline.fadeOut("slow")}d.dragcolumnicon.removeClass(d.toThemeProperty("jqx-grid-drag-icon"));d.dragcolumnicon.addClass(d.toThemeProperty("jqx-grid-dragcancel-icon"))}return false}});this.removeHandler(a(document),e);this.addHandler(a(document),e,function(j){a(document.body).addClass("jqx-disableselect")});this.removeHandler(a(document),h);this.addHandler(a(document),h,function(j){a(document.body).removeClass("jqx-disableselect");var o=parseInt(j.pageX);var v=parseInt(j.pageY);if(b){var s=d.getTouches(j);var r=s[0];o=parseInt(r.pageX);v=parseInt(r.pageY)}var p=d.host.offset();var w=parseInt(p.left);var x=parseInt(p.top);var l=d.groupsheader.height();d.dragstarted=false;d.dragmousedown=null;if(d.dragcolumn!=null){var n=a.data(d.dragcolumn[0],"datarecord");d.dragcolumn.remove();d.dragcolumn=null;if(n!=null){if(c){if(g!=-1){var t=g.index;var u=d.groups[t];var k=d._getGroupIndexByDataField(n);if(k!=t){if(k!=undefined&&k>=0){d.groups.splice(k,1)}if(g.position=="before"){d._insertbeforegroup(u,n)}else{d._insertaftergroup(u,n)}}}else{if(d.groups.length==0){if(v>x&&v<=x+l){d.addgroup(n)}}else{if(v>x+l){var k=d._getGroupIndexByDataField(n);d.removegroupat(k)}}}}if(d.dropline!=null){d.dropline.remove();d.dropline=null}}return false}})},_getGroupIndexByDataField:function(b){for(i=0;i<this.groups.length;i++){if(this.groups[i]==b){return i}}return -1},_isColumnInGroups:function(b){for(i=0;i<this.groups.length;i++){if(this.groups[i]==b){return true}}return false},_handlegroupdroplines:function(d){var b=this;var c=-1;a.each(b.groupheadersbounds,function(e){if(d<=this.left+this.width/2){var f=this.left-3;if(e>0){f=this.left-1-b.groupindentwidth/6}b.dropline.css("left",f);b.dropline.css("top",this.top);b.dropline.height(this.height);b.dropline.fadeIn("slow");c={index:e,position:"before"};return false}else{if(d>=this.left+this.width/2){b.dropline.css("left",1+this.left+this.width);b.dropline.css("top",this.top);b.dropline.height(this.height);b.dropline.fadeIn("slow");c={index:e,position:"after"}}}});return c},_handlegroupstocolumnsdragdrop:function(c,e){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=false;this.dragcolumn=null;var f=this;var d;var h="mousedown";var g="mousemove";var b=false;if(this.isTouchDevice()){b=true;h="touchstart";g="touchmove"}else{this.addHandler(e,"dragstart",function(j){return false})}this.addHandler(e,h,function(j){var n=j.pageX;var l=j.pageY;f.dragmousedown={left:n,top:l};if(b){var k=f.getTouches(j);var p=k[0];n=p.pageX;l=p.pageY;f.dragmousedown={left:n,top:l}}var o=a(j.target).offset();f.dragmousedownoffset={left:parseInt(n)-parseInt(o.left),top:parseInt(l-o.top)}});this.addHandler(e,g,function(j){if(f.dragmousedown){d={left:j.pageX,top:j.pageY};if(b){var l=f.getTouches(j);var o=l[0];d={left:o.pageX,top:o.pageY}}if(!f.dragstarted&&f.dragcolumn==null){var k=Math.abs(d.left-f.dragmousedown.left);var n=Math.abs(d.top-f.dragmousedown.top);if(k>3||n>3){f._createdragcolumn(e,d,true);a.data(f.dragcolumn[0],"datarecord",c)}}}})},_createdragcolumn:function(c,e,g){var h=this;var f=e;h.dragcolumn=a("<div></div>");var k=c.clone();h.dragcolumn.css("z-index",999999);k.css("border-width","1px");k.css("opacity","0.4");var j=a(k.find("."+h.toThemeProperty("jqx-grid-column-menubutton")));if(j.length>0){j.css("display","none")}var b=a(k.find(".icon-close"));if(b.length>0){b.css("display","none")}h.dragcolumnicon=a('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');h.dragcolumnicon.addClass(h.toThemeProperty("jqx-grid-drag-icon"));h.dragcolumn.css("float","left");h.dragcolumn.css("position","absolute");var d=h.host.offset();k.width(c.width()+16);h.dragcolumn.append(k);h.dragcolumn.height(c.height());h.dragcolumn.width(k.width());h.dragcolumn.append(h.dragcolumnicon);a(document.body).append(h.dragcolumn);k.css("margin-left",0);k.css("left",0);k.css("top",0);h.dragcolumn.css("left",f.left+h.dragmousedown.left);h.dragcolumn.css("top",f.top+h.dragmousedown.top);if(g!=undefined&&g){h.dropline=a('<div style="display: none; position: absolute;"></div>');h.dropline.width(2);h.dropline.addClass(h.toThemeProperty("jqx-grid-group-drag-line"));a(document.body).append(h.dropline)}},setcolumngroupable:function(c,b){this._setcolumnproperty(c,"groupable",b)},iscolumngroupable:function(b){return this._getcolumnproperty(b,"groupable")},_handlecolumnstogroupsdragdrop:function(c,f){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=false;this.dragcolumn=null;var g=this;var e;var b=false;if(this.isTouchDevice()){b=true}var d="mousedown.drag";var e="mousemove.drag";if(b){d="touchstart.drag";e="touchmove.drag"}else{this.addHandler(f,"dragstart",function(h){return false})}this.addHandler(f,d,function(k){if(g._isColumnInGroups(c.datafield)){if(f.css("cursor")!="col-resize"){return false}else{return true}}var j=k.pageX;var h=k.pageY;if(b){var l=g.getTouches(k);var o=l[0];j=o.pageX;h=o.pageY}g.dragmousedown={left:j,top:h};var n=a(k.target).offset();g.dragmousedownoffset={left:parseInt(j)-parseInt(n.left),top:parseInt(h-n.top)}});this.addHandler(f,e,function(k){if(g._isColumnInGroups(c.datafield)){if(f.css("cursor")!="col-resize"){return false}else{return true}}if(g.dragmousedown){var j=k.pageX;var h=k.pageY;if(b){var n=g.getTouches(k);var p=n[0];j=p.pageX;h=p.pageY}e={left:j,top:h};if(!g.dragstarted&&g.dragcolumn==null){var l=Math.abs(e.left-g.dragmousedown.left);var o=Math.abs(e.top-g.dragmousedown.top);if(l>3||o>3){g._createdragcolumn(f,e,true);a.data(g.dragcolumn[0],"datarecord",c.datafield)}}}})},_rendergroupcolumn:function(f,g){var d=a('<div style="float: left; position: relative;"></div>');if(this.groupcolumnrenderer!=null){d[0].innerHTML=this.groupcolumnrenderer(f);d.addClass(this.toThemeProperty("jqx-grid-group-column"));d.addClass(this.toThemeProperty("jqx-fill-state-normal"))}if(this.closeablegroups){if(d[0].innerHTML==""){d[0].innerHTML='<a style="float: left;" href="#">'+f+"</a>"}var c='<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("icon-close")+'"></div></div>';if(a.browser.msie&&a.browser.version<8){c='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("icon-close")+'"></div></div>'}d[0].innerHTML+=c}else{if(d[0].innerHTML==""){d[0].innerHTML='<a href="#">'+f+"</a>"}}if(this.sortable){var e=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var b=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups){var e=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var b=a('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}e.css("display","none");b.css("display","none");if(a.browser.msie&&a.browser.version<8){e.css("float","left");b.css("float","left")}d.append(e);d.append(b);a.data(document.body,"groupsortelements"+g,{sortasc:e,sortdesc:b})}d.addClass(this.toThemeProperty("jqx-fill-state-normal"));d.addClass(this.toThemeProperty("jqx-grid-group-column"));return d},_rendergroup:function(e,b,p,h,n,r){var t=b;var g=b.cells[p.level];var l=this._findgroupstate(p.uniqueid);if(p.bounddata.subGroups.length>0||p.bounddata.subItems.length>0){if(l){g.className+=" "+this.toThemeProperty("jqx-grid-group-expand")}else{g.className+=" "+this.toThemeProperty("jqx-grid-group-collapse")}}var o=this._getColumnText(this.groups[p.level]);var d=this.groupindentwidth;var f=this.rowdetails&&this.showrowdetailscolumn?(1+e)*d:(e)*d;var c=a(t).width()-f;a(t.cells[p.level+1]).width(c);if(this.groupsrenderer!=null){var s={group:p.group,level:p.level,groups:p.bounddata.subGroups,rows:p.bounddata.subItems};var j=this.groupsrenderer(o+": "+p.group,p.group,l,s);if(j){t.cells[p.level+1].innerHTML=j}else{var k=p.bounddata.subItems.length>0?p.bounddata.subItems.length:p.bounddata.subGroups.length;t.cells[p.level+1].innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+o+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+p.group+" ("+k+")</span></div>"}}else{var k=p.bounddata.subItems.length>0?p.bounddata.subItems.length:p.bounddata.subGroups.length;t.cells[p.level+1].innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+o+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+p.group+" ("+k+")</span></div>"}}})})(jQuery);(function(a){a.extend(a.jqx._jqxGrid.prototype,{_initpager:function(){var j=this;var c=this.gridlocalization.pagergotopagestring;var h=this.gridlocalization.pagerrangestring;var m=this.gridlocalization.pagershowrowsstring;var k=(this.pagerheight-17)/2;this.pagerdiv=this.pagerdiv||a('<div style="width: 100%; height: 100%; position: relative;"></div>');if(!this.pageable){this.pagerdiv.remove();this.vScrollBar.jqxScrollBar({thumbSize:0});return}if(!this.pagerrenderer){this.pagerdiv.css("top",k);this.pagergotoinput=this.pagergotoinput||a('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>');this.pagergoto=this.pagergoto||a('<div style="float: right; margin-right: 7px;"></div>');this.pagerrightbutton=this.pagerrightbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerleftbutton=this.pagerleftbutton||a('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerdetails=this.pagerdetails||a('<div style="margin-right: 7px; float: right;"></div>');this.pagershowrows=this.pagershowrows||a('<div style="margin-right: 7px; float: right;"></div>');if(this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList){this.pagershowrowscombo.remove();this.pagershowrowscombo=null}this.pagershowrowscombo=this.pagershowrowscombo||a('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');this.pagerdiv.children().remove();this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id;this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring);this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring);this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerleftbutton);this.pagerrightbutton.jqxButton({theme:this.theme});this.pagerleftbutton.jqxButton({theme:this.theme});this.pagerleftbutton.find(".icon-arrow-left").remove();this.pagerrightbutton.find(".icon-arrow-right").remove();var d=a("<div style='width: 27px; height: 15px;'></div>");d.addClass(this.toThemeProperty("icon-arrow-left"));this.pagerleftbutton.wrapInner(d);var g=a("<div style='width: 27px; height: 15px;'></div>");g.addClass(this.toThemeProperty("icon-arrow-right"));this.pagerrightbutton.wrapInner(g);this.pagerdiv.append(this.pagerdetails);this.pagerdiv.append(this.pagershowrowscombo);this.pagerdiv.append(this.pagershowrows);this.pagerdiv.append(this.pagergotoinput);this.pagerdiv.append(this.pagergoto);var b=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList){alert("jqxdropdownlist is not loaded.");return}this.pagershowrowscombo.jqxDropDownList({source:b,keyboardSelection:false,autoDropDownHeight:true,width:44,height:16,theme:this.theme});var f=0;for(i=0;i<b.length;i++){if(this.pagesize>=b[i]){f=i}}this.pagershowrows[0].innerHTML=m;this.pagergoto[0].innerHTML=c;this.updatepagerdetails();this.pager.append(this.pagerdiv);this.pagershowrowscombo.jqxDropDownList({selectedIndex:f});this.pagerpageinput=this.pagergotoinput.find("input");this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));var j=this;this.pagershowrowscombo.unbind("select");this.pagershowrowscombo.bind("select",function(q){if(q.args){var o=q.args.index;var r=j.dataview.pagenum*j.dataview.pagesize;var p=b[o];var s=j.pagesize;j.pagesize=parseInt(p);if(isNaN(j.pagesize)){j.pagesize=10}j.dataview.pagesize=j.pagesize;var n=Math.floor(r/j.dataview.pagesize);j.prerenderrequired=true;j._requiresupdate=true;j._raiseEvent(10,{pagenum:n,oldpagesize:s,pagesize:j.dataview.pagesize});j.gotopage(n)}});var l=this.pagergotoinput.find("input");l.addClass(this.toThemeProperty("jqx-grid-pager-input"));l.addClass(this.toThemeProperty("jqx-rc-all"));l.unbind("keydown");l.unbind("change");l.bind("keydown",function(n){if(n.keyCode>=65&&n.keyCode<=90){return false}if(n.keyCode=="13"){var o=l.val();o=parseInt(o);if(!isNaN(o)){j.gotopage(o-1)}return false}});l.bind("change",function(){var n=l.val();n=parseInt(n);if(!isNaN(n)){j.gotopage(n-1)}});this.addHandler(this.pagerrightbutton,"mouseenter",function(){g.addClass(j.toThemeProperty("icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(j.toThemeProperty("icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){g.removeClass(j.toThemeProperty("icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(j.toThemeProperty("icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){g.addClass(j.toThemeProperty("icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){g.removeClass(j.toThemeProperty("icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(j.toThemeProperty("icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(j.toThemeProperty("icon-arrow-left-selected"))});this.addHandler(this.pagerrightbutton,"click",function(){j.gotonextpage()});this.addHandler(this.pagerleftbutton,"click",function(){j.gotoprevpage()})}else{this.pagerdiv.children().remove();var e=this.pagerrenderer();if(e!=null){this.pagerdiv.append(a(e))}this.pager.append(this.pagerdiv)}this.vScrollBar.jqxScrollBar({thumbSize:this.host.height()/5});this.vScrollBar.jqxScrollBar("refresh");this._arrange()},_updatepagertheme:function(){if(this.pagershowrowscombo==null){return}this.pagershowrowscombo.jqxDropDownList({theme:this.theme});this.pagerrightbutton.jqxButton({theme:this.theme});this.pagerleftbutton.jqxButton({theme:this.theme});this.pagerpageinput.removeClass();var b=this.pagergotoinput.find("input");b.removeClass();b.addClass(this.toThemeProperty("jqx-grid-pager-input"));b.addClass(this.toThemeProperty("jqx-rc-all"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));this.pagerleftbutton.find(".icon-arrow-left").remove();this.pagerrightbutton.find(".icon-arrow-right").remove();var c=a("<div style='width: 27px; height: 15px;'></div>");c.addClass(this.toThemeProperty("icon-arrow-left"));this.pagerleftbutton.wrapInner(c);var d=a("<div style='width: 27px; height: 15px;'></div>");d.addClass(this.toThemeProperty("icon-arrow-right"));this.pagerrightbutton.wrapInner(d)},gotopage:function(c){if(c==null||c==undefined){c=0}if(c==-1){c=0}if(c<0){return}var b=Math.ceil(this.dataview.totalrecords/this.pagesize);if(c>=b){if(this.dataview.totalrecords==0){this.dataview.pagenum=0;this.updatepagerdetails()}c=b-1}if(this.dataview.pagenum!=c||this._requiresupdate){if(this.pageable){this.dataview.pagenum=c;if(this.virtualmode){this.hiddens=new Array();this.expandedgroups=new Array();if(this.rendergridrows){var f=c*this.dataview.pagesize;var e=f+this.dataview.pagesize;if(f!=null&&e!=null){this.updatebounddata();this._raiseEvent(9,{pagenum:c,pagesize:this.dataview.pagesize});this.updatepagerdetails();return}}}else{this.dataview.updateview()}this._loadrows();this._updatepageviews();this.tableheight=null;this._renderrows(this.virtualsizeinfo);this.updatepagerdetails();if(this.autoheight){var d=this.host.height()-this._gettableheight();height=d+this._pageviews[0].height;if(height!=this.host.height()){this._arrange();this._updatepageviews()}}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,false)}this._raiseEvent(9,{pagenum:c,pagesize:this.dataview.pagesize})}}},gotoprevpage:function(){if(this.dataview.pagenum>0){this.gotopage(this.dataview.pagenum-1)}else{var b=Math.ceil(this.dataview.totalrecords/this.pagesize);this.gotopage(b-1)}},gotonextpage:function(){var b=Math.ceil(this.dataview.totalrecords/this.pagesize);if(this.dataview.pagenum<b-1){this.gotopage(this.dataview.pagenum+1)}else{this.gotopage(0)}},updatepagerdetails:function(){if(this.pagerdetails!=null&&this.pagerdetails.length>0){var e=this.dataview.pagenum*this.pagesize;var b=(this.dataview.pagenum+1)*this.pagesize;if(b>=this.dataview.totalrecords){b=this.dataview.totalrecords}e++;var d=this.pagergotoinput.find("input");d.val(this.dataview.pagenum+1);var c=Math.round(this.dataview.totalrecords/this.dataview.pagesize);if(c>1){c--}c++;this.pagergotoinput.attr("title","1 - "+c);if(b==0&&b<e){e=0}this.pagerdetails[0].innerHTML=e+"-"+b+this.gridlocalization.pagerrangestring+this.dataview.totalrecords;if(e>b){this.gotoprevpage()}}},_updatepagedview:function(h,j,c){var d=this;var g=this.dataview.rows.length;for(i=0;i<g;i++){var e=this.dataview.rows[i].visibleindex;var b={index:e,height:this.heights[e],hidden:this.hiddens[e],details:this.details[e]};if(this.heights[e]==undefined){this.heights[e]=this.rowsheight;b.height=this.rowsheight}if(this.hiddens[e]==undefined){this.hiddens[e]=false;b.hidden=false}if(this.details[e]==undefined){this.details[e]=null}if(b.height!=d.rowsheight){j-=d.rowsheight;j+=b.height}if(b.hidden){j-=b.height}else{c+=b.height;var f=0;if(this.rowdetails){if(b.details&&b.details.rowdetails&&!b.details.rowdetailshidden){f=b.details.rowdetailsheight;c+=f;j+=f}}}}this._pageviews[0]={top:0,height:c};return j}})})(jQuery);(function(a){a.extend(a.jqx._jqxGrid.prototype,{setcolumneditable:function(b,c){this._setcolumnproperty(b,"editable",text)},getcolumneditable:function(b){return this._getcolumnproperty(b,"editable")},_handledblclick:function(t,n){if(t.target==null){return}if(n.disabled){return}if(a(t.target).ischildof(this.columnsheader)){return}var v;if(t.which){v=(t.which==3)}else{if(t.button){v=(t.button==2)}}if(v){return}var z;if(t.which){z=(t.which==2)}else{if(t.button){z=(t.button==1)}}if(z){return}var u=this.showheader?this.columnsheader.height()+2:0;var o=this._groupsheader()?this.groupsheader.height():0;var e=this.host.offset();var l=t.pageX-e.left;var k=t.pageY-u-e.top-o;var b=this._hittestrow(l,k);var g=b.row;var h=b.index;var q=t.target.className;var p=this.table[0].rows[h];if(p==null){return}n.mousecaptured=true;n.mousecaptureposition={left:t.pageX,top:t.pageY-o};var r=this.hScrollInstance;var s=r.value;var d=0;var j=this.groupable?this.groups.length:0;for(i=0;i<p.cells.length;i++){var f=parseInt(a(this.columnsrow[0].cells[i]).css("left"))-s;var w=f+a(this.columnsrow[0].cells[i]).width();if(w>=l&&l>=f){d=i;break}}if(g!=null){var c=this._getcolumnat(d);if(!(q.indexOf("jqx-grid-group-expand")!=-1||q.indexOf("jqx-grid-group-collapse")!=-1)){if(g.boundindex!=-1){n.begincelledit(g.boundindex,c.datafield,c.defaulteditorvalue)}}}},_handleeditkeydown:function(c,p){var n=c.charCode?c.charCode:c.keyCode?c.keyCode:0;if(this.editcell){if(n==32){if(p.editcell.columntype=="checkbox"){var k=!p.getcellvalue(p.editcell.row,p.editcell.column);p.setcellvalue(p.editcell.row,p.editcell.column,k,true);p._raiseEvent(18,{rowindex:p.editcell.row,datafield:p.editcell.column,oldvalue:!k,value:k,columntype:"checkbox"});return false}}if(n==9){var o=this.editcell.row;var d=this.editcell.column;var g=d;var j=p._getcolumnindex(d);var h=false;var b=p.getrowvisibleindex(o);if(this.editcell.validated!=false){if(c.shiftKey){var e=p.getcolumnat(j-1);if(e){d=e.datafield;h=true;if(p.selectionmode.indexOf("cell")!=-1){p.selectprevcell(o,g);setTimeout(function(){p.ensurecellvisible(b,d)},10)}}}else{var e=p.getcolumnat(j+1);if(e){d=e.datafield;h=true;if(p.selectionmode.indexOf("cell")!=-1){p.selectnextcell(o,g);setTimeout(function(){p.ensurecellvisible(b,d)},10)}}}if(h){p.begincelledit(o,d);if(this.editcell!=null&&this.editcell.columntype=="checkbox"){this._renderrows(this.virtualsizeinfo)}}}return false}else{if(n==13){this.endcelledit(this.editcell.row,this.editcell.column,false,true);return false}else{if(n==27){this.endcelledit(this.editcell.row,this.editcell.column,true,true);return false}}}}else{var f=false;if(n==113){f=true}if(n>=48&&n<=57){this.editchar=String.fromCharCode(n);f=true}if(n>=65&&n<=97){this.editchar=String.fromCharCode(n);if(!c.shiftKey){this.editchar=this.editchar.toLowerCase()}f=true}if(n==13||f){if(p.getselectedrowindex){var o=p.getselectedrowindex();switch(p.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(o>=0){var d="";for(m=0;m<p.columns.records.length;m++){var e=p.getcolumnat(m);if(e.editable){d=e.datafield;break}}p.begincelledit(o,d)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var l=p.getselectedcell();if(l!=null){p.begincelledit(l.rowindex,l.datafield)}break}return false}}if(n==32){var l=p.getselectedcell();if(l!=null){var e=p.getcolumn(l.datafield);if(e.columntype=="checkbox"){var k=!p.getcellvalue(l.rowindex,l.datafield);p._raiseEvent(17,{rowindex:l.rowindex,datafield:l.datafield,value:!k,columntype:"checkbox"});p.setcellvalue(l.rowindex,l.datafield,k,true);p._raiseEvent(18,{rowindex:l.rowindex,datafield:l.datafield,oldvalue:!k,value:k,columntype:"checkbox"});return false}}}}return true},begincelledit:function(h,c,e){var d=this.getcolumn(c);if(d.columntype=="number"||d.columntype=="button"){return}if(this.editcell){if(this.editcell.row==h&&this.editcell.column==c){return true}var g=this.endcelledit(this.editcell.row,this.editcell.column,false,true);if(false==g){return}}var f=d.columntype=="checkbox"||d.columntype=="button";this.host.removeClass("jqx-disableselect");this.content.removeClass("jqx-disableselect");if(d.editable){var b=this.getrowvisibleindex(h);this.editcell=this.getcell(h,c);this.editcell.visiblerowindex=b;if(!this.editcell.editing){if(!f){this.editcell.editing=true}this.editcell.columntype=d.columntype;this.editcell.defaultvalue=e;if(d.defaultvalue!=undefined){this.editcell.defaultvalue=d.defaultvalue}this.editcell.init=true;if(d.columntype!="checkbox"){this._raiseEvent(17,{rowindex:h,datafield:d.datafield,value:this.editcell.value,columntype:d.columntype})}if(!f){this._renderrows(this.virtualsizeinfo)}this.editcell.init=false}}else{if(!this.editcell){return}this.editcell.editor=null;this.editcell.editing=false;this._renderrows(this.virtualsizeinfo);this.editcell=null}},endcelledit:function(o,b,j,f){var d=this.getcolumn(b);var h=this;var g=function(){if(!h.isNestedGrid){h.element.focus();h.content.focus();setTimeout(function(){h.element.focus();h.content.focus()},10)}};if(d.columntype=="checkbox"||d.columntype=="button"){this.editcell.editor=null;this.editcell.editing=false;this.editcell=null;return true}var c=this._geteditorvalue(d);if(j){this._hidecelleditor();this.editcell.editor=null;this.editcell.editing=false;this.editcell=null;if(f||f==undefined){this._renderrows(this.virtualsizeinfo)}g();this.host.addClass("jqx-disableselect");this.content.addClass("jqx-disableselect");return false}if(this.validationpopup){this.validationpopup.hide();this.validationpopuparrow.hide()}if(d.validation){var k=this.getcell(o,b);var n=d.validation(k,c);var e=this.gridlocalization.validationstring;if(n.message!=undefined){e=n.message}var l=typeof n=="boolean"?n:n.result;if(!l){if(n.showmessage==undefined||n.showmessage==true){this._showvalidationpopup(o,b,e)}this.editcell.validated=false;return false}}this._raiseEvent(18,{rowindex:o,datafield:b,oldvalue:this.editcell.value,value:c,columntype:d.columntype});this._hidecelleditor();this.editcell.editor=null;this.editcell.editing=false;this.editcell=null;this.setcellvalue(o,b,c,f);this.host.addClass("jqx-disableselect");this.content.addClass("jqx-disableselect");g();return true},beginrowedit:function(d){if(!this.editcells){this.editcells=new Array()}if(this.editcells.length>0){if(this.editcells[0].row==d){return}var c=this.endrowedit(this.editcells[0].row,false,true);if(false==c){return}}this.host.removeClass("jqx-disableselect");this.content.removeClass("jqx-disableselect");var b=this;this.editcells=new Array();a.each(this.columns.records,function(){if(b.editable){var e=b.getcell(d,this.datafield);e.editing=true;if(this.defaultvalue!=undefined){e.defaultvalue=column.defaultvalue}e.init=true;b.editcells[this.datafield]=e}});b.editrow=d;b._renderrows(this.virtualsizeinfo);a.each(this.columns.records,function(){b.editcells[this.datafield].init=false})},endrowedit:function(b){if(this.editcell.editor==undefined){return false}return true},_setSelection:function(e,b,d){if("selectionStart" in d[0]){d[0].focus();d[0].setSelectionRange(e,b)}else{var c=d[0].createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",e);c.select()}},findRecordIndex:function(g,c,b){var b=b;if(g&&c){var e=b.length;for(urec=0;urec<e;urec++){var f=b[urec];var d=f.label;if(g==d){return urec}}}return -1},_destroyeditors:function(){var b=this;a.each(this.columns.records,function(e,f){switch(this.columntype){case"dropdownlist":var c=b.editors["dropdownlist_"+this.datafield];if(c){c.jqxDropDownList("destroy");b.editors["dropdownlist_"+this.datafield]=null}break;case"datetimeinput":var d=b.editors["datetimeinput_"+this.datafield];if(d){d.jqxDateTimeInput("destroy");b.editors["datetimeinput_"+this.datafield]=null}break;case"numberinput":var g=b.editors["numberinput_"+this.datafield];if(g){g.jqxNumberInput("destroy");b.editors["numberinput_"+this.datafield]=null}break}})},_showcelleditor:function(l,d,b,z){if(this.editrow){this.editcell=this.editcells[d.datafield]}if(b==undefined){return}if(this.editcell==null){return}if(d.columntype=="checkbox"&&d.editable){return}var q=d.datafield;var t=a(b);var D=this;var g=this.editcell.editor;var r=this.getcellvalue(l,q);var w=this.hScrollInstance;var y=w.value;var h=parseInt(y);this.editcell.element=b;if(this.editcell.validated==false){this._showvalidationpopup()}var B=function(E){if(!D.isNestedGrid){E.focus()}if(D.gridcontent[0].scrollTop!=0){D.scrolltop(Math.abs(D.gridcontent[0].scrollTop));D.gridcontent[0].scrollTop=0}if(D.gridcontent[0].scrollLeft!=0){D.scrollleft(Math.abs(D.gridcontent[0].scrollLeft));D.gridcontent[0].scrollLeft=0}};switch(d.columntype){case"dropdownlist":if(this.host.jqxDropDownList){b.innerHTML="";var p=this.editors["dropdownlist_"+d.datafield];g=p==undefined?a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):p;g.css("top",a(b).parent().position().top);g.css("left",-h+parseInt(a(b).position().left));if(p==undefined){g.prependTo(this.table);g[0].id="dropdownlisteditor"+this.element.id+d.datafield;var v=this.source._source?true:false;var o=null;if(!v){o=new a.jqx.dataAdapter(this.source,{autoBind:false,uniqueDataFields:[d.datafield],async:false})}else{var A={localdata:this.source.records,datatype:this.source.datatype,async:false};o=new a.jqx.dataAdapter(A,{autoBind:false,async:false,uniqueDataFields:[d.datafield]})}var k=true;g.jqxDropDownList({keyboardSelection:false,source:o,autoDropDownHeight:k,theme:this.theme,width:t.width()-2,height:t.height()-2,displayMember:q,valueMember:q});this.editors["dropdownlist_"+d.datafield]=g;if(d.createeditor){d.createeditor(l,r,g)}}if(d._requirewidthupdate){g.jqxDropDownList({width:t.width()-2})}var n=g.jqxDropDownList("getItems");if(n.length<8){g.jqxDropDownList("autoDropDownHeight",true)}else{g.jqxDropDownList("autoDropDownHeight",false)}var e=this.findRecordIndex(r,d.datafield,n);if(z){if(r!=""){g.jqxDropDownList("selectIndex",e,true)}else{g.jqxDropDownList("selectIndex",-1)}}if(this.editcell.defaultvalue!=undefined){g.jqxDropDownList("selectIndex",this.editcell.defaultvalue,true)}setTimeout(function(){B(g.jqxDropDownList("comboStructure"))},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){b.innerHTML="";var f=this.editors["datetimeinput_"+d.datafield];g=f==undefined?a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):f;g.show();g.css("top",a(b).parent().position().top);g.css("left",-h+parseInt(a(b).position().left));if(f==undefined){g.prependTo(this.table);g[0].id="datetimeeditor"+this.element.id+d.datafield;g.jqxDateTimeInput({theme:this.theme,width:t.width(),height:t.height(),formatString:d.cellsformat});this.editors["datetimeinput_"+d.datafield]=g;if(d.createeditor){d.createeditor(l,r,g)}}if(d._requirewidthupdate){g.jqxDateTimeInput({width:t.width()-2})}if(z){if(r!=""){var C=new Date(r);g.jqxDateTimeInput("setDate",C)}else{g.jqxDateTimeInput("setDate",new Date())}if(this.editcell.defaultvalue!=undefined){g.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}}setTimeout(function(){B(g.jqxDateTimeInput("dateTimeInput"))},10)}break;case"numberinput":if(this.host.jqxNumberInput){b.innerHTML="";var j=this.editors["numberinput_"+d.datafield];g=j==undefined?a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):j;g.show();g.css("top",a(b).parent().position().top);g.css("left",-h+parseInt(a(b).position().left));if(j==undefined){g.prependTo(this.table);g[0].id="numbereditor"+this.element.id+d.datafield;var x="";var u="left";if(d.cellsformat){if(d.cellsformat.indexOf("c")!=-1){x=this.gridlocalization.currencysymbol}else{if(d.cellsformat.indexOf("p")!=-1){x=this.gridlocalization.percentsymbol;u="right"}}}g.jqxNumberInput({inputMode:"simple",theme:this.theme,width:t.width()-1,height:t.height()-1,spinButtons:true,symbol:x,symbolPosition:u});this.editors["numberinput_"+d.datafield]=g;if(d.createeditor){d.createeditor(l,r,g)}}if(d._requirewidthupdate){g.jqxNumberInput({width:t.width()-2})}if(z){if(r!=""){var c=r;g.jqxNumberInput("setDecimal",c)}else{g.jqxNumberInput("setDecimal",0)}if(this.editcell.defaultvalue!=undefined){g.jqxNumberInput("setDecimal",this.editcell.defaultvalue)}if(this.editchar&&this.editchar.length>0){var s=parseInt(this.editchar);if(!isNaN(s)){g.jqxNumberInput("setDecimal",s)}}setTimeout(function(){B(g.jqxNumberInput("numberInput"));g.jqxNumberInput("_setSelectionStart",0);if(D.editchar){if(d.cellsformat.length>0){g.jqxNumberInput("_setSelectionStart",2)}else{g.jqxNumberInput("_setSelectionStart",1)}D.editchar=null}else{var E=g.jqxNumberInput("spinButtons");if(E){var F=g.jqxNumberInput("numberInput").val();D._setSelection(g.jqxNumberInput("numberInput")[0],F.length,F.length)}else{var F=g.jqxNumberInput("numberInput").val();D._setSelection(g.jqxNumberInput("numberInput")[0],0,F.length)}}},10)}}break;case"textbox":default:b.innerHTML="";g=this.editors["textboxeditor_"+d.datafield]||a("<input 'type='textbox' id='textboxeditor'/>");g[0].id="textboxeditor"+this.element.id+d.datafield;g.appendTo(t);if(z){g.addClass(this.toThemeProperty("jqx-input"));g.addClass(this.toThemeProperty("jqx-widget-content"));if(this.editchar&&this.editchar.length>0){g.val(this.editchar)}else{g.val(r)}if(this.editcell.defaultvalue!=undefined){g.val(this.editcell.defaultvalue)}g.width(t.width());g.height(t.height());if(d.createeditor){d.createeditor(l,r,g)}}this.editors["textboxeditor_"+d.datafield]=g;if(z){setTimeout(function(){B(g);if(D.editchar){D._setSelection(g[0],1,1);D.editchar=null}else{D._setSelection(g[0],0,g.val().length)}},10)}break}if(z){if(d.initeditor){d.initeditor(l,r,g)}}if(g){g.css("display","block");this.editcell.editor=g}},_setSelection:function(d,g,b){try{if("selectionStart" in d){d.setSelectionRange(g,b)}else{var c=d.createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",g);c.select()}}catch(e){var f=e}},_hidecelleditor:function(){if(this.editrow){return}if(!this.editcell){return}if(this.editcell.columntype=="checkbox"){return}if(this.editcell.editor){this.editcell.editor.hide();switch(this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({hideDelay:0});this.editcell.editor.jqxDropDownList("hideListBox");this.editcell.editor.jqxDropDownList({hideDelay:400});break;case"datetimeinput":var b=this.editcell.editor;if(b.jqxDateTimeInput("isOpened")){b.jqxDateTimeInput({hideDelay:0});b.jqxDateTimeInput("hideCalendar");b.jqxDateTimeInput({hideDelay:400})}break}}if(this.validationpopup){this.validationpopup.hide();this.validationpopuparrow.hide()}if(!this.isNestedGrid){this.element.focus()}},_geteditorvalue:function(d){var f=new String();if(this.editcell.editor){switch(d.columntype){case"textbox":default:f=new String(this.editcell.editor.val());break;case"datetimeinput":if(this.editcell.editor.jqxDateTimeInput){this.editcell.editor.jqxDateTimeInput({isEditing:false});f=this.editcell.editor.jqxDateTimeInput("getDate").toString();f=new Date(f);if(f==null){f==""}}break;case"dropdownlist":if(this.editcell.editor.jqxDropDownList){var b=this.editcell.editor.jqxDropDownList("selectedIndex");var e=this.editcell.editor.jqxDropDownList("getItem",b);if(e){f=new String(e.label)}else{f=""}if(f==null){f=""}}break;case"numberinput":if(this.editcell.editor.jqxNumberInput){var c=this.editcell.editor.jqxNumberInput("getDecimal");f=new Number(c);f=parseFloat(f);if(isNaN(f)){f=0}}break}}return f},_showvalidationpopup:function(o,d,p){var j=this.editcell.editor;if(!j){return}if(!this.validationpopup){var n=a("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>");var l=a("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(p);l.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));n.addClass(this.toThemeProperty("jqx-grid-validation"));n.addClass(this.toThemeProperty("jqx-rc-all"));n.prependTo(this.table);l.prependTo(this.table);this.validationpopup=n;this.validationpopuparrow=l}else{this.validationpopup.html(p)}var f=this.hScrollInstance;var h=f.value;var e=parseInt(h);this.validationpopup.css("top",parseInt(a(this.editcell.element).parent().position().top)+30+"px");var b=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",b-12);this.validationpopuparrow.removeClass();this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));if(b>this._gettableheight()){this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));b=parseInt(a(this.editcell.element).parent().position().top)-30;this.validationpopup.css("top",b+"px");this.validationpopuparrow.css("top",b+this.validationpopup.outerHeight()-9)}var k=-e+parseInt(a(this.editcell.element).position().left);this.validationpopuparrow.css("left",k+30);var c=this.validationpopup.width();if(c+k>this.host.width()-20){var g=c+k-this.host.width()+40;k-=g}this.validationpopup.css("left",k);this.validationpopup.show();this.validationpopuparrow.show()}})})(jQuery);